(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"++Jc":function(e,t,a){},"+G3m":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=(c=d)&&c.__esModule?c:{default:c};var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"render",value:function(){return p.default.createElement("div",null,this.props.children)}}]),t}();t.default=f},"+MLC":function(e,t,a){"use strict";var n=c(a("mvHQ")),r=c(a("fZjL")),o=c(a("Zzip")),i=c(a("pFYg")),l=c(a("5QVw")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=("function"==typeof l.default&&(0,i.default)(o.default),f(a("GHKy"))),p=f(a("BYKG"));function f(e){return e&&e.__esModule?e:{default:e}}var m=["","commonInvoice","taxInvoice","electronInvoice"],h={common:1,tax:2,electron:3},g={NORMAL:"common",VAT:"tax",ELEC:"electron"},v={load:!0,update:!0,data:"",origin:"",invoiceType:"electron",invoiceSelData:[{text:"电子发票",type:"electron",able:!0},{text:"普通发票",type:"common",able:!0},{text:"增值税发票",type:"tax",able:!0}],invoiceContent:[],invoiceId:"",showModal:!1,invoiceNote:!1,userForm:null,commonInvoice:{postData:{action:1,invoice_name1:"个人",invoice_name2:"",invoice_content:1,contentText:"明细"},status:{infoMore:!1}},commonInvoice_1:{postData:{action:1,invoice_name1:"个人",invoice_name2:"",invoice_content:1,contentText:"明细"},status:{infoMore:!1}},commonInvoice_2:{postData:{action:2,invoice_name1:"个人",invoice_name2:"",invoice_content:1,contentText:"明细"},status:{infoMore:!1}},electronInvoice:{postData:{action:1,invoice_name1:"个人",invoice_name2:"",invoice_content:1,contentText:"明细"},status:{infoMore:!1}},electronInvoice_1:{postData:{action:1,invoice_name1:"个人",invoice_name2:"",invoice_content:1,contentText:"明细"},status:{infoMore:!1}},electronInvoice_2:{postData:{action:2,invoice_name1:"个人",invoice_name2:"",invoice_content:1,contentText:"明细"},status:{infoMore:!1}},taxInvoice:{postData:{action:2,invoice_content:1,contentText:"明细"}},taxInvoice_1:{postData:{action:2,invoice_content:1,contentText:"明细"}},taxInvoice_2:{postData:{action:2,invoice_content:1,contentText:"明细"}},prompt:{show:!1,msg:""}};t.default=(0,d.default)("invoiceSelect",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments[1];switch(t.type){case"resetState":return v;case"updateState":return u({},e,{update:!0});case"initialPage":return function(e,t,a,o){var i=p.default.fromJS(e);if(0!==t.code)return(i=i.set("prompt",{show:!0,msg:t.msg})).toJS();i=(i=i.set("load",!1)).set("update",!1);var l=t.data,c=i.get("invoiceSelData").toJS().map(function(e,t){return l.invoice.shop_invoice.invoice_type.indexOf(h[e.type])>-1?e.able=!0:e.able=!1,e});i=(i=i.set("invoiceSelData",c)).set("invoiceContent",l.invoice.shop_invoice.invoice_content);var u=l.invoice.user_invoice,d=l.invoice.user_address;return d&&(0,r.default)(d).length>0&&(i=(i=(i=(i=i.setIn(["taxInvoice","postData","receiver_address"],d.address)).setIn(["taxInvoice","postData","receiver_name"],d.name)).setIn(["taxInvoice","postData","receiver_region"],d.area?(0,n.default)(d.area):"")).setIn(["taxInvoice","postData","receiver_tel"],d.mobile)),u&&u.length>0&&(i=i.set("userForm",u),u.map(function(e){i=i.updateIn([m[e.type]+"_"+e.action,"postData"],function(t){return t&&t.toJS?(0,s.default)(t.toJS(),e):(0,s.default)(t,e)})})),i=i.set("invoiceType",g[a]),(i=(i=p.default.fromJS(i.toJS())).setIn([g[a]+"Invoice","postData","action"],o)).toJS()}(e,t.data,t.invoice,t.action);case"setOrigin":return u({},e,{origin:t.origin});case"changeType":return u({},e,{invoiceType:t.invoiceType});case"ctrlPrompt":return u({},e,{prompt:u({},t.prompt)});case"popupNote":return u({},e,{invoiceNote:t.status});case"changeStatus":return function(e,t){if(e[t.invoiceType].status[t.key]===t.value)return e;var a=p.default.fromJS(e);return(a=a.setIn([t.invoiceType,"status",[t.key]],t.value)).toJS()}(e,t);case"modalCtrl":return u({},e,{showModal:t.status});case"selectAddress":return function(e,t){var a={};a.receiver_region=t.area_string,a.receiver_addr=t.addr,a.receiver_tel=t.mobile,a.receiver_name=t.name;var n=p.default.fromJS(e);return(n=n.updateIn(["taxInvoice","postData"],function(e){return(0,s.default)(e.toJS(),a)})).toJS()}(e,t.data);case"modalSelect":return function(e,t){if(e[t.selectType].content===t.obj.id)return e;var a=p.default.fromJS(e);return(a=(a=a.setIn([t.selectType,"content"],t.obj.id)).setIn([t.selectType,"contentText"],t.obj.text)).toJS()}(e,t);case"changeForm":return function(e,t){if(e[t.mode].postData[t.name]===t.value)return e;var a=p.default.fromJS(e);return(a=a.setIn([t.mode,"postData",t.name],t.value)).toJS()}(e,t);default:return e}},v)},"+Rhp":function(e,t,a){},"+ecx":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={load:!0,tid:"",oid:"",refund:"",paymentLarg:"",listType:"SELECT",reasonList:[],reason:"0",money:"",description:"",popup:"",popupShow:!1,imgArr:[],subArr:[],modal:{show:!1,msg:"",modalSure:""},data:""};t.default=(0,l.default)("afterSaleApply",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"resetData":return i({},s,t.query);case"getDataSuccess":return i({},e,{load:!1,data:t.result.data,money:t.result.data.payment,paymentLarg:t.result.data.payment});case"ctrlModal":return i({},e,{modal:i({},t.modal)});case"changeMoney":return i({},e,{money:t.money});case"changeDescribe":return i({},e,{description:t.description});case"ctrlPopup":return i({},e,{popup:t.popup,popupShow:t.show});case"hidePopup":return i({},e,{popupShow:t.show});case"reasonChange":return i({},e,{reason:t.reason,popupShow:!1});case"setImgArr":return i({},e,{imgArr:t.imgArr});case"setsubImgArr":return i({},e,{subArr:t.subArr});case"typeChange":return i({},e,{listType:t.listType,reasonList:t.reasonList,popupShow:!1});default:return e}},s)},"+uJX":function(e,t){e.exports="data:image/png;base64,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"},"/o4W":function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SubmitBtn=t.ReasonChoose=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=w(p),m=a("4n+p"),h=a("d2xe"),g=a("NUeF"),v=a("Zfgq"),y=a("f2Hk"),_=a("fw66"),E=w(a("qAHI")),b=a("5qLU");function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var x={init:{url:b.WXAPI+"/user/order/info",method:"get"},cancel:{url:b.WXAPI+"/user/order/cancelCloseOrder",method:"post"}},C=(0,y.concatPageAndType)("orderCancel"),S=(0,y.actionAxios)("orderCancel"),M=function(t){function a(){return k(this,a),A(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return N(a,p.Component),d(a,[{key:"componentWillMount",value:function(){this.props.resetData(),this.props.getData()}},{key:"render",value:function(){return this.props.load?f.default.createElement(h.LoadingRound,null):f.default.createElement("div",{"data-page":"order-cancel",style:{minHeight:e(window).height()}},f.default.createElement(T,{data:this.props.data}),f.default.createElement(I,{changeReason:this.props.changeReason,otherReason:this.props.otherReason,cancel_reason:this.props.cancel_reason}),f.default.createElement(P,{submitHandle:this.props.cancelSubmit,btnText:"取消订单"}),f.default.createElement(_.PopupTip,{active:this.props.prompt.show,msg:this.props.prompt.msg,onClose:this.props.promptClose}))}}]),a}(),T=function(e){function t(){return k(this,t),A(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data;console.log(e);var t=e.discount_summary,a=void 0===t?{}:t,n=e.no,r=e.total_fee,o=e.post_fee,i=e.tax_fee,l=a.coupon,s=void 0===l?0:l,c=a.hb,u=void 0===c?0:c,d=a.promotion,p=void 0===d?0:d;return f.default.createElement("div",{className:"cancel-top"},f.default.createElement("div",{className:"list-top g-row-flex"},f.default.createElement("div",{className:"left g-col-1"},"订单号：",n),f.default.createElement("div",{className:"right "},g.ordermainStatusMap[e.status])),f.default.createElement("div",{className:"list-mid"},f.default.createElement("div",{className:"li  g-row-flex"},f.default.createElement("div",{className:"left"},"商品总额")," ",f.default.createElement("div",{className:"right g-col-1"},"¥",(+Number(r)).toFixed(2))),f.default.createElement("div",{className:"li  g-row-flex"},f.default.createElement("div",{className:"left"},"促销优惠"),f.default.createElement("div",{className:"right g-col-1"},"- ¥",(+p).toFixed(2))),f.default.createElement("div",{className:"li  g-row-flex"},f.default.createElement("div",{className:"left"},"运费"),f.default.createElement("div",{className:"right g-col-1"},"+ ¥",(+o).toFixed(2))),f.default.createElement("div",{className:"li  g-row-flex"},f.default.createElement("div",{className:"left"},"税费"),f.default.createElement("div",{className:"right g-col-1"},"+ ¥",(+i).toFixed(2))),f.default.createElement("div",{className:"li  g-row-flex"},f.default.createElement("div",{className:"left"},"优惠券抵扣"),f.default.createElement("div",{className:"right g-col-1"},"- ¥",(+s).toFixed(2))),f.default.createElement("div",{className:"li g-row-flex"},f.default.createElement("div",{className:"left"},"红包抵扣"),f.default.createElement("div",{className:"right g-col-1"},"- ¥",(+u).toFixed(2)))))}}]),t}(),I=t.ReasonChoose=function(e){function t(){return k(this,t),A(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,p.Component),d(t,[{key:"render",value:function(){console.log("取消理由列表cancel_reason",t);var e=this.props,t=e.cancel_reason,a=e.changeReason,n=(e.otherReason,g.reasonList.map(function(e){return f.default.createElement("div",{key:e.name,className:"list c-clrfix",onTouchTap:function(t){a(e.name)}},f.default.createElement("div",{className:"text"},e.text),f.default.createElement("div",{className:"choose"},t===e.name?f.default.createElement("i",{className:"current-green-icon"}," "):f.default.createElement("i",{className:"current-no-icon"}," ")))}));return f.default.createElement("div",{className:"reason-choose"},f.default.createElement("div",{className:"reason-list"},n))}}]),t}(),P=t.SubmitBtn=function(e){function t(){return k(this,t),A(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return N(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.cancel_reason,a=e.btnText,n=e.submitHandle;return f.default.createElement("div",{className:t?"btm-btn  colour-btn":"btm-btn",onClick:t?n:""},a)}}]),t}();t.default=(0,m.connect)(function(e,t){return u({},e.popup,e.orderCancel,{tid:t.location.query.tid})},function(e,t){var a=t.location.query.tid;return{dispatch:e,resetData:function(){e(C("resetData"))},getData:function(){e(S("getData",u({},x.init,{params:{no:a}})))},changeReason:function(t){e(C("changeReason",{reason:t}))},otherReason:function(t){e(C("otherReason",{value:t}))},promptClose:function(){e((0,y.popupActions)("ctrlPrompt",{prompt:{show:!1,msg:""}}))}}},function(e,t,a){var n=!1,r=t.dispatch;return u({},e,t,a,{cancelSubmit:function(){n||(e.cancel_reason?"other"!==e.cancel_reason||e.other_reason.trim()?(n=!0,e.cancel_reason="other"===e.cancel_reason?e.other_reason.trim():g.reasonList[e.cancel_reason].text,E.default.request(u({},x.cancel,{params:{no:e.tid,closeDesc:e.cancel_reason}})).then(function(e){var t=e.data;console.log(t),r((0,y.popupActions)("ctrlPrompt",{prompt:{show:!0,msg:t.message||"取消成功"}})),0===t.code?setTimeout(function(){v.browserHistory.push("/tradeList/0")},1e3):n=!1}).catch(function(e){console.log(e),r((0,y.popupActions)("ctrlPrompt",{prompt:{show:!0,msg:"服务器繁忙"}}))})):r((0,y.popupActions)("ctrlPrompt",{prompt:{show:!0,msg:"请填写取消订单的理由"}})):r((0,y.popupActions)("ctrlPrompt",{prompt:{show:!0,msg:"请选择取消订单的理由"}})))}})})(M)}).call(this,a("OOjC"))},"0+SJ":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=v(a("U7vG")),m=v(a("211U")),h=a("wj5X"),g=v(a("Mqso"));function v(e){return e&&e.__esModule?e:{default:e}}var y=(0,m.default)(g.default,{allowMultiple:!0})((d=u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,h.PureComponent),p(t,[{key:"render",value:function(){var e=this.props;return f.default.createElement("div",{styleName:"errorPage",style:{zIndex:e.zIndex}},f.default.createElement("div",{styleName:"content"},f.default.createElement("div",null,f.default.createElement("img",{src:e.imgUrl,width:e.imgWidth,height:e.imgWidth})),f.default.createElement("p",{className:"c-fs12 c-cc9 c-mt10"},e.text),f.default.createElement("div",{styleName:"reloadBtn",style:e.btnStyle,onClick:this.props.btnClick},e.btnText)))}}]),t}(),u.defaultProps={text:"网络异常，点击重试~",btnText:"重新加载",link:"",imgUrl:a("+uJX"),imgWidth:110,imgHeight:110,btnStyle:{},zIndex:0,btnClick:function(){}},c=d))||c;t.default=y},"03xW":function(e,t,a){"use strict";var n=o(a("C4MV")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,l=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a("GHKy"),c=(i=s)&&i.__esModule?i:{default:i},u=a("Zfgq");function d(e,t,a){return t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p={load:!0,data:"",modal:{show:!1,msg:"",modalSure:""},msg:"",hasMore:!0,sending:!1,page:2,Know:!1};t.default=(0,c.default)("afterSaleList",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments[1];switch(a.type){case"resetData":return p;case"getDataSuccess":return 401===a.result.code?(u.browserHistory.replace("/login?redirect_uri="+encodeURIComponent("/afterSale/list")),t):l({},t,{load:!1,data:a.result.data.list,hasMore:!(a.result.data.pager.total_page<=a.cbData.page)});case"addDataSuccess":return 0!==a.result.code?l({},t,{sending:!1}):l({},t,{load:!1,data:t.data.concat(a.result.data.list),hasMore:!(a.result.data.pager.total_page<=a.cbData.page),page:t.page+1,sending:!1});case"ctrlModal":return l({},t,(d(e={},a.modal,a.status),d(e,"msg",a.msg),e));case"changeSending":return l({},t,{sending:l({},a.tof)});default:return t}},p)},"0WfC":function(e,t){!function(e){"use strict";var t=window,a=document,n=e(t),r=e(a);e.fn.dropload=function(e){return new o(this,e)};var o=function(e,t){var a=this;a.$element=e,a.upInsertDOM=!1,a.loading=!1,a.isLockUp=!1,a.isLockDown=!1,a.isData=!0,a._scrollTop=0,a._threshold=0,a.init(t)};function i(e){e.touches||(e.touches=e.originalEvent.touches)}function l(e){e.opts.autoLoad&&e._scrollContentHeight-e._threshold<=e._scrollWindowHeight&&c(e)}function s(e){e.opts.scrollArea==t?e._scrollContentHeight=r.height():e._scrollContentHeight=e.$element[0].scrollHeight}function c(e){e.direction="up",e.$domDown.html(e.opts.domDown.domLoad),e.loading=!0,e.opts.loadDownFn(e)}function u(e,t){e.css({"-webkit-transition":"all "+t+"ms",transition:"all "+t+"ms"})}o.prototype.init=function(o){var s=this;s.opts=e.extend(!0,{},{scrollArea:s.$element,domUp:{domClass:"dropload-up",domRefresh:'<div class="dropload-refresh">↓下拉刷新</div>',domUpdate:'<div class="dropload-update">↑释放更新</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>'},domDown:{domClass:"dropload-down",domRefresh:'<div class="dropload-refresh">↑上拉加载更多</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>',domNoData:'<div class="dropload-noData">别拉了，我是有底线的~</div>'},autoLoad:!0,distance:50,threshold:"",loadUpFn:"",loadDownFn:""},o),""!=s.opts.loadDownFn&&(s.$element.append('<div class="'+s.opts.domDown.domClass+'">'+s.opts.domDown.domRefresh+"</div>"),s.$domDown=e("."+s.opts.domDown.domClass)),s.$domDown&&""===s.opts.threshold?s._threshold=Math.floor(1*s.$domDown.height()/3):s._threshold=s.opts.threshold,s.opts.scrollArea==t?(s.$scrollArea=n,s._scrollContentHeight=r.height(),s._scrollWindowHeight=a.documentElement.clientHeight):(s.$scrollArea=s.opts.scrollArea,s._scrollContentHeight=s.$element[0].scrollHeight,s._scrollWindowHeight=s.$element.height()),l(s),s.$element.on("touchstart",function(e){s.loading||(i(e),function(e,t){t._startY=e.touches[0].pageY,t.touchScrollTop=t.$scrollArea.scrollTop()}(e,s))}),s.$element.on("touchmove",function(t){s.loading||(i(t),function(t,a){a._curY=t.touches[0].pageY,a._moveY=a._curY-a._startY,a._moveY>0?a.direction="down":a._moveY<0&&(a.direction="up");var n=Math.abs(a._moveY);""!=a.opts.loadUpFn&&a.touchScrollTop<=0&&"down"==a.direction&&!a.isLockUp&&(t.preventDefault(),a.$domUp=e("."+a.opts.domUp.domClass),a.upInsertDOM||(a.$element.prepend('<div class="'+a.opts.domUp.domClass+'"></div>'),a.upInsertDOM=!0),u(a.$domUp,0),n<=a.opts.distance?(a._offsetY=n,a.$domUp.html(a.opts.domUp.domRefresh)):n>a.opts.distance&&n<=2*a.opts.distance?(a._offsetY=a.opts.distance+.5*(n-a.opts.distance),a.$domUp.html(a.opts.domUp.domUpdate)):a._offsetY=a.opts.distance+.5*a.opts.distance+.2*(n-2*a.opts.distance),a.$domUp.css({height:a._offsetY}))}(t,s))}),s.$element.on("touchend",function(){s.loading||function(t){var a=Math.abs(t._moveY);""!=t.opts.loadUpFn&&t.touchScrollTop<=0&&"down"==t.direction&&!t.isLockUp&&(u(t.$domUp,300),a>t.opts.distance?(t.$domUp.css({height:t.$domUp.children().height()}),t.$domUp.html(t.opts.domUp.domLoad),t.loading=!0,t.opts.loadUpFn(t)):t.$domUp.css({height:"0"}).on("webkitTransitionEnd mozTransitionEnd transitionend",function(){t.upInsertDOM=!1,e(this).remove()}),t._moveY=0)}(s)}),s.scrollEvent=function(){s._scrollTop=s.$scrollArea.scrollTop(),""!=s.opts.loadDownFn&&!s.loading&&!s.isLockDown&&s._scrollContentHeight-s._threshold<=s._scrollWindowHeight+s._scrollTop&&c(s)},s.$scrollArea.on("scroll",s.scrollEvent)},o.prototype.lock=function(e){var t=this;void 0===e?"up"==t.direction?t.isLockDown=!0:"down"==t.direction?t.isLockUp=!0:(t.isLockUp=!0,t.isLockDown=!0):"up"==e?t.isLockUp=!0:"down"==e&&(t.isLockDown=!0,t.direction="up")},o.prototype.unlock=function(){this.isLockUp=!1,this.isLockDown=!1,this.direction="up"},o.prototype.noData=function(e){void 0===e||1==e?this.isData=!1:0==e&&(this.isData=!0)},o.prototype.resetload=function(){var t=this;"down"==t.direction&&t.upInsertDOM?t.$domUp.css({height:"0"}).on("webkitTransitionEnd mozTransitionEnd transitionend",function(){t.loading=!1,t.upInsertDOM=!1,e(this).remove(),s(t)}):"up"==t.direction&&(t.loading=!1,t.isData?(t.$domDown.html(t.opts.domDown.domRefresh),s(t),l(t)):t.$domDown.html(t.opts.domDown.domNoData))},o.prototype.remove=function(){var e=this;e.$element&&(e.$element.unbind("touchstart"),e.$element.unbind("touchmove"),e.$element.unbind("touchend")),e.$scrollArea&&e.$scrollArea.unbind("scroll",e.scrollEvent)}}(window.Zepto||window.jQuery)},"0aIc":function(e,t,a){"use strict";var n=o(a("gRE1")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG"));function s(e){return e&&e.__esModule?e:{default:e}}var c={errorState:!0,from:"",nav:"collection",filterUpdate:!0,goodListUpdate:!1,windowHeight:0,load:!1,init:!1,isQuickSelect:!1,keyWord:"",param:{},searchData:"",currentPage:"",totalPage:"",categoriesList:[],manage:!1,ifChooseAll:!1,delCount:0,shady:!1,DisGoods:1,defaultNoSave:!1,noSave:!1};t.default=(0,l.default)("goodCollection",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"isError":return i({},e,{errorState:t.errorState});case"setFrom":return i({},e,{from:t.from});case"setNav":return i({},e,{nav:t.nav});case"setFilterUpdate":return i({},e,{filterUpdate:t.filterUpdate});case"setGoodListUpdate":return i({},e,{goodListUpdate:t.goodListUpdate});case"windowHeight":return i({},e,{windowHeight:t.windowHeight});case"setInit":return i({},e,{init:t.init});case"resetState":return i({},c,{keyWord:t.keyWord,searchType:t.searchType});case"setInitItem":return i({},e,{categoriesList:t.result.data.statistics?(0,n.default)(t.result.data.statistics):[]});case"isLoad":return i({},e,{load:t.load});case"setData":return function(e,t,a){var o=(0,r.default)({},i({},e),{load:!0,goodsList:t.data.item_list});return a&&t.data.statistics&&(o=(0,r.default)({},o,{categoriesList:(0,n.default)(t.data.statistics)||[]})),o}(e,t.result,t.filterUpdate);case"setSearch":return function(e,t){var a=i({},e.searchData,t);return i({},e,{searchData:a})}(e,t.searchData);case"concatData":return function(e,t){return e.goodsList=e.goodsList.concat(t.data.item_list),e}(e,t.result);case"setCurrentPage":return i({},e,{currentPage:t.current});case"setTotalPage":return i({},e,{totalPage:t.total});case"toggleQuickSelect":return i({},e,{isQuickSelect:t.isQuickSelect});case"toggleManage":return i({},e,{manage:t.manage});case"changeChooseAll":return i({},e,{ifChooseAll:t.ifchooseAll});case"delCount":return i({},e,{delCount:t.delCount});case"shady":return i({},e,{shady:t.shady});case"defaultNoSave":return i({},e,{defaultNoSave:t.defaultNoSave});case"noSave":return i({},e,{noSave:t.noSave});default:return e}},c)},"0fAc":function(e,t,a){e.exports={redLabel:"_3KkE2gn-QT9fLoYLwFKAgS",greyLabel:"_18XOPbu196kpZRhmvLkdTw",bgLabel:"_2jTBUu2COElXSjvZDMDoo0"}},"14IH":function(e,t,a){},"1GTC":function(e,t){e.exports="data:image/png;base64,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"},"1H2n":function(e,t,a){},"1N3E":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG")),a("Zfgq");function s(e){return e&&e.__esModule?e:{default:e}}var c={keyWord:"",param:{},searchHistory:[],hotList:[],compList:[],prompt:{show:!1,msg:""}};t.default=(0,l.default)("qygSearch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"keyCtrl":return i({},e,{keyWord:t.key});case"paramCtrl":return i({},e,{param:t.param});case"listCtrl":return i({},e,{compList:t.list});case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});case"historyCtrl":return i({},e,{searchHistory:t.history});case"initPlaceHolderSuccess":return i({},e,{placeHolder:t.result.data});case"updateHotSuccess":return i({},e,{hotList:t.result.data});case"searchCptSuccess":return i({},e,{compList:t.result.data.suggests});default:return e}},c)},"1RZ3":function(e,t,a){},"1ThR":function(e,t,a){e.exports={itemSwipe:"_1uoWQ_Nw68_xzntuNlNDyS",header:"_3KEo35QKw-BOaEVD3Q66gI",hText:"_1bJ0cP_pPnsTljUOWyC4n_",hCtrl:"Sn3J5q0G3wJNpsNLUCQlu",redCycle:"dyFAzsa9uXhgjxKjL2ayI",cycleActive:"_24KDOpYtr9Dxb9gSNUYspf",swipeWrapper:"_3ooEAhSBx0-m6me9kg2az6",swipeBox:"_3d4jfMqYfT9eRZGlM4-uQy",swipeContent:"W51n25lp4RO7r6sO0gHzC",item:"_3i5C6D3aFxXd85AjaZ8y_Z",title:"_3UXVAlx8zmcBqx-A-ojcTe",price:"_2kC8uuZDkmsu-RmBBEbHKv",label:"_1ESZQj5spzD7du-G4Cuk-U"}},"1V5p":function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=E(p),m=a("Zfgq"),h=a("d2xe"),g=E(a("qAHI")),v=a("5qLU");a("SUwM");var y=a("6quk"),_=a("Hl9d");function E(e){return e&&e.__esModule?e:{default:e}}var b={payQuery:{url:v.WXAPI+"/payment/status",method:"get"}},w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.toList=function(){m.browserHistory.replace("/tradeList/0")},a.state={load:!0,status:""},a.tid=e.location.query.tid,a.paymentNo=e.location.query.paymentId,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,p.Component),d(t,[{key:"componentWillMount",value:function(){var e=this;g.default.request(u({},b.payQuery,{params:{payment_no:this.props.location.query.paymentId}})).then(function(t){(t=t.data.data).status,e.setState({load:!1,status:t.status})}).catch(function(e){y.tip.show({msg:e.response.data.message||"服务器繁忙"}),setTimeout(function(){m.browserHistory.push("/tradeList/0")},2e3)})}},{key:"render",value:function(){var e=this.state,t=e.status;return e.load?f.default.createElement(h.LoadingRound,null):f.default.createElement("div",{"data-page":"pay-result"},f.default.createElement("div",{className:"pay-result"},f.default.createElement("p",null,f.default.createElement("img",{src:"/src/img/icon/agree/current-round-icon.png",width:"40",height:"40"})),f.default.createElement("p",{className:"c-fs18",style:{lineHeight:"32px"}},3===t?"订单支付成功":"订单处理中"),f.default.createElement("p",{className:"c-cc9 c-fs10"},"我们将尽快为您安排, 祝您购物愉快"),f.default.createElement("p",null,f.default.createElement("a",{className:"colour-btn",href:"javascript：void(0)",onClick:function(){(0,_.miniProgramLogin)()}},"继续购买")),f.default.createElement("div",null,f.default.createElement("div",{className:"look-order",onClick:this.toList},"查看订单"))))}}]),t}();t.default=w},"2JAf":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=(c=d)&&c.__esModule?c:{default:c},f=a("fw66");a("YYe9");var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.promptClose=function(){a.isMount&&a.setState({tip:!1})},a.state={tip:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentDidMount",value:function(){this.setState({tip:!0}),this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){return p.default.createElement("div",{"data-page":"agreement",className:"agreement",onClick:this.props.onClose},p.default.createElement("div",{dangerouslySetInnerHTML:{__html:'<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 0em; text-align: center;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><strong><span style="font-size: 16px;">进口个人委托申报协议</span></strong></span></p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;">本人承诺所购买商品系个人合理自用，针对保税区发货的各种商品，现委托商家代理申报，代缴税款等通关事宜，本人保证遵守《海关法》和国家相关法律法规，保证所提供的身份信息和收货信息真实完整，无侵犯他人权益的行为，以上委托关系如实填写，本人愿意接受海关、检验检疫机构及其他监管部门的监管，并承担相应法律责任。</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 0em; text-align: center;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><strong><span style="font-size: 16px; font-family: 微软雅黑;">泰然城用户协议</span></strong></span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;">欢迎加入泰然城，开始您的幸福购物之旅！</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">感谢您使用我们的服务。泰然城的各项服务由泰然城电子商务有限公司提供，服务所有权和运营权属于泰然城电子商务有限公司（泰然城平台包括泰然城网站www.tairanmall.com和客户端），以下称为“泰然城”或“本站”。</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255); text-indent: 2em;">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><span style="font-size: 14px;">泰然城在此特别提醒用户，《泰然城用户协议》（以下简称“本协议”）为您与泰然城平台经营者之间所订立的契约，具有合同的法律效力。</span><strong><span style="font-size: 14px;">您在使用泰然城提供的各项服务之前，应仔细阅读本协议的各项条款，特别是加粗的涉及您核心利益的条款、免除或者限制责任的条款、法律适用和争议解决条款。</span></strong><span style="font-size: 14px;">您一旦使用泰然城服务，即视为您已了解并完全同意本协议各项内容，包括泰然城对本协议随时所做的任何修改，并成为泰然城用户（以下简称“您”或“用户”）。 届时您不应以未阅读本协议的内容为理由，主张本协议无效，或要求撤销本协议。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"><strong><span style="font-size: 14px;"></span></strong></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">一、服务内容</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.用户注册成功后，即成为泰然城的会员，可享受泰然城为您提供的服务，可以在泰然城上进行购物、订单查询、参加各项优惠活动、发表产品评论等。请记住您的注册手机号，它是您在泰然城的唯一识别，您的任何投诉、问题、购买记录，均采用这个注册手机号处理。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.用户必须自行准备如下设备和承担如下开支：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.1上网设备，包括并不限于电脑或者其他上网终端、调制解调器及其他必备的上网装置；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.2上网开支，包括并不限于网络接入费、上网设备租用费、手机流量费等。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.泰然城有权不断更改和改进服务，包括增加、删除某项服务，或暂停、彻底停止某项服务。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">二、用户注册及使用规则</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.注册资格</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">用户须为具有法定的相应权利能力和行为能力的自然人、法人或其他组织，能够独立承担法律责任，如用户不具备前述与用户行为相适应的民事行为能力，则用户及用户的监护人应依照法律规定承担因此而导致的一切后果。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.个人信息</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.1 用户同意泰然城为提供更好的服务，向您搜集姓名/名称、地址、手机号码等个人信息，泰然城将搜集的前述信息用于精准服务和相关的信息推送。用户同意其提供的注册资料真实、准确、完整、合法有效，用户个人信息如有变动的，应及时更新个人信息。泰然城有权通过征信机构、银行卡绑定等方式，对您提交的身份信息的真实性进行验证。如果用户提供的注册资料不合法、不真实、不准确、不详尽的，用户需承担因此引起的相应责任及后果，并且泰然城保留终止用户使用本平台各项服务的权利。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.2 用户设置的会员名不得违反国家法律法规的规定以及侵犯或涉嫌侵犯他人合法权益。泰然城有权对用户名等用户注册信息进行审核并向用户反馈注册结果，只有经泰然城审核同意并反馈确认的才成为泰然城的用户，并享有泰然城提供的各项服务。否则，泰然城有权终止向用户提供泰然城平台服务，注销账户。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.3 用户在本站进行浏览、下单购物等活动时，涉及用户真实姓名/名称、通信地址、联系电话等隐私信息的，本站将予以严格保密，除非得到用户的授权或法律另有规定，本站不会向外界披露用户隐私信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.账户</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">3.1 用户注册成功后，将产生泰然城用户名和密码等账户信息，用户可以根据本站规定改变密码。用户应谨慎合理的保存、使用用户名和密码。如账户因您主动泄露或遭受他人诈骗等行为导致的损失及后果，均由您自行承担，如用户账号遭受他人攻击而导致损失的，泰然城网和用户将根据双方的过错依法承担相应的责任。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">3.2 您确认并同意，在您的账户登录状态下进行的所有操作均视为您本人的操作，您应对您账户项下的所有行为结果（包括但不限于在线签署各类协议、发布信息、购买商品及服务及披露信息等）负责。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.3 用户不得将在本站注册获得的账户借给他人使用，否则用户应承担由此产生的全部责任，并与实际使用人承担连带责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.使用规则</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.1 用户在使用泰然城服务过程中实施的所有行为均应遵守中华人民共和国法律、法规等规范性文件及泰然城各项规则的规定和要求，不违背社会公共利益或公共道德，不损害他人的合法权益，不违反本协议及相关规则。如果违反前述承诺，产生任何法律后果的，用户应以自己的名义独立承担所有的法律责任，并确保泰然城免于因此遭受任何损失。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.2 用户确认并同意，泰然城有权在提前通过网络公示等方式对平台服务规则进行修改，用户应当在指定时间之内对相关服务规则的修改进行回复。用户未对相关修改进行反馈意见的情况下即视为同意上述修改。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.3 用户应该严格遵守泰然城的一切规则，不得出现恶意注册、恶意点评、恶意退款、恶意骗取积分等违规行为，一经发现，泰然城有权取消用户资格，并追回已经发放的全部积分，同时该用户必须承担由此给泰然城带来的所有损失。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.4 用户同意，泰然城拥有通过邮件、短信、电话，以及客户端推送等形式，向在本站注册、购物用户、收货人发送促销活动等告知信息的权利，泰然城将给予用户退订的权利，用户如不同意接收前述信息，可以通过前述信息中退订途径进行退订。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.5 用户了解并同意，泰然城有权应国家司法、行政等主管部门的要求，向其提供您在泰然城平台填写的注册信息和交易记录等必要信息。如您涉嫌侵犯他人知识产权，则泰然城亦有权在初步判断涉嫌侵权行为存在的情况下，向权利人提供您必要的身份信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.6 用户同意，泰然城有权使用用户的注册信息、用户名、密码等信息，登录进入用户的注册账户，进行证据保全，包括但不限于公证、见证等。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.7 泰然城用户账号如果一年内无登录记录，将被视为休眠账户作冻结处理；超过两年无登录记录，泰然城有权注销该账号。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.8 对于被泰然城暂时停止或者永久停止账号的用户，泰然城将不再向该用户提供服务。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.9 为便于或更好的提供服务，用户同意并授权泰然城将用户在注册、使用本站过程中提供、形成的信息传递给泰然城关联公司（关联公司指泰然城电子商务有限公司下分子公司、孙公司）或本站卖方，用于泰然城的产品/服务包含的核心业务或附加功能上，这些功能包含了网上购物所必须的功能、改进泰然城平台上的产品与/或服务功能、保障交易安全所必须的功能。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.授权使用</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.1 对于用户在注册和使用泰然城过程中提供的资料及数据信息，用户授权泰然城及其关联公司独家的、全球通用的、永久的、免费的许可使用权利（包括再授权），用途包括但不限于网站、电子杂志、杂志、刊物等。泰然城及其关联公司有权使用、复制、编辑、改写等方式处理并展示用户的数据资料。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.2您同意可以使用本站的账户信息在与本站合作的第三方网站进行注册、登录和账户绑定操作，届时您应按照第三方网站的相关协议与规则使用第三方网站，而不是按照本协议。</span><strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">第三方网站的内容、产品、广告和其他任何信息均由您自行判断并承担风险，而与本站无关。</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">三、用户依法言行义务</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.本协议依据国家相关法律法规规章制定，用户同意在注册账户和使用泰然城期间，严格遵守以下义务：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.1 不得传输或发表：煽动抗拒、破坏宪法和法律、行政法规实施的言论，煽动颠覆国家政权，推翻社会主义制度的言论，煽动分裂国家、破坏国家统一的的言论，煽动民族仇恨、民族歧视、破坏民族团结的言论；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.2 不得利用本站从事洗钱、窃取商业秘密、窃取个人信息等违法犯罪活动；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.3 不得干扰本站的正常运转，不得侵入本站及国家计算机信息系统；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.4 不得传输或发表任何违法犯罪的、骚扰性的、中伤他人的、辱骂性的、恐吓性的、伤害性的、庸俗的，淫秽的、不文明的等信息资料；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.5 不得传输或发表损害国家社会公共利益和涉及国家安全的信息资料或言论；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.6 不得教唆他人从事本条所禁止的行为；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.7 不得发布任何侵犯他人著作权、商标权等知识产权或合法权利的内容；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.8 不得发布任何泰然城认为不适合在泰然城展示的内容；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.用户应不时关注并遵守本站不时公布或修改的各类合法规则规定。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.本站保有删除站内各类不符合法律政策或不真实的信息内容的权利，并予以通知用户。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.若用户未遵守以上规定的，本站有权作出独立判断并采取暂停或关闭用户帐号等措施。用户须对自己在网上的言论和行为承担法律责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">四、订单</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.在本站购物的用户，请您仔细确认所购商品的名称、价格、数量、型号、规格、尺寸、联系地址、电话、收货人等信息。收货人与用户本人不一致的，收货人的行为和意思表示视为用户的行为和意思表示，用户应对收货人的行为及意思表示的法律后果承担连带责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2. </span><strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">除网站页面另有明确标示为自营商品外，泰然城应当被界定为本站买卖双方提供网络服务的第三方交易平台。在您与入驻商家发生的消费者权益纠纷、产品质量纠纷，均应由您先行与产品或服务的卖方解决。</span></span></strong><span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">如无法解决的，您可申请泰然城客服介入调解，泰然城不承担卖方或买方的责任。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.除法律另有强制性规定外，双方约定如下：本站上展示的商品和价格等信息仅仅是要约邀请，您下单时须填写您希望购买的商品数量、价款及支付方式、收货人、联系方式、收货地址等内容；系统生成的订单信息是计算机信息系统根据您填写的内容自动生成的数据，仅是您向品牌合作商发出的合同要约；</span><strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">本站卖方收到您的订单信息后，只有将您在订单中订购的商品从仓库实际直接向您发出时，方视为您与卖方之间就实际直接向您发出的商品建立了合同关系；</span></span></strong><span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">如果您在一份订单里订购了多种商品并且本站卖方只给您发出了部分商品时，您与本站卖方之间仅就实际直接向您发出的商品建立了合同关系；只有在本站卖方实际直接向您发出了订单中订购的其他商品时，您和本站卖方之间就订单中该其他已实际直接向您发出的商品才成立合同关系。您可以随时登录您在本站注册的账户，查询您的订单状态。</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.您了解并同意，本平台上的商品、价格、数量、是否有货等商品信息随时可能发生变动，本站不作特别通知。您接受本平台在发现网页拼写错误或系统问题导致的展示错误，正式向您发出通知后，对商品信息进行调整，订单按照正确的信息执行，或取消订单，同时若用户违反泰然城交易规则，平台管理者有权关闭或拒绝您的交易订单，泰然城承诺不滥用该条款的权利，不故意利用该条款损害用户合法权益。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.泰然城、关联公司或本站卖方将会把商品（货物）送到您所指定的收货地址。您了解本平台所提示的送货时间供参考，实际送货会与参考时间略有差异。平台管理者和所有者或其关联公司不对因您及收货人原因导致无法送货或延迟送货承担责任。若发生不可抗力或其他正当合理理由导致发货延迟的，您将给予充分理解。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px"><span style="font-family:微软雅黑">因如下情况造成订单延迟或无法配送等，泰然城或本站卖方不承担延迟配送的责任：</span></span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.1 用户提供的信息错误、地址不详细等原因导致的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.2 货物送达后无人签收，导致无法配送或延迟配送的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.3 情势变更因素导致的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;&nbsp;5.4 不可抗力因素导致的，例如：自然灾害、交通戒严、突发战争等。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">五、责任限制</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">1.除泰然城在本协议中规定的其它限制之外，在中国（“中国”指中华人民共和国，为本协议之目的不包括香港和澳门特别行政区以及台湾省）法律法规所允许的限度内，对于因用户使用服务而引起的或与之有关的任何直接的、间接的、特殊的、附带的、后果性的或惩罚性的损害，或任何其它性质的损害，泰然城、泰然城的董事、管理人员、雇员、代理或其它代表在任何情况下都不承担责任。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">2.泰然城不对本站所涉及的技术及信息的有效性、准确性、可靠性、稳定性和及时性作出任何承诺和保证。如因不可抗力或其它本站无法控制的原因使本站系统崩溃或无法正常使用导致本平台不能服务或延迟服务、丢失数据信息、记录的，泰然城不承担责任，但泰然城将协助处理相关事宜。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">3.除标有“自营”商品外，用户应理解泰然城平台上销售的商品和相关信息由入驻商家提供和发布；由于泰然城不参与也无法核实商品/服务的交易，对于商品/服务的质量、安全及合法性、真实性、准确性，用户应谨慎判断。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">4.除商品被标有“自营”字样外，用户理解泰然城上发布的商品及相关的图片、文字等信息均由入驻泰然城的卖方所提供，泰然城不对该信息所涉及的知识产权承担责任。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">5.用户有责任切实维护自身持有的银行卡及资金安全，应当采取一切措施避免银行卡及身份信息被泄露。如您银行卡内资金有未经您许可的被盗刷、资金损失等行为，请您主动联系您的开户银行，或者就上述违法行为向公安机关报案。泰然城不承担经系统识别的您卡内资金划转及损失。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">六、协议修改</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.泰然城有权不定时修改本协议及/或各类规则。所有修改的适用不具有追溯力，且会在网站进行公示，修改后的协议或规则将在公示后立即生效。如果用户不同意服务的修改条款或规则，应停止使用服务。如用户继续使用服务，则视为同意。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.如果本协议条款与附加条款有冲突，以附加条款为准。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">七、违约赔偿</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.用户同意保障和维护泰然城及其他用户的利益，如因用户违反有关法律、法规或本协议项下的任何条款而给泰然城或任何其他第三人造成损失，用户同意承担由此造成的损害赔偿责任。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.如果用户不遵守本协议，且泰然城未立即采取行动，并不意味泰然城放弃可能享有的任何权利或在将来采取行动。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.如用户涉嫌违反有关法律或者本协议之规定，使泰然城遭受任何损失，或受到任何第三方的索赔，或受到任何行政管理部门的处罚，用户应当赔偿泰然城因此造成的损失及（或）发生的费用，包括合理的律师费用。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">八、协议终止</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.您了解并同意，泰然城有权在您的账户存在风险交易的情况下中止、终止向您提供部分或全部泰然城平台服务，暂时冻结或永久冻结（注销）您的账户，且无须为此向您或任何第三方承担任何责任，如出现依法律或本协议及/或泰然城平台规则规定的您违约的情形时，泰然城可以有权通知您解除本协议，并中止、终止向您提供部分或全部平台服务。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.出现以下情况时，泰然城有权直接以注销账户的方式终止本协议:</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.1泰然城终止向您提供服务后，您涉嫌再一次直接或间接或以他人名义注册为泰然城用户的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.2您注册信息中的主要内容不真实或不准确或不及时或不完整。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.3本协议（含本协议的修改、附加条款及泰然城各项规则）变更时，您明示并通知泰然城不愿接受新的服务协议的；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.4在您的账户内存在或发现有盗卡、信用卡套现、洗钱等违法违规行为或风险时；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.5其它泰然城认为应当终止服务的情况。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.您有权向泰然城要求注销您的账户，经泰然城审核同意的，泰然城注销（永久冻结）您的账户，届时，您与泰然城基于本协议的合同关系即终止。您的账户被注销（永久冻结）后，泰然城没有义务为您保留或向您披露您账户中的任何信息，也没有义务向您或第三方转发任何您未曾阅读或发送过的信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.您同意，您与泰然城的合同关系终止后，泰然城仍享有下列权利：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.1继续保存您的注册信息及您使用泰然城平台服务期间的所有交易信息。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.2您在使用泰然城平台服务期间存在违法行为或违反本协议和/或规则的行为的，泰然城仍可依据本协议向您主张权利。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.泰然城中止或终止向您提供泰然城平台服务后，对于您在服务中止或终止之前的交易行为依下列原则处理，您应独立处理并完全承担进行以下处理所产生的任何争议、损失或增加的任何费用，并应确保泰然城免于因此产生任何损失或承担任何费用：</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.1您在服务中止或终止之前已经上传至泰然城平台的物品尚未交易的，泰然城有权在中止或终止服务的同时删除此项物品的相关信息；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.2您在服务中止或终止之前已经与本站卖方达成买卖合同，但合同尚未实际履行的，泰然城有权删除该买卖合同及其交易物品的相关信息；</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">5.3您在服务中止或终止之前已经与本站卖方达成买卖合同且已部分履行的，泰然城可以不删除该项交易，但泰然城有权在中止或终止服务的同时将相关情形通知您的交易卖方。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">九、法律管辖和适用</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.本协议的订立、执行和解释及争议的解决均应适用中国法律。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.如发生本协议与中国法律相抵触时，则这些条款将完全按法律规定重新解释，而其它合法条款则依旧保持对用户产生法律效力和影响。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">3.本协议的规定是可分割的，如本协议任何规定被裁定为无效或不可执行，该规定可被删除而其余条款应予以执行。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">4.为维护用户在本平台交易过程中的权利义务，您同意泰然城有权先行裁决您与泰然城本站卖方的消费争议，并执行泰然城的裁决结果。如您对泰然城裁决结果不满意或有异议，您有权将争议提交司法机构。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px">5.如泰然城与用户双方就本协议内容或其执行发生任何争议，双方应尽力友好协商解决；协商不成时，任何一方均可向被告所在地法院提起诉讼。</span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">&nbsp;</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <strong><span style="font-family: 微软雅黑;font-size: 14px"><span style="font-family:微软雅黑">十、其他</span></span></strong>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">1.本协议构成双方对本协议之约定事项及其他有关事宜的完整协议，除本协议规定的之外，未赋予本协议各方其他权利。</span>\n</p>\n<p style="margin-top: 16px;margin-bottom: 16px;line-height: 22px;background: rgb(255, 255, 255)">\n    <span style=";font-family:微软雅黑;font-size:14px">2.本协议中的标题仅为方便而设，不作为对标题下条款的解释。</span>\n</p>\n<p style="margin-top: 16px; margin-bottom: 16px; line-height: 22px; background: rgb(255, 255, 255);">\n    <span style=";font-family:微软雅黑;font-size:14px">3.您注册为泰然城的会员即视为您完全接受本协议，在注册之前请您再次确认已知悉并完全理解本协议的全部内容。</span>\n</p>'}}),p.default.createElement(f.PopupTip,{active:this.state.tip,msg:"页面点击关闭",onClose:this.promptClose}))}}]),t}();t.default=m},"2rvX":function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomerList=t.CustomerPhone=t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=f(u),p=(f(a("O27J")),a("Zfgq"),a("d2xe"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("K4hi");var v=[{url:"./../src/img/customerService/xtlp.png",title:"小泰良品客服",className:"xn-xtlp",shopAttr:2,settingId:"xt_1000_1498116511671"}],y=function(t){function a(){return m(this,a),h(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return g(a,u.Component),c(a,[{key:"render",value:function(){var t={minHeight:e(window).height(),background:"#f4f4f4"},a=v.map(function(e,t){return d.default.createElement(E,{data:e,key:t,hasBorder:2!==t})});return d.default.createElement("div",{"data-page":"customer-service"},d.default.createElement("div",{className:"wrapper",style:t},d.default.createElement("div",{className:"service-time"},d.default.createElement("span",{style:{marginRight:"5px"}},"咨询服务"),d.default.createElement("span",{style:{marginRight:"5px"}},"（服务时间"),d.default.createElement("span",null,"09:00-21:00）")),d.default.createElement(_,null),a))}}]),a}();t.default=y;var _=t.CustomerPhone=function(e){function t(){return m(this,t),h(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return g(t,u.Component),c(t,[{key:"render",value:function(){return d.default.createElement("a",{href:"tel:400-669-6610"},d.default.createElement("div",{className:"call-container",style:{marginBottom:"10px"}},d.default.createElement("img",{src:"./../src/img/customerService/phone.png"}),d.default.createElement("div",{className:"iphone-num"},d.default.createElement("p",null,"电话客服"),d.default.createElement("div",{className:"sub-title"},"400-669-6610"),d.default.createElement("div",{className:"dial"},"立即拨打"))))}}]),t}(),E=t.CustomerList=function(e){function t(){return m(this,t),h(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return g(t,u.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=t.className,n=t.shopAttr,r=t.url,o=t.title,i=e.hasBorder;return d.default.createElement(p.CustomerService,{className:a,shopAttr:n},d.default.createElement("div",{className:"call-container"},d.default.createElement("img",{src:r}),d.default.createElement("div",{className:"iphone-num",style:{borderBottom:i?"1px solid #f4f4f4":"none"}},d.default.createElement("p",null,o),d.default.createElement("div",{className:"sub-title"},"查看您与客服的聊天记录"))))}}]),t}()}).call(this,a("OOjC"))},"3+p0":function(e,t,a){e.exports={numCtrl:"_2xCtaCZ6UDdzTVZwgBxdnl",link:"_3cnI2icrRbzea7KPbfmo29",subLDisIcon:"eR9RaJoXwgCrPOULni6jA",plusLDisIcon:"_2IX3DEPO8beKkQd8kyT9DB",subLIcon:"_2JxvQrM19YITt2z17MyuUA",plusLIcon:"_3ddXntmMKOY3nCmQeCZOZQ"}},"3Adj":function(e,t,a){"use strict";var n=o(a("gRE1")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG"));function s(e){return e&&e.__esModule?e:{default:e}}var c={errorState:!0,from:"",filterUpdate:!0,goodListUpdate:!1,windowHeight:0,load:!1,init:!1,isQuickSelect:!1,prompt:{show:!1,msg:""},keyWord:"",param:{},searchData:"",currentPage:"",totalPage:"",categoriesList:[],manage:!1,ifChooseAll:!1,delCount:0,shady:!1,noSave:!1};t.default=(0,l.default)("goodOverdue",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"isError":return i({},e,{errorState:t.errorState});case"setFrom":return i({},e,{from:t.from});case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});case"setFilterUpdate":return i({},e,{filterUpdate:t.filterUpdate});case"setGoodListUpdate":return i({},e,{goodListUpdate:t.goodListUpdate});case"windowHeight":return i({},e,{windowHeight:t.windowHeight});case"setInit":return i({},e,{init:t.init});case"resetState":return i({},c,{keyWord:t.keyWord,searchType:t.searchType});case"setInitItem":return i({},e,{categoriesList:t.result.data.statistics?(0,n.default)(t.result.data.statistics):[]});case"isLoad":return i({},e,{load:t.load});case"setData":return function(e,t,a){var o=(0,r.default)({},i({},e),{load:!0,goodsList:t.data.item_list});return a&&t.data.statistics&&(o=(0,r.default)({},o,{categoriesList:(0,n.default)(t.data.statistics)||[]})),o}(e,t.result,t.filterUpdate);case"setSearch":return function(e,t){var a=i({},e.searchData,t);return i({},e,{searchData:a})}(e,t.searchData);case"concatData":return function(e,t){return e.goodsList=e.goodsList.concat(t.data.item_list),e}(e,t.result);case"setCurrentPage":return i({},e,{currentPage:t.current});case"setTotalPage":return i({},e,{totalPage:t.total});case"toggleQuickSelect":return i({},e,{isQuickSelect:t.isQuickSelect});case"toggleManage":return i({},e,{manage:t.manage});case"changeChooseAll":return i({},e,{ifChooseAll:t.ifchooseAll});case"delCount":return i({},e,{delCount:t.delCount});case"shady":return i({},e,{shady:t.shady});case"noSave":return i({},e,{noSave:t.noSave});default:return e}},c)},"3DMk":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(7),a.e(26)]).then(function(e){window.IScroll=a("dql1"),a("aR0x"),t(null,a("L8n+").default)}.bind(null,a)).catch(a.oe)}},4705:function(e,t,a){},"4GUf":function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=v(p),m=a("O27J"),h=(v(m),a("d2xe")),g=v(a("S8Mv"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var b={Modal:function(e,t){var a=function(e){function a(e){y(this,a);var t=_(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.modalHide=function(){var e=t;t.setState({isOpen:!1}),setTimeout(function(){e.allHide()},200)},t.allHide=function(){var e=t.props.dom;e.parentNode.removeChild(e)},t.callback=function(e){t.modalHide(),e&&e()},t.state={isOpen:!1},t}return E(a,p.Component),d(a,[{key:"componentDidMount",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{"data-comp":"modal",id:"modal"},f.default.createElement(h.Shady,{clickHandle:function(t){e.modalHide()}}),f.default.createElement(g.default,{transitionName:"modal","data-comp":"animate",transitionEnterTimeout:200,transitionLeaveTimeout:200,component:"div"},this.state.isOpen?f.default.createElement("div",{ref:"modal",className:"modal",onTouchTap:function(e){e.preventDefault()}},f.default.createElement("div",{className:"modal-text"},f.default.createElement("span",null,this.props.msg)),f.default.createElement("div",{className:"modal-btn c-fr"},f.default.createElement("div",{onTouchTap:function(t){e.modalHide()},className:"g-col-1 one-btn c-fl",ref:"cancel"},f.default.createElement("span",null,"取消")),f.default.createElement("div",{onTouchTap:function(a){e.callback(t)},className:"g-col-1 one-btn c-fr",ref:"sure"},f.default.createElement("span",null,"确定")))):""))}}]),a}(),r=document.getElementById("modal");r||((r=document.createElement("div")).setAttribute("data-comp","modal"),r.setAttribute("id","modal"),document.body.appendChild(r)),(0,m.render)(f.default.createElement(a,u({},e,{dom:r})),document.getElementById("modal"))},MsgTip:function(e){var t=function(e){function t(e){y(this,t);var a=_(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={show:!1},a}return E(t,p.Component),d(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dom;this.setState({show:!0}),setTimeout(function(){e.setState({show:!1}),setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},2e3)},2e3)}},{key:"render",value:function(){return f.default.createElement(g.default,{"data-comp":"animate",transitionName:"prompt",transitionEnterTimeout:100,transitionLeaveTimeout:200,component:"div"},this.state.show?f.default.createElement("div",{className:"msg-text"},this.props.msg):"")}}]),t}(),a=document.createElement("div");a.setAttribute("data-comp","msg-tip"),a.setAttribute("id","msgTip"),document.body.appendChild(a),(0,m.render)(f.default.createElement(t,u({},e,{dom:a})),a)}};t.default=b},"51nd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(5),a.e(17)]).then(function(e){a("c/5C"),a("5dqp"),window.PhotoSwipe=a("c9vs"),window.PhotoSwipeUI_Default=a("Qw5b"),a("aR0x"),window.secCaptcha=a("4I33"),a("t/Wd"),a("1nra"),t(null,a("3fLG").default)}.bind(null,a)).catch(a.oe)}},53:function(e,t,a){e.exports=a("Fx3O")},"56f2":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=(d=f)&&d.__esModule?d:{default:d};a("++Jc");var h=(u=c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,f.Component),p(t,[{key:"componentWillMount",value:function(){document.title="拼团玩法",this.context.isApp&&(window.location.href="jsbridge://set_title?title=拼团玩法")}},{key:"render",value:function(){return m.default.createElement("div",{"data-page":"pintuanRules"},m.default.createElement("section",{className:"group-purchase-step"},m.default.createElement("div",{className:"step-img"})),m.default.createElement("section",{className:"rules-explain"},m.default.createElement("h3",null,m.default.createElement("i",null),"玩法说明"),m.default.createElement("ul",null,m.default.createElement("li",null,m.default.createElement("div",{className:"rule-tip"},"1. 选择商品开团"),m.default.createElement("div",{className:"rule-detail"}," 选择拼团商品下单，团长完成支付后，团即刻开启。在活动期间内，参团人数需在规定时间内达到规定人数，此团方能成功，否则超过活动期，或者超过拼团时间，此团均为失败，系统自动退款。")),m.default.createElement("li",null,m.default.createElement("div",{className:"rule-tip"},"2. 团长"),m.default.createElement("div",{className:"rule-detail"},"开团且该团第一位支付成功的人。")),m.default.createElement("li",null,m.default.createElement("div",{className:"rule-tip"},"3. 参团成员"),m.default.createElement("div",{className:"rule-detail"},"通过团长邀请购买该商品的成员即为参团人员，参团人员也可 通过分享团链接给微信好友邀请更多的成员参加。")),m.default.createElement("li",null,m.default.createElement("div",{className:"rule-tip"},"4. 拼团有效期"),m.default.createElement("div",{className:"rule-detail"},"拼团有效期是自开团时刻起至规定的时间内，均以商品的结束 时间为准。")))))}}]),t}(),c.contextTypes={isApp:m.default.PropTypes.bool},u);t.default=h},"5MC1":function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LoginPopupModule=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=b(p),m=a("4n+p"),h=(a("d2xe"),a("Zfgq"),a("f2Hk")),g=a("qeJi"),v=a("nztU"),y=a("5qLU"),_=b(a("mtWM"));a("hHxV");var E=b(a("4GUf"));function b(e){return e&&e.__esModule?e:{default:e}}var w={uc_phoneExist:function(e){return{url:y.UCENTER+"/user/phone_"+e+"/exists",method:"post"}},uc_sendCode:{url:y.UCENTER+"/mock/send_code",method:"post"},uc_loginOrRegister:{url:y.UCENTER+"/login/quick_login_register",method:"post"},uc_wxBind:{url:y.UCENTER+"/login/wechat/bind?platform=MEDIA_PLATFORM",method:"post"},uc_isLogin:{url:y.UCENTER+"/user"},uc_logout:{url:y.UCENTER+"/user/logout",method:"post"},setOpenId:{url:y.WXAPI+"/userBind"}},k=(0,h.concatPageAndType)("userLogin"),A=(0,h.concatPageAndType)("global"),N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.changePhone=function(e){var t=e.target.value;t.length>11||(a.setState({phone:t}),11===t.length?a.setState({canSend:!0}):a.setState({canSend:!1}),a.checkCanSure())},a.changeValidate=function(e){var t=e.target.value;t.length>4||(a.setState({validateCode:t}),a.checkCanSure())},a.clearPhone=function(){a.setState({phone:""}),a.checkCanSure()},a.clearValidate=function(){a.setState({validateCode:""}),a.checkCanSure()},a.checkTel=function(e){return/^1[34578]\d{9}$/.test(e)?(a.setState({telCorrect:!0}),!0):(E.default.MsgTip({msg:"请输入正确的手机号码"}),!1)},a.focusCtrl=function(e,t){a.setState(function(e,t,a){return t in e?(0,l.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},e+"Focus",t))},a.checkCanSure=function(){setTimeout(function(){var e=a.state,t=e.phone,n=e.validateCode;11===t.length&&4===n.length?a.setState({canSure:!0}):a.setState({canSure:!1})},0)},a.sendValidate=function(){var e=a.state.phone;if(a.checkTel(e)){a.setState({sending:!0}),a.timer=setInterval(function(){var e=a.state.countDown;e>1?a.setState({countDown:e-1}):(clearInterval(a.timer),a.setState({sending:!1,countDown:60}))},1e3);var t=a.props.dispatch;_.default.request(u({},w.uc_phoneExist(e),{params:{appid:y.UCAPPID}})).then(function(e){var t=e.data;"200"!==t.code&&a.setState({phoneExist:t.body})}).catch(function(e){console.log(e)}),_.default.request(u({},w.uc_sendCode,{data:{appId:y.UCAPPID,phone:e,usage:"QUICK_LOGIN_REGISTER"}})).then(function(e){var a=e.data;"200"!==a.code&&t(k("ctrlPrompt",{prompt:!0,msg:a.message}))}).catch(function(e){throw console.log(e),t(k("ctrlPrompt",{prompt:!0,msg:"服务器繁忙"})),new Error(e)})}},a.sendRegister=function(){a.setState({isRegister:!0});var e=a.state,t=e.phone,n=e.validateCode,r=e.phoneExist,o=a.props,i=o.from,l=o.invite,s=a.props.dispatch;"ecard_red_jr"===i?_.default.request(u({},w.uc_loginOrRegister,{headers:{"X-Platform-Info":"WECHAT"},data:{appId:y.UCAPPID,phone:t,phoneCode:n,inviteCode:l}})).then(function(e){var t=e.data;if("200"===t.code){var n=t.body.token;a.setState({isRegister:!1}),(0,v.setCookie)("token",n),s(A("changeLogin",{login:!0}));var o=r?"old":"new",i=decodeURIComponent(a.props.redirect_uri);i=/\?/.test(a.props.redirect_uri)?i+"&user="+o:i+"?user="+o;var l=a.props,c=l.ident,d=l.openId;_.default.request(u({},w.uc_wxBind,{headers:{Authorization:"Bearer "+n},data:{ident:c}})).then(function(e){var t=e.data;"200"===t.code?_.default.request(u({},w.setOpenId,{params:{openid:d}})).then(function(){window.location.replace(i)}).catch(function(e){console.log(e),window.location.replace(i)}):s(k("ctrlPrompt",{prompt:!0,msg:t.message}))}).catch(function(e){throw console.log("error",e),a.setState({isRegister:!1}),s(k("ctrlPrompt",{prompt:!0,msg:"服务器繁忙"})),(0,g.urlReplace)(i),new Error(e)})}else a.setState({isRegister:!1}),s(A("changeLogin",{login:!1})),s(k("ctrlPrompt",{prompt:!0,msg:t.message})),(0,g.urlReplace)(a.props.redirect_uri)}).catch(function(e){throw console.log(e),a.setState({isRegister:!1}),s(k("ctrlPrompt",{prompt:!0,msg:"服务器繁忙"})),(0,g.urlReplace)(redirect_uri),new Error(e)}):_.default.request(u({},w.uc_loginOrRegister,{data:{appId:y.UCAPPID,phone:t,phoneCode:n,inviteCode:l}})).then(function(e){var t=e.data;if("200"===t.code){var n=t.body.token,r=a.props,o=r.ident,i=r.openId,l=r.redirect_uri;(0,v.setCookie)("token",n),a.setState({isRegister:!1}),_.default.request(u({},w.uc_wxBind,{headers:{Authorization:"Bearer "+n},params:{ident:o}})).then(function(e){"200"===e.data.code&&s(A("changeLogin",{login:!0})),_.default.request(u({},w.setOpenId,{params:{openid:i}})).then(function(){window.location.replace(l)}).catch(function(e){console.log(e),window.location.replace(l)})}).catch(function(e){throw console.log("error",e),a.setState({isRegister:!1}),s(k("ctrlPrompt",{prompt:!0,msg:"服务器繁忙"})),(0,g.urlReplace)(l),new Error(e)})}else a.setState({isRegister:!1}),s(A("changeLogin",{login:!1})),s(k("ctrlPrompt",{prompt:!0,msg:t.message}))}).catch(function(e){throw console.log(e),a.setState({isRegister:!1}),s(k("ctrlPrompt",{prompt:!0,msg:"服务器繁忙"})),(0,g.urlReplace)(redirect_uri),new Error(e)})},a.state={phone:"",validateCode:"",phoneFocus:!1,codeFocus:!1,canSend:!1,sending:!1,countDown:60,canSure:!1,isRegister:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,p.Component),d(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this,t=this.state,a=t.phone,n=t.validateCode,r=t.phoneFocus,o=t.codeFocus,i=t.canSend,l=t.sending,s=t.countDown,c=t.canSure,u=t.isRegister;return f.default.createElement("div",{"data-comp":"login-popup"},f.default.createElement("div",{className:"login-popup"},f.default.createElement("h3",null,"绑定手机更安全"),f.default.createElement("i",{className:"close-xa-icon",onClick:this.props.popupClose}," "),f.default.createElement("label",{className:"strip-grid phone-input"},f.default.createElement("div",{className:"icon-grid"},f.default.createElement("i",{className:"phone-shape-icon"}," ")),f.default.createElement("div",{className:"input-grid"},f.default.createElement("input",{type:"number",placeholder:"请输入手机号码",value:a,onInput:this.changePhone,onFocus:function(t){e.focusCtrl("phone",!0)},onBlur:function(t){return e.focusCtrl("phone",!1)}}),""!==a&&r&&f.default.createElement("i",{className:"close-x-icon",onTouchTap:this.clearPhone}," "))),f.default.createElement("div",{className:"strip-grid"},f.default.createElement("label",{className:"validate-grid"},f.default.createElement("div",{className:"icon-grid"},f.default.createElement("i",{className:"key-shape-icon"}," ")),f.default.createElement("div",{className:"input-grid"},f.default.createElement("input",{type:"number",placeholder:"短信验证码",value:n,onInput:this.changeValidate,onFocus:function(t){e.focusCtrl("code",!0)},onBlur:function(t){return e.focusCtrl("code",!1)}}),""!==n&&o&&f.default.createElement("i",{className:"close-x-icon",onTouchTap:this.clearValidate}," "))),f.default.createElement("div",{className:"send-validate "+(i&&!l?"active":""),onClick:i&&!l&&this.sendValidate},l?s+"秒后重发":"发送验证码")),f.default.createElement("div",{className:"login-btn-grid"},f.default.createElement("div",{className:"login-btn "+(c&&!u?"":"dis"),onClick:c&&!u&&this.sendRegister},"确认"))))}}]),t}();t.LoginPopupModule=(0,m.connect)()(N)},"5PJ1":function(e,t,a){},"5PjB":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(19)]).then(function(e){a("aR0x"),t(null,a("hwAx").default)}.bind(null,a)).catch(a.oe)}},"5VVT":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedLabel=function(e){return n.default.createElement("span",{className:r.default.redLabel+(e.className?" "+e.className:"")},e.children)},t.GreyLabel=function(e){return n.default.createElement("span",{className:r.default.greyLabel+(e.className?" "+e.className:"")},e.children)},t.RedBgLabel=function(e){return n.default.createElement("span",{className:r.default.bgLabel+(e.className?" "+e.className:"")},e.children)};var n=o(a("U7vG")),r=o(a("0fAc"));function o(e){return e&&e.__esModule?e:{default:e}}},"5qLU":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.location.protocol;t.WXURL=n+"//wx.tairanmall.com",t.APPURL=n+"//m.tairanmall.com",t.JRURL=n+"//jr-m.tairanmall.com",t.FYURL=n+"//wx.tairanmall.com/fy",t.ZXURL=n+"//wx.tairanmall.com/zx",t.PAYURL=n+"//pay.tairanmall.com",t.COLLECTURL=n+"//collect.trc.com/index.js",t.SERCVICEURL="/webchat/jsp/standard/interfacePools.jsp",t.UCGEE="/ucenter/gateway/foundation-captcha",t.UCAPPID="uc6c7f06e54ac77f87",t.UCENTER="/ucenter/gateway/foundation-user",t.WXAPI="/ncxcx",t.DIR=""},"6KBI":function(e,t,a){e.exports={navigation:"-GcTMVsHnQ8ZN9wyaMDM8",navLink:"_34hXzZqpjrcRq-zXCa8S_r",navIcon:"jOGBXYpx8POZ0Fzp-ANWY",navActive:"_31XRP1LVDRy66_G3mP98Cb",navText:"_22jXAgDOLy_E7T2Z3B12jP",navHome:"_3bdipicdKuDuLsN8Tfv_mc",navCart:"_3VtxokaVmmLuhL2Jd6j9rb",numIcon:"_6EyVoyYFYirsazqk7XRKB",navGroup:"_3iqRxS_yPm5o40kc5F7Wd7",navUser:"VU78Z-UMDvelUv-gK0RcG"}},"6Lri":function(e,t){e.exports="data:image/png;base64,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"},"6RO1":function(e,t,a){},"6dTp":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setExtraInfoGwc=function(e,t,a,n,r,o,i){return{type:"ds-gwc",goodsName:e,goodsId:t,skuId:a,goodsCounts:n,httpcode:r,serviceCode:o,message:i}},t.setExtraInfoScj=function(e,t,a,n,r,o){var i=void 0;e&&(i={type:"ds-scj",goodsId:e,goodsName:t,httpcode:n,serviceCode:r,message:o});a&&(i={type:"ds-scj",shopId:a,httpcode:n,serviceCode:r,message:o});return i},t.setExtraInfoGjzss=function(e,t,a,n){return{type:"ds-gjzss",keyword:e,httpcode:t,serviceCode:a,message:n}}},"6quk":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tip=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=g(d),f=g(a("211U")),m=g(a("K5N4")),h=a("f+hS");function g(e){return e&&e.__esModule?e:{default:e}}var v=(0,f.default)(m.default,{allowMultiple:!0})(c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.isMount=!0,a.state={show:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.isMount&&e.setState({show:!0})},0),setTimeout(function(){e.isMount&&e.setState({show:!1}),setTimeout(function(){e.props.destroy()},500)},2e3)}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){return p.default.createElement("div",{styleName:"tip"},p.default.createElement("div",{styleName:"tip-text "+(this.state.show?"active":"")},this.props.msg))}}]),t}())||c;t.tip=new h.Prompt(v)},"6rhK":function(e,t,a){"use strict";(function(e){var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={winHeight:e(window).height(),isLogin:!1,pending:!0};t.default=(0,l.default)("global",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"changeLogin":return i({},e,{isLogin:t.login,pending:!1});case"getLoginSuccess":return"true"===t.result.isLogined?i({},e,{isLogin:!0,pending:!1}):i({},e,{isLogin:!1,pending:!1});case"getLoginError":return i({},e,{pending:!1});default:return e}},s)}).call(this,a("OOjC"))},"7HWo":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG"));function s(e){return e&&e.__esModule?e:{default:e}}var c={load:!0,list:[],page:1,total:1e3,keyword:"",prompt:{show:!1,msg:""},modal:{show:!1,msg:"",modalSure:""},request:!1,custom:{show:!1,tid:""}};t.default=(0,l.default)("tradeSearch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"resetData":return c;case"keyword":return i({},e,{keyword:t.keyword});case"getDataLoad":return i({},e,{load:!0,blank:!1,list:[],page:1,total:100});case"getDataSuccess":var a=t.result.data,n=a.list,r=a.page,o=r.current_page,l=r.total_page;return i({},e,{load:!1,list:n,page:o,total:l});case"concatDataSuccess":return i({},e,{load:!1,list:e.list.concat(t.result.data.list),page:Number(t.result.data.page.current_page),total:t.result.data.page.total_page});case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});case"ctrlModal":return i({},e,{modal:i({},t.modal)});case"deleteOrder":return function(e,t,a){var n=e.list;if("all"===a)return n.map(function(e,a){e.no===t&&n.splice(a,1)}),i({},e)}(e,t.tid,t.status);case"ctrlCustom":return i({},e,{custom:i({},t.custom)});default:return e}},c)},"7q/s":function(e,t,a){e.exports={marketHeader:"_328iRTguZHATLjGmKXGTo3",activityLink:"xhzQwEKFgaRAcf2kt-RKD",activityText:"_2SGYcxP4w4momUof08l5ie",tag:"_299PAwhvGHpvHFiqPcW48p",linkRight:"qV1b9MqSDwI79juvtk1_n",redArrowIcon:"_9Lo-qvl_CByaUyiTTVliG",activeRow:"_1lkrmNqfzd7l6qwUQNNbvb",redBtn:"oCaoveB83MBjmJ0azSCnJ"}},"7vRm":function(e,t,a){},"8FWJ":function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PopupCancelDetail=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=E(p),m=(a("4n+p"),a("NUeF")),h=a("d2xe"),g=a("Zfgq"),v=(a("f2Hk"),E(a("qAHI"))),y=a("5qLU"),_=E(a("4GUf"));function E(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var A={cancel:{url:y.WXAPI+"/user/order/cancelCloseOrder",method:"post"}},N=function(e){function t(){return b(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return k(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.cancel_reason,a=e.changeReason,n=(e.otherReason,m.reasonList.map(function(e){return f.default.createElement("div",{key:e.name,className:"list c-clrfix",onTouchTap:function(t){a(e.name)}},f.default.createElement("div",{className:"text"},e.text),f.default.createElement("div",{className:"choose"},t===e.name?f.default.createElement("i",{className:"current-green-icon"}," "):f.default.createElement("i",{className:"current-no-icon"}," ")))}));return f.default.createElement("div",{className:"reason-choose"},f.default.createElement("div",{className:"reason-list"},n))}}]),t}(),x=function(e){function t(){return b(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return k(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.cancel_reason,a=e.btnText,n=e.submitHandle;return f.default.createElement("div",{className:t?"btm-btn  colour-btn":"btm-btn",onClick:t?n:""},a)}}]),t}();t.PopupCancelDetail=function(e){function t(){var e,a,r;b(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=w(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.cancelSubmit=function(){var e=r.props,t=e.cancel_reason,a=e.PopupCancelMsg,n=e.webcancelFrom,o=a.Msg;v.default.request(u({},A.cancel,{params:{no:o,closeDesc:m.reasonList[t].text}})).then(function(e){var t=e.data;_.default.MsgTip({msg:t.message||"取消成功"}),"tradeDetail"===n?g.browserHistory.goBack():location.reload()}).catch(function(e){console.log(e),_.default.MsgTip({msg:error.response.data.message||"服务器繁忙"})})},w(r,a)}return k(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.PopupCancelMsg,a=e.cancelOrderPoup,n=e.changeReason,r=e.cancel_reason,o=e.dispatch,i=e.createActions;return f.default.createElement("div",{onClick:function(){a({show:!1})}},t.show&&f.default.createElement(h.Shady,null),f.default.createElement("div",{"data-page":"order-cancel",className:"popup-total "+(t.show?"active":""),onClick:function(e){return e.stopPropagation()}},f.default.createElement("div",{className:"popup-top"},f.default.createElement("span",null,"取消订单"),f.default.createElement("i",{className:"close-nobg-icon",onClick:function(){a({show:!1}),o(i("changeReason",{reason:""}))}})),f.default.createElement(N,{changeReason:n,cancel_reason:r}),f.default.createElement(x,{cancel_reason:r,submitHandle:this.cancelSubmit,btnText:"确定"})))}}]),t}()},"8KRQ":function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=A(p),m=a("d2xe"),h=a("6quk"),g=a("4n+p"),v=a("Zfgq"),y=a("f2Hk"),_=a("G/Ei"),E=A(a("B6QQ")),b=A(a("mtWM"));a("5PJ1");var w=a("5qLU"),k=a("f2t5");function A(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var S={init:{url:w.WXAPI+"/promotion/getExchangesList",method:"get"}},M=(0,y.concatPageAndType)("exchangeItem"),T=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"componentWillMount",value:function(){this.props.initPage()}},{key:"componentWillUnmount",value:function(){_.loadMask.destroy(),h.tip.destroy()}},{key:"render",value:function(){var e=this.props.location.query.promotion_id,t=!!(this.props.data&&this.props.data[e]&&this.props.data[e].length);if(this.props.load)return f.default.createElement(m.LoadingRound,null);if(!t)return f.default.createElement(m.EmptyPageLink,{config:{bgImgUrl:"/src/img/activity/item-none-page.png",msg:"暂时没有活动商品",redBtn:!0,btnText:"返回",btnClick:function(){return v.browserHistory.goBack()}}});var a=this.props,n=a.limit,r=a.buyNum,o=a.fullPrice;return f.default.createElement("div",{"data-page":"exchange-item",style:{minHeight:this.props.winHeight}},f.default.createElement("div",{className:"m-header"},this.props.look?"购满"+o+"元可换购"+n+"件热销商品":"最多可换购"+n+"件，已选"+r+"件"),t?f.default.createElement(I,{data:this.props.data[e],look:this.props.look,itemCheck:this.props.itemCheck}):"",this.props.look?f.default.createElement("div",{className:"single-btn",onClick:this.props.toExchangeBuy},"去凑单"):f.default.createElement(O,{buyNum:r,limit:n,itemLength:t,look:this.props.look,onSubmit:this.props.submitHandle}))}}]),t}(),I=function(e){function t(){var e,a,r;N(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=x(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.getList=function(){return r.props.data.map(function(e,t){return f.default.createElement(P,{key:t,data:e,look:r.props.look,itemCheck:r.props.itemCheck.bind(r,t)})})},x(r,a)}return C(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"m-content"},this.getList())}}]),t}(),P=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data,t=e.store<=0||30!=e.shelf_status;return f.default.createElement("div",{className:"one-item g-row-flex "+(t&&"inv")},f.default.createElement("div",{className:"item-check"},f.default.createElement(E.default,{isCheck:e.check,invalid:t,disable:this.props.look,handleCheck:this.props.itemCheck})),f.default.createElement(v.Link,{className:"item-info g-col-1 g-row-flex",to:"/item?item_id="+e.item_id},f.default.createElement("div",{className:"item-img"},f.default.createElement("img",{src:e.image?(0,k.addImageSuffix)(e.image,"_t"):a("VM8K")}),e.store<=0?f.default.createElement("img",{className:"img-noItem",src:a("mhKy")}):""),f.default.createElement("div",{className:"item-detail g-col-1"},f.default.createElement("div",{className:"title"},e.title),f.default.createElement("div",{className:"props"},e.spec_text),f.default.createElement("div",{className:"item-price g-row-flex"},f.default.createElement("p",{className:"price"},"换购价 ¥",+e.price),+e.market_price?f.default.createElement("p",{className:"origin-price"},"原价",+e.sell_price):"",f.default.createElement("p",{className:"num g-col-1"},"×1")))))}}]),t}(),O=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"total-ctrl c-clrfix"},f.default.createElement("div",{className:"c-fl"},"已选择",this.props.buyNum,"/",this.props.limit),f.default.createElement("div",{className:"red-btn c-fr",onClick:this.props.onSubmit},this.props.look||!this.props.itemLength?"返回":"确定"))}}]),t}();t.default=(0,g.connect)(function(e,t){var a=t.location.query.promotion_id,n=e.exchangeItem.data&&e.exchangeItem.data[a]?e.exchangeItem.data[a].filter(function(e,t){return e.check}).length:0;return u({},e.exchangeItem,e.global,{buyNum:n})},function(e,t){var a=t.location.query,n=a.promotion_id,r=a.look,o=a.fullPrice,i=a.limit,l=t.location;return l.pathname,l.search,{look:r,toExchangeBuy:function(){v.browserHistory.replace(DIR+"/searchResult?promotion_id="+n)},initPage:function(){b.default.request(u({},S.init,{params:{promotion_id:n}})).then(function(t){var a={data:t.data.data,rules:{fullPrice:o,limit:i},promotionId:n};e(M("initData",{result:a}))}).catch(function(e){_.loadMask.destroy(),h.tip.show({msg:e.message||e.response.data.message||"小泰发生错误，请稍后再试~"}),console.log(e)})},itemCheck:function(t){return e(function(e,a){var r=a().exchangeItem;if(r.data[n].filter(function(e,a){return t===a?!e.check:e.check}).length>r.limit)return h.tip.show({msg:"您最多只能换购"+r.limit+"件"}),!0;e(M("itemSelect",{result:{index:t,promotionId:n}}))})},submitHandle:function(){v.browserHistory.goBack()}}})(T)},"8g0t":function(e,t,a){"use strict";var n=p(a("fZjL")),r=p(a("gRE1")),o=p(a("mvHQ")),i=p(a("Zx67")),l=p(a("kiBT")),s=p(a("OvRC")),c=p(a("pFYg")),u=p(a("C4MV")),d=p(a("woOf"));function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f,m=d.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,u.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a("U7vG"),v=w(g),y=w(a("211U")),_=w(a("TbRF")),E=a("d2xe"),b=(a("wj5X"),a("6quk"));function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,c.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(l.default?(0,l.default)(e,t):e.__proto__=t)}var x=(0,y.default)(_.default,{allowMultiple:!0})(f=function(e){function t(e){k(this,t);var a=A(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.selectSingleAttr=function(e,t,n,r){var o=a.state.selectedSpecs;o[e]=n?"":t,a.setState({selectedSpecs:o},function(){r&&r(o)})},a.onSure=function(){a.setState({show:!1}),setTimeout(function(){a.props.close()},200)},a.submitSku=function(){var e=a.props,t=e.data,n=e.cart_id,i=e.replaceSku,l=a.state.selectedSpecs,s="",c=!1;JSON.parse((0,o.default)(t)).skus.every(function(e){var t=!0,a=e.select_spec_id.split("_");return(0,r.default)(l).every(function(e){return e||0===e||"0"===e?(-1==a.indexOf(""+e)&&(t=!1),!0):(c=!0,!1)}),!c&&(t&&(s=e.sku_id),!0)}),c?b.tip.show({msg:"请选择完整"}):i(n,s)},a.state={show:!1,selectedSpecs:{}},a}return N(t,g.Component),h(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data&&this.props.data.specs?this.props.data.specs:null,a=this.props.select,n={};t.map(function(e){var t=e.spec_id;n[t]=void 0!==a[t]?a[t]:""}),this.setState({selectedSpecs:n}),setTimeout(function(){e.setState({show:!0})})}},{key:"render",value:function(){var e=this,t=this.selectSingleAttr,a=this.state.selectedSpecs,n=this.props,i=n.data,l=n.img,s=[],c=JSON.parse((0,o.default)(i)),u=c.skus,d=c.specs,p=[],f="";u&&u.map(function(e){var t=e.select_spec_id,n=e.store;t&&n>0&&s.push(t.split("_"));var o=e.select_spec_id.split("_"),i=!0;(0,r.default)(a).map(function(e){o.indexOf(""+e)<=-1&&(i=!1)}),i&&(f=e.price)}),d.map(function(e){var t=e.values,n=e.spec_id;t.map(function(e){e.spec_value_id==a[n]&&(p.push(e.text),e.image&&(l=e.image))})});var h=d.map(function(n,r){return v.default.createElement(C,m({},n,{key:r,saleAttrSelect:e.props.saleAttrSelect,skus:u,specs:d,allAttr:s,selectedSpecs:a,selectSingleAttr:t}))});return v.default.createElement("div",null,v.default.createElement(E.Shady,null),v.default.createElement("div",{className:"popupSaleAttr "+(this.state.show?"active":"")},v.default.createElement("div",{className:"sale-modal-content"},v.default.createElement("div",{className:"sale-table-view"},v.default.createElement("div",{className:"sale-table-view-cell"},v.default.createElement("span",{className:"sale-close-btn",onClick:this.onSure}),v.default.createElement("span",{className:"sale-posit-img"},v.default.createElement("img",{className:"sale-media-object sale-pull-left",src:l})),v.default.createElement("div",{className:"sale-media-body sale-window-head"},v.default.createElement("div",{className:"sale-price-tag"},v.default.createElement("p",{className:"sale-ellipsis sale-text-price sale-action-update-price"},f),v.default.createElement("p",{className:"sale-text-price-sel",style:{display:"block"}},"已选",p.map(function(e,t){return v.default.createElement("span",{key:t}," ",e)})))))),v.default.createElement("div",{className:"sale-list-view"},h),v.default.createElement("div",{className:"sale-modal-bottom",onClick:function(){e.submitSku()}},v.default.createElement("div",null,"确定")))))}}]),t}())||f;t.default=x;var C=function(e){function t(){var e,a,r;k(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return a=r=A(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),r.judgeSingleSku=function(){var e=r.props.specs;return!e||1===e.length&&1===e[0].values.length},r.judgeNoSku=function(e){var t=r.props,a=t.allAttr,o=t.spec_id,i=t.selectedSpecs,l=!0,s=[];return(0,n.default)(i).map(function(e){e!==o.toString()&&s.push(i[e])}),a.some(function(t){var a=!0;return s.some(function(e){return!(!e&&0!==e&&"0"!==e||!(t.indexOf(e.toString())<0))&&(a=!1,!0)}),a&&t.indexOf(e.toString())>-1&&(l=!1),!l}),l},r.judgeSelect=function(){var e=r.props,t=e.spec_id;return e.selectedSpecs[t]},r.AttrSelect=function(e,t,a){var n="on"===a;r.props.allAttr;r.setState({isSelected:n},function(){r.props.selectSingleAttr(t,e,n)})},A(r,a)}return N(t,g.Component),h(t,[{key:"initList",value:function(){var e=this,t=[],a=this.props,n=a.values,r=a.spec_id,o=this.judgeSingleSku();return n&&n.length>0&&n.map(function(a,n){var i=a.spec_value_id,l="off",s=e.judgeSelect(),c=e.judgeNoSku(i);o?l="on":(s==i&&(l="on"),c&&(l="no"));var u="no"!=l;t.push(v.default.createElement("li",{key:n,className:l,onClick:function(t){!o&&u&&e.AttrSelect(i,r,l)}},a.image&&v.default.createElement("span",null,v.default.createElement("img",{src:a.image,width:25,height:25,style:{marginTop:"-3px",marginRight:"3px"}})),v.default.createElement("span",null,a.text)))}),t}},{key:"render",value:function(){var e=this.props.name;return v.default.createElement("div",{className:"sale-parameter"},v.default.createElement("span",null,e),v.default.createElement("ul",{className:"sale-size-ul"},this.initList()))}}]),t}()},"8x+B":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NewModal=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=h(d),f=(a("XKGu"),h(a("bhYP"))),m=h(a("211U"));function h(e){return e&&e.__esModule?e:{default:e}}t.NewModal=(0,m.default)(f.default,{allowMultiple:!0})(c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"render",value:function(){var e=this.props.isOpen;return p.default.createElement("div",null,e?p.default.createElement("div",{styleName:"shady",onClick:this.props.onClose}):"",p.default.createElement("div",{styleName:"animationModal "+(e?"active":"")},this.props.title&&p.default.createElement("span",{styleName:"title"},this.props.title),p.default.createElement("span",{styleName:"closeBtn",onClick:this.props.onClose},p.default.createElement("i",null)),p.default.createElement("div",null,this.props.children)))}}]),t}())||c},"9whv":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG"));function s(e){return e&&e.__esModule?e:{default:e}}var c={errorState:!1,hasSetSearchParams:!1,from:"",filterUpdate:!0,filterState:!0,windowHeight:0,goodHeight:1,load:!1,init:!1,isScroll:!0,isQuickSelect:!1,keyWord:"",param:{},searchType:"",searchData:"",currentPage:"",totalPage:"",brandsList:[],brandsOrderList:[],categoriesList:[],categoriesLevelList:[],correction:"",coupon:"",listStyle:2};function u(e,t){var a=i({},e.searchData,t);return i({},e,{searchData:a})}function d(e){for(var t=[],a=0;a<e.length;a++)t=t.concat(e[a].children);return t.sort(function(e,t){return t.count-e.count})}t.default=(0,l.default)("searchResult3",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"isError":return i({},e,{errorState:t.errorState});case"setFrom":return i({},e,{from:t.from});case"setFilterUpdate":return i({},e,{filterUpdate:t.filterUpdate});case"windowHeight":return i({},e,{windowHeight:t.windowHeight});case"goodHeight":return i({},e,{goodHeight:t.goodHeight});case"setInit":return i({},e,{init:t.init});case"setFilterState":return i({},e,{filterState:t.filterState});case"resetState":return i({},c,{keyWord:t.keyWord,searchType:t.searchType});case"setInitItem":return i({},e,{service:t.result.data.service||[],brandsList:t.result.data.brands?t.result.data.brands.list:[],brandsOrderList:t.result.data.brands?t.result.data.brands.alphabet:[],categoriesLevelList:t.result.data.categories||[],categoriesList:d(t.result.data.categories||[]),properties:t.result.data.properties||[],correction:t.result.data.correction,coupon:t.result.data.coupon});case"isLoad":return i({},e,{load:t.load});case"setData":return function(e,t,a){var n=(0,o.default)({},i({},e),{load:!0,goodsList:t.data.items});return a&&(n=(0,o.default)({},n,{service:t.data.service||[],brandsList:t.data.brands?t.data.brands.list:[],brandsOrderList:t.data.brands?t.data.brands.alphabet:[],categoriesList:d(t.data.categories||[]),categoriesLevelList:t.data.categories||[],properties:t.data.properties||[],correction:t.data.correction,coupon:t.data.coupon,promotion:t.data.promotion?t.data.promotion:""})),n}(e,t.result,t.filterUpdate);case"setSearch":return u(e,t.searchData);case"setSearchService":return function(e,t){var a=i({},e.searchData.service,t);return u(e,i({},e.searchData,{service:a}))}(e,t.service);case"setCorrection":return i({},e,{correction:t.correction});case"concatData":return function(e,t){return e.goodsList=e.goodsList.concat(t.data.items),e}(e,t.result);case"setCurrentPage":return i({},e,{currentPage:t.current});case"setTotalPage":return i({},e,{totalPage:t.total});case"changeListStyle":return i({},e,{listStyle:t.style});case"toggleQuickSelect":return i({},e,{isQuickSelect:t.isQuickSelect});case"setSearchParams":return i({},e,{hasSetSearchParams:!0});default:return e}},c)},AYJ8:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=h(d),f=h(a("211U")),m=h(a("3+p0"));function h(e){return e&&e.__esModule?e:{default:e}}var g=(0,f.default)(m.default)(c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"scrollView",value:function(e){window.scrollTo(0,window.scrollY+e.target.getBoundingClientRect().top-70)}},{key:"render",value:function(){var e=this.props,t=e.buyLimit,a=e.quantity,n=e.disable;return p.default.createElement("div",{styleName:"numCtrl"},a<=1||n?p.default.createElement("div",{styleName:"link",className:"c-bgf4"},p.default.createElement("i",{styleName:"subLDisIcon"}," ")):p.default.createElement("div",{styleName:"link",onTouchTap:this.props.handleReduce},p.default.createElement("i",{styleName:"subLIcon"}," ")),null!==t?p.default.createElement("input",{type:"number",min:"1",value:this.props.quantity,onChange:this.props.handleNum,max:t,onFocus:this.scrollView,onBlur:this.props.handleInputNum}):p.default.createElement("input",{type:"number",min:"1",value:this.props.quantity,onChange:this.props.handleNum,onFocus:this.scrollView,onBlur:this.props.handleInputNum}),null!==t&&a>=t||n?p.default.createElement("div",{styleName:"link",className:"c-bgf4"},p.default.createElement("i",{styleName:"plusLDisIcon"}," ")):p.default.createElement("div",{styleName:"link",onTouchTap:this.props.handlePlus},p.default.createElement("i",{styleName:"plusLIcon"}," ")))}}]),t}())||c;t.default=g},AaLo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(16)]).then(function(e){a("aR0x"),t(null,a("PsRS").default)}.bind(null,a)).catch(a.oe)}},Aka7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAA0lBMVEVHcEz///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9sfqkPAAAARXRSTlMACgWoAwYBEYeWpqS2tAK3Bw2XBKuiqrCRsp2V/HCf9axjV06bgFr6fUxgufYJWfeUu0KNvUqej5muv8HCCyWC4toxxAxS+hf8AAAA+ElEQVQ4y+3U107DQBCF4WPHG9IMpFd6772X0P73fyUubOMNxAUhcQPncvStZjWzWukb2dgiNUfbIVwiI/shbGTB46h3fSY1df1WihenuZx3CWd5XBvgqpjpqsFEehnSq0SzG6ZKrwCMYAQ0UmSzA9QGMHwFrhOl2wJ8U4bS2z2wniDNMtA3KkNJD3fAYHaq6wJdowDKuQUWvSmuD9wYRVDOOdD+Io0PtFzFUM4JUP0k52tApykbytkDKhPSzAGFsPQBdWCXJUkL9tEYBo02LbhiX8aCMj7s2E9w9TAemQ3l7q4lLnICpuUf/h3Yg3Eu+PL0/PiDX/MdWOdLlfN+tFMAAAAASUVORK5CYII="},B6QQ:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=h(a("U7vG")),p=h(a("211U")),f=h(a("Biok")),m=a("wj5X");function h(e){return e&&e.__esModule?e:{default:e}}var g=(0,p.default)(f.default,{allowMultiple:!0})(c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.checkHandle=function(){a.props.handleCheck&&a.props.handleCheck()||a.setState({check:!a.state.check})},a.state={check:!a.props.seckill&&!a.props.invalid&&a.props.isCheck},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,m.PureComponent),u(t,[{key:"componentWillReceiveProps",value:function(e){e.seckill||e.invalid?this.setState({check:!1}):this.setState({check:e.isCheck})}},{key:"render",value:function(){return this.props.seckill?d.default.createElement("span",{styleName:"label redLabel"},"秒杀"):this.props.invalid?d.default.createElement("span",{styleName:"label greyLabel"},"失效"):this.props.disable?d.default.createElement("span",{styleName:"checkIcon inv"}," "):d.default.createElement("div",{onClick:!this.props.disable&&this.checkHandle},d.default.createElement("span",{styleName:this.props.isCheck?"checkIcon check":"checkIcon"}," "))}}]),t}())||c;t.default=g},BSod:function(e,t,a){e.exports={oneStrip:"AxDF-XHZsTk0-KjPNrb4C",specIcon:"NYd6zGgAF8e5U3P1TFGBD",specIconImg:"_14k_5umDVrwy84gYXYbm1w",stripText:"_3AV4N3TJZwgcgR-4Zp9lYr",stripTextLeft:"_2JV--vbKk8m1aiNmM4YfKA",stripTextRight:"_2NZ78h_nJY6TVGYbhs3BuO",redPoint:"_1L-zyKk23waCHWbIjVmm2X",rightIcon:"_3GSj51qfLWlo-rBNpJejih"}},Biok:function(e,t,a){e.exports={label:"_16HfwSF7RXs1L14lEQeWVI",redLabel:"dgXr-OLPLiStVUXehf85O",greyLabel:"_1IR3xeAyk93juAN_kQ3WGK",checkIcon:"_3NvBEdjs_peTPjQ_D5c5Pv",check:"hfPSCdMwlkMKXQoUGs-xP",inv:"_3g12ieRQ2xDGvWPfPKWBuu"}},"CN+O":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG"));function s(e){return e&&e.__esModule?e:{default:e}}var c={showPopup:!1,prompt:!1,promptMsg:"",token:"",ident:"",openId:""};t.default=(0,l.default)("userLogin",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"ctrlPopup":return i({},e,{showPopup:t.status});case"addToken":return i({},e,{token:t.token});case"addIdentAndOpenid":return i({},e,{ident:t.ident,openId:t.openId});case"ctrlPrompt":return i({},e,{prompt:t.prompt,promptMsg:t.msg});default:return e}},c)},CmIO:function(e,t,a){"use strict";var n=c(a("mvHQ")),r=c(a("Zx67")),o=c(a("kiBT")),i=c(a("OvRC")),l=c(a("pFYg")),s=c(a("C4MV"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ExchangeRow=t.default=void 0;var u,d,p,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=b(m),g=b(a("211U")),v=b(a("7q/s")),y=a("5VVT"),_=(a("Hl9d"),a("Zfgq")),E=a("5qLU");function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}var N=function(e,t){return function(a,n){var r=parseFloat(a[e]),o=parseFloat(n[e]);return r<o?t?-1:1:r>o?t?1:-1:0}},x=(0,g.default)(v.default)(u=function(e){function t(){return w(this,t),k(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return A(t,m.Component),f(t,[{key:"render",value:function(){var e,t,a=this.props,r=(a.name,a.rules),o=a.type,i=(a.shop_id,a.group_promotion_id),l=a.edit,s=a.exchangeDataLength,c=a.Price,u=a.Num,d=this.props.cart_list,p=JSON.parse((0,n.default)(d)),f="",m=!1,g=0;switch(o){case"FullMinus":var v=r.FullMinus,_=0,E=0;if(v.sort(N("limit_money",!0)),0==r.has_high_limit){var b=Math.floor(c/v[v.length-1].limit_money);b>0?(_=b*parseFloat(v[v.length-1].deduct_money),E=b*parseFloat(v[v.length-1].limit_money),m=_>0,c=Math.floor(c/v[v.length-1].limit_money)*parseFloat(v[v.length-1].limit_money)):v.some(function(e){var t=e.limit_money,a=e.deduct_money;return c<parseFloat(t)||(_=+a,E=+t,m=!0,!1)})}else v.some(function(e){var t=e.limit_money,a=e.deduct_money;return c<parseFloat(t)||(_=a,E=+t,m=!0,!1)});f=h.default.createElement(C,{link:"/searchResult?promotion_id="+i,edit:l},h.default.createElement(y.RedLabel,{styleName:"tag"},"满减"),m?h.default.createElement("span",{styleName:"activityText"},"已购满"+E+"元, 已减"+_+"元"):h.default.createElement("span",{styleName:"activityText"},(t="",r.FullMinus.some(function(e,a){return a===r.FullMinus.length-1?(t+="满"+e.limit_money+"减"+e.deduct_money,!0):(t+="满"+e.limit_money+"减"+e.deduct_money+"，",!1)}),t)," ",0==r.has_high_limit?"，上不封顶":""),h.default.createElement("span",{styleName:"linkRight"},m?"再逛逛":"去凑单"," ",h.default.createElement("i",{styleName:"redArrowIcon"}," ")));break;case"FullDiscount":var w=0,k=r.FullDiscount;if(k.sort(N("full",!0)),u>=k[0].full){m=!0;var A=1,x=0;r.FullDiscount.map(function(e){A<=e.full&&(A=parseFloat(e.full)),u>=e.full&&A<=e.full&&(A=parseFloat(e.full),x=e.percent,w=A)}),g=c*(1-x/100)}f=h.default.createElement(C,{link:"/searchResult?promotion_id="+i,edit:l},h.default.createElement(y.RedLabel,{styleName:"tag"},"满折"),h.default.createElement("span",{className:"g-col-1"},m?"已购满"+w+"件，已减"+g.toFixed(2)+"元":(e="",r.FullDiscount.some(function(t,a){return a===r.FullDiscount.length-1?(e+=t.full+"件"+t.percent/10+"折",!0):(e+=t.full+"件"+t.percent/10+"折，",!1)}),e)),h.default.createElement("span",{styleName:"linkRight"},m?"再逛逛":"去凑单"," ",h.default.createElement("i",{styleName:"redArrowIcon"}," ")));break;case"OptionBuy":if(u>=r.OptionBuy.quantity){m=!0;var S=r.OptionBuy,M=0,T=0;if(c>=S.amount){var I=JSON.parse((0,n.default)(p));I.sort(N("sell_price",!1));for(var P=0;P<I.length;P++){var O=I[P],D=O.promotion_single,L=O.sell_price,j=O.quantity,B=O.check;D&&D.price&&D.price>0&&("SecKill"===D.type?new Date(D.start_time).getTime()<=(new Date).getTime()<new Date(D.end_time).getTime()&&+D.price:+D.price);D&&["FlashSale","DirectReduction","SecKill"].indexOf(D.type);if(B){if(!(M<parseFloat(S.quantity)))break;for(var R=0;R<j&&M<parseFloat(S.quantity);R++)M++,D&&D.price&&D.price>0?T+=parseFloat(D.price):T+=parseFloat(L)}}}g=c>=parseFloat(S.amount)?T-parseFloat(S.amount):0}f=h.default.createElement(C,{link:"/searchResult?promotion_id="+i,edit:l},h.default.createElement(y.RedLabel,{styleName:"tag"},"N元任选"),m?h.default.createElement("span",{styleName:"activityText"},"已购满"+r.OptionBuy.quantity+"件，已减"+g.toFixed(2)+"元"):h.default.createElement("span",{styleName:"activityText"},r.OptionBuy.amount+"元任选"+r.OptionBuy.quantity+"件"),h.default.createElement("span",{styleName:"linkRight"},m?"再逛逛":"去凑单"," ",h.default.createElement("i",{styleName:"redArrowIcon"}," ")));break;case"ExchangeBuy":c>=parseFloat(r.ExchangeBuy.exchange_full)&&(m=!0),f=h.default.createElement(C,{link:"/searchResult?promotion_id="+i,edit:l},h.default.createElement(y.RedLabel,{styleName:"tag"},"换购"),m?s?h.default.createElement("span",{styleName:"activityText"},"已购满"+r.ExchangeBuy.exchange_full+"元，已换购"+s+"件热销商品"):h.default.createElement("span",{styleName:"activityText"},"已购满"+r.ExchangeBuy.exchange_full+"元，可换购"+r.ExchangeBuy.exchange_count+"件热销商品"):h.default.createElement("span",{styleName:"activityText"},"满"+r.ExchangeBuy.exchange_full+"加价可换购"+r.ExchangeBuy.exchange_count+"件热销商品"),h.default.createElement("span",{styleName:"linkRight"},m?"再逛逛":"去凑单"," ",h.default.createElement("i",{styleName:"redArrowIcon"}," ")))}return h.default.createElement("div",{styleName:"marketHeader"},f)}}]),t}())||u;t.default=x;var C=(0,g.default)(v.default)(d=function(e){function t(){return w(this,t),k(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return A(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.edit,a=e.link;return t?h.default.createElement("span",{styleName:"activityLink"},this.props.children):h.default.createElement(_.Link,{to:E.DIR+a,styleName:"activityLink"},this.props.children)}}]),t}())||d;t.ExchangeRow=(0,g.default)(v.default)(p=function(e){function t(){return w(this,t),k(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return A(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.rules,a=e.Price,n=e.group_promotion_id,r=e.hasExchange,o=!1;a>=parseFloat(t.ExchangeBuy.exchange_full)&&(o=!0);var i=t.ExchangeBuy;return h.default.createElement("div",{styleName:"activeRow","data-active-row":!0,className:"c-tr"},o?h.default.createElement("a",{onClick:function(e){e.preventDefault(),_.browserHistory.push(E.DIR+"/exchangeItem?promotion_id="+n+"&fullPrice="+i.exchange_full+"&limit="+i.exchange_count)},styleName:"redBtn",className:"c-dpib c-tc"},r?"重新换购":"立即换购"):h.default.createElement(_.Link,{onClick:function(e){e.preventDefault(),_.browserHistory.push(E.DIR+"/exchangeItem?look=1&promotion_id="+n+"&fullPrice="+i.exchange_full+"&limit="+i.exchange_count)},styleName:"redBtn",className:"c-dpib c-tc"},"查看换购"))}}]),t}())||p},CtTd:function(e,t,a){"use strict";(function(e){var n=u(a("mvHQ")),r=u(a("Zx67")),o=u(a("kiBT")),i=u(a("OvRC")),l=u(a("pFYg")),s=u(a("C4MV")),c=u(a("woOf"));function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d=c.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=b(f),h=(a("Zfgq"),a("d2xe"));a("+Rhp");var g=b(a("4GUf")),v=a("f+hS"),y=a("nztU"),_=a("5qLU"),E=b(a("mtWM"));function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}var N={uc_phoneExist:function(e){return{url:_.UCENTER+"/user/phone_"+e+"/exists"}},uc_sendCode:{url:_.UCENTER+"/mock/send_code",method:"post"},uc_loginOrRegister:{url:_.UCENTER+"/login/quick_login_register",method:"post"}},x=function(t){function a(e){w(this,a);var t=k(this,(a.__proto__||(0,r.default)(a)).call(this,e));return t.state={updata:!0,showSuccessModal:!1},t}return A(a,f.Component),p(a,[{key:"componentWillMount",value:function(){document.title="泰然城新人福利"}},{key:"componentDidMount",value:function(){e("#copWrap").css({minHeight:e(window).height()})}},{key:"render",value:function(){var e=this.state,t=e.updata;e.showSuccessModal;return t?m.default.createElement("div",{"data-page":"copWrap",id:"copWrap"},m.default.createElement("div",{className:"bannerCo"},m.default.createElement("img",{src:"src/pages/activity/cooperActivity58/img/father.jpg",alt:""})),m.default.createElement(T,null),m.default.createElement("div",{className:"btnIcon"},m.default.createElement("img",{src:"src/pages/activity/cooperActivity58/img/bot.png",alt:""})),m.default.createElement("div",{className:"activetyRule"},m.default.createElement("div",{className:"rulesAc"},"活动规则"),m.default.createElement("p",null,"1、新人专享福利仅限泰然城新注册用户专享；"),m.default.createElement("p",null,"2、1分钱专享优惠券为商品抵扣券，不含运费，具 体运费以订单结算页为准；"),m.default.createElement("p",null,'3、下载泰然城APP或关注泰然城公众号使用，具体 在"泰然城-我的-优惠券"查看。'))):m.default.createElement(h.LoadingRound,null)}}]),a}(),C=function(e){function t(e){w(this,t);var a=k(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.closePopupModal=function(){a.setState({show:!1})},a.state={show:!1},a}return A(t,f.Component),p(t,[{key:"componentDidMount",value:function(){this.props.status&&this.setState({show:!0})}},{key:"render",value:function(){return this.state.show?m.default.createElement("div",{className:"popup-modal"},m.default.createElement(h.Shady,null),m.default.createElement("div",{className:"msg-wrapper"},this.props.msg,m.default.createElement("div",{className:"closeMsg",onClick:this.closePopupModal},m.default.createElement("img",{src:"/src/img/icon/close/close-l-x-icon.png"})))):null}}]),t}(),S=new v.Prompt(C),M=function(e){function t(){return w(this,t),k(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return A(t,f.Component),p(t,[{key:"render",value:function(){return this.props.showSuccessModal?m.default.createElement("div",{className:"success-modal"},m.default.createElement(h.Shady,null),m.default.createElement("div",{className:"success-img"},m.default.createElement("a",{href:_.WXURL+"/item?item_id=61938"},m.default.createElement("button",{className:"left"})),m.default.createElement("button",{className:"right",onClick:this.props.closeModal}))):null}}]),t}(),T=function(t){function a(t){w(this,a);var o=k(this,(a.__proto__||(0,r.default)(a)).call(this,t));return o.getCaptcha=function(){var t=o;e.ajax({url:"/wxapi/getRandomCaptcha.api",type:"get",contentType:"application/json",success:function(e){t.setState({imgFlag:!t.state.imgFlag}),e.status&&(t.setState({reciveCode:e.data.captcha_code}),t.setState({captchaId:e.data.primary_image}))},error:function(e){t.setState({imgFlag:!t.state.imgFlag})}})},o.refreshImg=function(){o.state.imgFlag&&(o.setState({imgFlag:!o.state.imgFlag}),o.state.imgFlag&&o.getCaptcha())},o.checkTel=function(){var t=e("#tel").val().replace(/\s+/g,"");return!!/^1/.test(t)&&(o.setState({telCorrect:!0}),!0)},o.checkCodeImg=function(){var t=e("#codeImg").val().replace(/\s+/g,""),a=new RegExp("^"+o.state.reciveCode+"$","i");return t.match(a)?(o.setState({errroMsgcoimg:""}),!0):(o.setState({errroMsgcoimg:"输入错误请重新输入"}),!1)},o.getCode=function(){var t=e("#tel").val();if(o.setState({getcodeFlag:!0}),o.setState({errroMsgcode:""}),11!==t.length&&!o.checkTel())return!1;if(!o.checkCodeImg())return!1;var a=o.state,n=a.count,r=a.codeSend,i=o;E.default.request(d({},N.uc_sendCode,{data:{appId:_.UCAPPID,phone:t,usage:"QUICK_LOGIN_REGISTER"}})).then(function(t){var a=t.data;"200"===a.code?(g.default.MsgTip({msg:"验证码已发送"}),e(".get-code").addClass("countdown").removeClass("send-code"),i.setState({codeSend:!0}),i.timer=setInterval(function(){r=!0,0===--n&&(n=60,r=!1,clearInterval(i.timer),e(".get-code").addClass("send-code").removeClass("countdown")),i.setState({count:n,codeSend:r})}.bind(i),1e3)):i.setState({errroMsgcode:a.message})}).catch(function(){i.setState({errroMsgcode:"服务器繁忙"})})},o.changeHandle=function(){o.setState({errroMsgcode:""});var t=e("#tel").val(),a=e("#code").val();/^1/.test(t)&&o.state.isNew&&o.checkCodeImg()&&a&&o.state.codeSend?o.setState({inputComp:!0}):o.setState({inputComp:!1})},o.formatPhone=function(t){var a=t.target.value;if(11===a.length&&/^1/.test(a)){e("#tel").removeClass("tel_error"),o.setState({errroMsgco:""});var n=o;E.default.request(d({},N.uc_phoneExist(a),{params:{appId:_.UCAPPID}})).then(function(t){var a=t.data;"200"==a.code?a.body?(n.setState({errroMsgco:"您已是泰然城会员，点击活动主图查看更多优惠"}),n.setState({isNew:!1}),e("#tel").addClass("tel_error"),n.changeHandle()):(e("#tel").removeClass("tel_error"),n.setState({isNew:!0})):n.setState({errroMsgcode:a.message})}).catch(function(e){console.log(e),n.setState({errroMsgcode:"服务器繁忙"})})}else o.setState({errroMsgco:"请输入正确的手机号"}),e("#tel").addClass("tel_error")},o.checkPhone=function(t){var a=t.target.value;o.setState({errroMsgcode:""}),/^1/.test(a)||!a.length?(e("#tel").removeClass("tel_error"),o.setState({errroMsgco:""})):(o.setState({errroMsgco:"请输入正确的手机号"}),e("#tel").addClass("tel_error"))},o.loginHandleco=function(){var t=e("#tel").val(),a=e("#code").val(),r=o;o.checkTel()&&o.checkCodeImg()&&a&&o.state.isNew&&(r.setState({errroMsgcode:""}),E.default.request(d({},N.uc_loginOrRegister,{headers:{"X-Platform-Info":"WECHAT"},data:{appId:_.UCAPPID,phone:t,phoneCode:a}})).then(function(a){var o=a.data;if("200"===o.code){var i=o.body,l=i.token,s=i.isNew,c=i.userId;if((0,y.setCookie)("token",l),!s)return r.setState({errroMsgco:"您已是泰然城会员，点击活动主图查看更多优惠"}),void e("#tel").addClass("tel_error");e.ajax({url:"/wxapi/obtainCoupon.api",type:"POST",headers:{domain:".tairanmall.com"},data:(0,n.default)({phone:t,ucenter_id:c}),contentType:"application/json",success:function(e){200==e.code?(r.setState({showSuccessModal:!0}),r.setState({inputComp:!1}),r.setState({isNew:!1})):S.show({msg:e.msg,status:!0})},error:function(e){S.show({msg:JSON.parse(e.response).error.description,status:!0})}})}else r.setState({errroMsgcode:o.message})}).catch(function(e){console.log(e.response),r.setState({errroMsgcode:e.response.data.message})}))},o.onlyNum=function(){e("#tel").val(e("#tel").val().replace(/\D/g,"")),e("#code").val(e("#code").val().replace(/\D/g,""))},o.onlyLetter=function(){e("#codeImg").val(e("#codeImg").val().replace(/[^a-zA-Z0-9]/g,""))},o.closeModal=function(){o.setState({showSuccessModal:!1})},o.state={count:60,codeSend:!1,telCorrect:!1,inputComp:!1,errroMsgco:"",captchaId:"",reciveCode:"",userId:"",isNew:!1,getcodeFlag:!1,errroMsgcoimg:"",imgFlag:!1},o}return A(a,f.Component),p(a,[{key:"componentWillMount",value:function(){this.getCaptcha()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var t=this.state,a=t.count,n=t.codeSend,r=t.inputComp,o=t.telCorrect,i=t.errroMsgco,l=t.errroMsgcoimg,s=t.errroMsgcode,c=t.captchaId,u=t.showSuccessModal,d=t.isNew,p=(t.handleUpdate,t.getcodeFlag),f=n?a+"s后重发":"获取验证码";e("#tel").val();return m.default.createElement("div",{className:"input-area"},m.default.createElement("div",{className:"logoTrc"},m.default.createElement("img",{src:"src/pages/activity/cooperActivity58/img/logotrc.png",alt:""})),m.default.createElement("div",{className:"input-info c-pr"},m.default.createElement("input",{type:"text",id:"tel",placeholder:"请输入手机号码",maxLength:"11",onKeyUp:this.onlyNum,onPaste:this.onlyNum,onBlur:this.formatPhone,onChange:this.checkPhone}),m.default.createElement("span",{className:"errroMsgco"},i)),m.default.createElement("div",{className:"input-info c-pr posImg"},m.default.createElement("input",{type:"text",id:"codeImg",placeholder:"请输入图形验证码",maxLength:"10",onBlur:this.checkCodeImg}),m.default.createElement("span",{className:"get-img c-tc"},m.default.createElement("img",{className:"img-captcha",src:c,onClick:this.refreshImg})),m.default.createElement("span",{className:"errroMsgimg"},l)),m.default.createElement("div",{className:"input-info c-pr posCode"},m.default.createElement("input",{type:"text",id:"code",placeholder:"请输入验证码",maxLength:"10",onChange:this.changeHandle,onKeyUp:this.onlyNum,onPaste:this.onlyNum}),m.default.createElement("span",{className:"get-code c-tc send-code",id:"codeSend",onClick:n||!d?"":this.getCode,disabled:!(o&&n)},f),m.default.createElement("span",{className:"errroMsgcode"},s)),m.default.createElement("div",null,m.default.createElement("input",{type:"button",className:"submit-btn c-tc",disabled:!r||!p,style:{background:r&&p?"#bd976e":"#c9c9c9"},value:"立即注册领取福利",onClick:this.loginHandleco}),m.default.createElement("p",{className:"agreement"},m.default.createElement("span",{className:"agreeIcon"},m.default.createElement("img",{src:"src/pages/activity/cooperActivity58/img/circle.png"})),m.default.createElement("span",{style:{color:"#6d6d6d"}},"我已阅读并同意",m.default.createElement("a",{id:"serviceproto",style:{color:"#bd976e"},href:"https://passport.tairanmall.com/appprotocol/taihe_service.html"},"《泰然一账通会员服务协议》")))),m.default.createElement(M,{showSuccessModal:u,closeModal:this.closeModal}))}}]),a}();t.default=x}).call(this,a("OOjC"))},D1KD:function(e,t,a){e.exports={popupCoupon:"_3RTab1UpEIHa_bmOaRn4WR",active:"fbxnIY9Y-x3yBwYxas9GI",header:"_2LF3ENcB5PXKrrbauUhcIT",iconGrid:"WTNxHfkNgS87rr-4KQnru",blackCloseIcon:"_3D_O0KASM3juys2J0Cbxpu",body:"_1m-V6I60-fM_M4CCXFihpK",oneCoupon:"_3i-AR5rjFUd_nX-cJMSsm1",couponLeft:"_2msTlsTPShy8DUrBFFFRQE",leftOne:"_1pqMDRbT_oyfklARG5zu_2",leftTwo:"_3IkRt4j6hg__1-QfpmukeJ",couponRight:"_35DAenqwuInTFwwlqxTlXh",rightOne:"_2DgA7ZmJZ9CW7gSLED1RsD",rightTwo:"_27wPgesEJvbKNSFpzbIyPD",rightThree:"_1ycuU3cRO_JRzfZdAE2inl","receive-btn":"_3oEX05FLc29OSrbsma4srM","use-btn":"_3rBU7SA-dee5iijlPyS00-",couponRedIcon:"u3wLoXY2B0v2wr16AniXM",couponYellowIcon:"jV1-IYhCcdFiPcks7IVaq",couponRed:"y2DG5pI-1JQiJNYor50mh",couponYellow:"_3lDdR8_lX4a1LgG4uaQUlX"}},E95e:function(e,t,a){"use strict";(function(e){var n=u(a("mvHQ")),r=u(a("Zx67")),o=u(a("kiBT")),i=u(a("OvRC")),l=u(a("pFYg")),s=u(a("C4MV")),c=u(a("woOf"));function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d,p=c.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=(d=m)&&d.__esModule?d:{default:d},g=a("4n+p"),v=a("Zfgq"),y=a("d2xe"),_=a("f2Hk"),E=a("fw66"),b=a("qeJi"),w=a("5qLU");function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}a("SFZ9");var x={completion:{url:w.WXAPI+"/search/auto-complete",method:"get"},hot:{url:w.WXAPI+"/search/hotwords",method:"get",params:{terminal:8}},placeHolder:{url:w.WXAPI+"/search/placeholder",method:"get",params:{terminal:8}}},C=(0,_.actionAxios)("searchIndex"),S=(0,_.concatPageAndType)("searchIndex"),M=function(t){function a(){var t,o,i;k(this,a);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return o=i=A(this,(t=a.__proto__||(0,r.default)(a)).call.apply(t,[this].concat(s))),i.getTerraceHost=function(){var e="m";return navigator.userAgent.indexOf("51gjj")>-1?e="51af-m":"mall"==document.cookie.platform?e="m":"finance"==document.cookie.platform?e="jr-m":document.cookie.origin||(e="wx"),e},i.getLinkByTerrace=function(e){return e&&e.indexOf("tairanmallhost")>-1?e.replace("tairanmallhost",i.getTerraceHost()):e},i.searchSubmit=function(e,t,a){(e=void 0!==e?e.trim():"")?t?window.location.href=i.getLinkByTerrace(t):(i.addHistoryHandle(e),v.browserHistory.replace(w.DIR+"/searchResult?key="+encodeURIComponent(e)+(a&&a.shop?"&shop="+a.shop:"")+(a&&a.coupon_id?"&coupon_id="+a.coupon_id:""))):i.props.dispatch(S("ctrlPrompt",{prompt:{show:!0,msg:"请输入搜索词"}}))},i.addHistoryHandle=function(e){if(!e)return!1;for(var t,a=i.props,r=a.searchHistory,o=a.dispatch,l=0;t=r[l++];)t.word===e&&r.splice(l-1,1);r.unshift({word:e}),r.length>20&&(r.length=20);var s=(0,n.default)(r);window.localStorage.setItem("searchHistory",s),o(S("historyCtrl",{history:r}))},i.clearHistory=function(){window.localStorage.removeItem("searchHistory"),i.props.dispatch(S("historyCtrl",{history:[]}))},i.searchHandle=function(e){i.props.dispatch(S("keyCtrl",{key:e})),""!==e.trim()?i.xhrHandle(i.deleteSpace(e)):i.props.dispatch(S("listCtrl",{list:[]}))},i.getList=function(){return i.props.compList&&i.props.compList.map(function(e,t){return h.default.createElement(I,{key:t,text:e.text,accurate:e.accurate,clickHandle:e.accurate?e.clickHandle:i.searchSubmit.bind(null,e.text)})})},i.deleteSpace=function(e){if("string"==typeof e){e=e.trim();for(var t="",a=0;a<e.length;a++)t+=" "==e[a]?"":e[a];return t}return e},i.searchBarMount=function(t){var a=i.deleteSpace(t);""!==a&&i.props.searchCompletion(a),setTimeout(function(){e(i.refs.search).focus()},0)},A(i,o)}return N(a,m.Component),f(a,[{key:"componentWillMount",value:function(){this.props.initialPage(),this.props.updateHot(),this.props.initPlaceHolder(),this.xhrHandle=(0,b.throttle)(this.props.searchCompletion)}},{key:"render",value:function(){var e=this.props,t=e.keyWord,a=e.param,n=e.placeHolder,r=e.searchHistory,o=e.hotList,i=e.prompt,l=e.promptClose,s=(e.compList,this.props.location.query),c=s.text,u=s.link,d=c||u?{word:c,link:u}:n;return h.default.createElement("div",{"data-page":"search-page",id:"searchPage"},h.default.createElement("div",{style:{borderBottom:"1px solid #e4e4e4"},className:"search-bar-grid"},h.default.createElement(y.SearchBarA,{ref:"search",onChange:this.searchHandle,value:t,param:a,isMount:this.searchBarMount.bind(null,t),onSearch:this.searchSubmit,placeHolder:d})),t?a.shop||a.coupon_id?"":h.default.createElement("div",{className:"search-list-grid"},h.default.createElement("div",{className:"search-list"},this.getList())):h.default.createElement("div",{className:"history-block"},h.default.createElement(T,{type:"history",data:r,param:a,clearHistory:this.clearHistory,searchKeyWord:this.searchSubmit}),h.default.createElement(T,{type:"hotWord",data:o,param:a,searchKeyWord:this.searchSubmit})),h.default.createElement(E.PopupTip,{active:i.show,msg:i.msg,onClose:l}))}}]),a}(),T=function(e){function t(){return k(this,t),A(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return N(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.data,n=e.searchKeyWord,r=e.param,o={history:{text:"历史搜索",del:!0},hotWord:{text:"热门搜索",del:!1}},i=a&&a.length?h.default.createElement("div",{className:"search-key"},a.slice(0,10).map(function(e,t){return h.default.createElement("div",{className:"grid-key",key:t,onClick:function(t){n(e.word,e.link,r)}},h.default.createElement("div",{className:e.highlight?"red-btn":"black-btn"},h.default.createElement("div",null,e.word)))})):h.default.createElement("div",{className:"no-history"},"暂无",o[t].text);return h.default.createElement("div",{className:"search-key-list c-clrfix"},h.default.createElement("h3",null,h.default.createElement("span",null,o[t].text),o[t].del&&h.default.createElement("i",{className:"delete-box-icon",onTouchTap:this.props.clearHistory}," ")),i)}}]),t}(),I=function(e){function t(){return k(this,t),A(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return N(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.text,n=t.accurate;return h.default.createElement("div",{className:"list-one c-clrfix",onClick:function(){return e.props.clickHandle()}},h.default.createElement("div",{className:"c-fl c-dpb grid-left g-col-1"},a),n?h.default.createElement("div",{className:"c-fr c-dpb grid-right"},n,h.default.createElement("i",{className:"arrow-right-icon"}," ")):"")}}]),t}();t.default=(0,g.connect)(function(e,t){return p({},e.searchIndex)},function(e,t){return{dispatch:e,promptClose:function(){e(S("ctrlPrompt",{prompt:{show:!1,msg:""}}))},initialPage:function(){try{var t=window.localStorage.getItem("searchHistory");t&&(t=JSON.parse(t),e(S("historyCtrl",{history:t})))}catch(e){console.error(error)}},initPlaceHolder:function(){e(C("initPlaceHolder",x.placeHolder))},updateHot:function(){e(C("updateHot",x.hot))},searchCompletion:function(t){e(C("searchCpt",p({},x.completion,{params:{keyword:t}}),t))}}})(M)}).call(this,a("OOjC"))},ELH2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){a.e(7).then(function(e){window.IScroll=window.IScroll||a("dql1"),window.echo=window.echo||a("6YRh"),t(null,a("DOM9").default)}.bind(null,a)).catch(a.oe)}},Efj5:function(e,t,a){e.exports={fixedLoad:"Yd-h31kcq1BGCTU_VHeLO",spaceLoad:"MLyQbrkNZ6OBD2j0j7eWR",animateArea:"_30HtefjFm9YHpjanyKvV_N",ball:"_3SgemrcUfZ_uYBw6dyXygM",blueBall:"aAWZLMz6r-VWDZlwKm5l9",redBall:"_3r8sSIEaAmHWeyx9mvJQAE",loadText:"_3HijAzQBX9y-VVH17Wls2u"}},FQO4:function(e,t,a){},Fx3O:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}var c=s(a("woOf")).default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=S(d),f=a("O27J"),m=a("4n+p"),h=a("c9Fv"),g=S(a("4ufr")),v=a("Zfgq"),y=S(a("Vvlt")),_=a("gFN5"),E=a("f2Hk"),b=a("qeJi"),w=a("nztU"),k=(a("d2xe"),a("5qLU")),A=a("iVin"),N=a("Hl9d"),x=S(a("mtWM")),C=S(a("S33B"));function S(e){return e&&e.__esModule?e:{default:e}}a("fujM"),a("a6aF"),a("qrts"),a("w9wd"),a("ppyJ"),a("KKGn"),a("hKoQ").polyfill(),(0,C.default)();var M={uc_isLogin:{url:k.UCENTER+"/user"},uc_logout:{url:k.UCENTER+"/user/logout",method:"post"}},T=(0,E.concatPageAndType)("global");function I(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t);return null!=a?unescape(a[2]):null}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentWillMount",value:function(){var e=I("token"),t=I("openId"),a=I("mini"),n=I("commissionUcenterLoginType"),r=I("commissionUcenterId"),o=I("salesmanId"),i=window.localStorage;e&&((0,w.clearCookie)("token"),(0,w.setCookie)("token",e)),t&&((0,w.clearCookie)("openId"),(0,w.setCookie)("openId",t)),a&&((0,w.clearCookie)("mini"),(0,w.setCookie)("mini",a)),n&&(i.getItem("commissionUcenterLoginType")&&i.removeItem("commissionUcenterLoginType"),i.setItem("commissionUcenterLoginType",n)),r&&(i.getItem("commissionUcenterId")&&i.removeItem("commissionUcenterId"),i.setItem("commissionUcenterId",r)),o&&(i.getItem("salesmanId")&&i.removeItem("salesmanId"),i.setItem("salesmanId",o)),"/item"==location.pathname?"null"!==e&&this.props.getLogin():"/groupDetail"==location.pathname?"null"!==e&&null!==e&&this.props.getLogin():this.props.getLogin()}},{key:"render",value:function(){return p.default.createElement("section",{id:"wap-main"},this.props.children)}}]),t}();P=(0,m.connect)(null,function(e){return{getLogin:function(){var t=(0,w.getCookie)("token"),a=(0,w.getCookie)("openId");t?x.default.request(c({},M.uc_isLogin,{headers:{Authorization:"Bearer "+t}})).then(function(n){var r=n.data;"401"===r.code&&(0,N.miniProgramLogin)(location.href),"200"===r.code?(e(T("changeLogin",{login:!0})),(0,A.loadScript)(k.COLLECTURL,A.sdkUse,r.body.userId),b.browser.versions.weixin&&!a&&x.default.request(c({},M.uc_logout,{headers:{Authorization:"Bearer "+t}})).then(function(){(0,N.miniProgramLogin)(location.href)}).catch(function(){(0,N.miniProgramLogin)(location.href)})):((0,A.loadScript)(k.COLLECTURL,A.sdkUse,""),e(T("changeLogin",{login:!1})))}).catch(function(t){console.error(t),(0,A.loadScript)(k.COLLECTURL,A.sdkUse,""),e(T("getLoginError"))}):((0,A.loadScript)(k.COLLECTURL,A.sdkUse,""),e(T("changeLogin",{login:!1})),(0,N.miniProgramLogin)(location.href))}}})(P);var O=(0,h.createStore)(y.default,{},(0,_.composeWithDevTools)((0,h.applyMiddleware)(g.default))),D={childRoutes:[{path:"/",component:P,indexRoute:{onEnter:function(e,t){return t("/")}},childRoutes:[{path:"userInfo",getComponent:a("VTfs").default,onEnter:function(){document.title="个人信息"}},{path:"userNickname",component:a("wUPt").default,onEnter:function(){document.title="昵称"}},{path:"/homeIndex",getComponent:a("RyPB").default,onEnter:function(){document.title="小泰拼团"}},{path:"/notice",component:a("fiY9").default,onEnter:function(){document.title="公告"}},{path:"/userCenter",component:a("idvL").default,onEnter:function(){document.title="我的拼团",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/login",getComponent:a("Lpgz").default,onEnter:function(){document.title="登录"}},{path:"/loginTransfer",component:a("qBGu").default,onEnter:function(){document.title="登录"}},{path:"/loginTest",component:a("ybQ1").default,onEnter:function(){document.title="订单确认",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/wapLogin",getComponent:a("p2+W").default},{path:"/forgetPwd",getComponent:a("GeYE").default},{path:"/userQrCode",getComponent:a("OghL").default,onEnter:function(){document.title="邀请好友"}},{path:"/shopCart",component:a("x9m6").default,onEnter:function(){document.title="购物袋",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/search",component:a("E95e").default,onEnter:function(){document.title="搜索",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/searchResult",getComponent:a("ELH2").default,onEnter:function(){document.title="搜索结果",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/orderConfirm",component:a("G0HZ").default,onEnter:function(){document.title="订单确认",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/unStockItem",component:a("Zpg5").default,onEnter:function(){document.title="缺货商品",(0,N.shareMiniProgramUrl)(location.href)}},{path:"tradeList/:status",getComponent:a("gOR2").default,onEnter:function(){document.title="我的订单",(0,N.shareMiniProgramUrl)(location.href)}},{path:"tradeSearch",getComponent:a("bv6F").default,onEnter:function(){document.title="订单搜索",(0,N.shareMiniProgramUrl)(location.href)}},{path:"groupList/:status",getComponent:a("NLgc").default,onEnter:function(){document.title="我的拼团",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/tradeDetail",component:a("hd3S").default,onEnter:function(){document.title="订单详情",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/orderCancel",component:a("/o4W").default,onEnter:function(){document.title="取消订单",(0,N.shareMiniProgramUrl)(location.href)}},{path:"customerService",component:a("2rvX").default},{path:"/groupDetail",component:a("k9wu").default,onEnter:function(){document.title="拼团详情",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/couponList",getComponent:a("jgN8").default,onEnter:function(){document.title="优惠券",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/useCoupon",component:a("ybF+").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"/redList",getComponent:a("AaLo").default,onEnter:function(){document.title="红包",(0,N.shareMiniProgramUrl)(location.href)}},{path:"invoiceSelect",component:a("e2ZG").default,onEnter:function(){document.title="发票信息",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/afterSale",component:a("c6H4").default,childRoutes:[{path:"list",component:a("Q2t0").default,onEnter:function(){document.title="退款/售后",(0,N.shareMiniProgramUrl)(location.href)}},{path:"apply",component:a("yxlI").default,onEnter:function(){document.title="售后申请单",(0,N.shareMiniProgramUrl)(location.href)}},{path:"detail",component:a("f831").default,onEnter:function(){document.title="售后申请单详情",(0,N.shareMiniProgramUrl)(location.href)}},{path:"logicompany",component:a("MX37").default,onEnter:function(){document.title="物流公司",(0,N.shareMiniProgramUrl)(location.href)}},{path:"consultrecord",component:a("zRnA").default,onEnter:function(){document.title="协商记录",(0,N.shareMiniProgramUrl)(location.href)}}]},{path:"cashier",component:a("fpgd").default,onEnter:function(){document.title=" 订单支付"}},{path:"payResult",component:a("1V5p").default,onEnter:function(){document.title="支付详情"}},{path:"goodsReceiveInfo",component:a("+G3m").default,indexRoute:{component:a("oomX").default},childRoutes:[{path:"addressManage",getComponent:a("sTH4").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"identityManage",component:a("KQgk").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"identityExample",component:a("bzLZ").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}}]},{path:"/item",getComponent:a("51nd").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"pintuan-rules",component:a("56f2").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"/evaluate",getComponent:a("Rbfj").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"/evaluateInput",component:a("QAvv").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"logistics",getComponent:a("5PjB").default,onEnter:function(){document.title="订单跟踪",(0,N.shareMiniProgramUrl)(location.href)}},{path:"logisticDetail",getComponent:a("PhE9").default,onEnter:function(){document.title="物流详情",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/exchangeItem",component:a("8KRQ").default,onEnter:function(){document.title="换购商品",(0,N.shareMiniProgramUrl)(location.href)}},{path:"/xtlp",getComponent:a("i0YD").default},{path:"/topic",getComponent:a("rDJi").default},{path:"/myCollection",getComponent:a("u3sd").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"/goodCollectionSearch",getComponent:a("yZdg").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"/goodOverdue",getComponent:a("LMxk").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"/5years",component:a("igJ9").default},{path:"/5yearsQrcode",component:a("I9NV").default},{path:"/giftPackage",getComponent:a("Hf3i").default},{path:"store/home",getComponent:a("3DMk").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"store/detail",getComponent:a("w1CX").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"/newUserGift",getComponent:a("jYHR").default,onEnter:function(){(0,N.shareMiniProgramUrl)(location.href)}},{path:"/cooperlogin",component:a("CtTd").default,onEnter:function(){document.title="泰然城新人福利"}},{path:"*",onEnter:function(e,t){return t("/")}}]},{path:"*",onEnter:function(e,t){return t("/")}}]};(0,f.render)(p.default.createElement(m.Provider,{store:O},p.default.createElement(v.Router,{history:v.browserHistory,routes:D})),document.getElementById("app"))},"G/Ei":function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadMask=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=g(d),f=g(a("211U")),m=g(a("XSP4")),h=a("f+hS");function g(e){return e&&e.__esModule?e:{default:e}}var v=(0,f.default)(m.default)(c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"render",value:function(){return p.default.createElement("div",{styleName:"mask"},p.default.createElement("img",{styleName:"mask-load",src:a("rgEM")}))}}]),t}())||c;t.loadMask=new h.Modal(v)},G0HZ:function(e,t,a){"use strict";(function(e){var n=d(a("mvHQ")),r=d(a("fZjL")),o=d(a("Zx67")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OneItem=void 0;var p=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.preventScroll=R;var m=a("U7vG"),h=T(m),g=a("Zfgq"),v=a("4n+p"),y=a("d2xe"),_=(a("qeJi"),a("fw66")),E=a("zpSi"),b=a("f2Hk"),w=a("NUeF"),k=a("G/Ei"),A=(a("TB1E"),a("6quk")),N=T(a("2JAf")),x=(a("8x+B"),T(a("qAHI"))),C=a("5qLU"),S=a("f2t5"),M=a("sEuz");function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}a("jfES");var D={initOrderData:{url:C.WXAPI+"/order/init",method:"post"},recalculate:{url:C.WXAPI+"/order/recalculate",method:"post"},couponRecalculate:{url:C.WXAPI+"/order/applyCouponRecalculate",method:"post"},initCoupon:{url:C.WXAPI+"/promotion/getTradeCoupons",method:"post"},orderSubmit:{url:C.WXAPI+"/order/create",method:"post"},certifyIdentityCard:{url:C.WXAPI+"/user/certifyIdentityCard",method:"get"},getUserInvoice:{url:C.WXAPI+"/user/getUserInvoice",method:"get"},getInvalidSupplyGoods:{url:C.WXAPI+"/order/getInvalidSupplyGoods",method:"post"},getSubscriptionInfoByToken:{url:C.WXAPI+"/order/getSubscriptionInfoByToken",method:"get"}},L=(0,b.concatPageAndType)("orderConfirm");(0,b.actionAxios)("orderConfirm");function j(e){var t=[];return e.map(function(e,a){e.disabled||t.push(e)}),t.length}function B(e){var t=e.split(" ");return t[0].split("-").join("/").substring(2)+" "+t[1].substring(0,5)}function R(t){t?e("body").css({overflow:"hidden"}):e("body").css({overflow:"auto"})}var U=function(t){function a(){var e,t,n;I(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return t=n=P(this,(e=a.__proto__||(0,o.default)(a)).call.apply(e,[this].concat(l))),n.goCertify=function(){x.default.request(p({},D.certifyIdentityCard,{params:{card_id:n.props.idCards[0].card_id}})).then(function(e){e.data;n.props.dispatch(L("ctrlModal",{modal:"goCertify",status:!1})),A.tip.show({msg:"认证成功"})}).catch(function(e){console.log(e),A.tip.show({msg:e.response.data.message||"服务器繁忙"})})},n.getOverBuyLimitItem=function(){var e=n.props.data,t=e.over_buy_limit_item,a=e.cart,o=[];return(0,r.default)(t).some(function(e,t){a.some(function(t,a){t.object.some(function(t,a){if(e!=t.sku_id)return!1;o.push(t)})})}),o.map(function(e,t){return h.default.createElement(z,{key:t,data:e,val:!0})})},P(n,t)}return O(a,m.Component),f(a,[{key:"componentWillMount",value:function(){var e=this;this.props.cartToken?x.default.request(p({},D.getSubscriptionInfoByToken,{params:{token:this.props.cartToken}})).then(function(t){var a=t.data;window.sessionStorage.setItem("cart_buy",(0,n.default)(a.data.subscriptionInfo)),e.props.from&&!e.props.load?("address"===e.props.from&&e.props.initialData(e.props.from,e.props.newAddress),e.props.setOrigin()):e.props.initialData()}).catch(function(e){A.tip.show({msg:e.message||e.response.data.message||"服务器繁忙"}),console.error(e)}):this.props.from&&!this.props.load?("address"===this.props.from&&this.props.initialData(this.props.from,this.props.newAddress),this.props.setOrigin()):this.props.initialData()}},{key:"componentDidMount",value:function(){e(window).scrollTop(this.props.disTop)}},{key:"componentWillReceiveProps",value:function(e){var t=e.address,a=e.newAddress,n=e.nonDetailAddress;e.load!==this.props.load&&n&&t.length>0&&t.length<20&&-1===a.detail_address.indexOf(""+n)&&this.props.popupImperfectAddress(!0)}},{key:"componentWillUnmount",value:function(){this.props.saveDistanceTop(),A.tip.destroy(),k.loadMask.destroy()}},{key:"render",value:function(){var t=this,a=this.props,n=a.load,r=a.amounts,o=a.assist,i=a.cart,l=i.disabled_goods,s=i.enabled_goods,c=a.idCards,u=a.invoice,d=a.orderFormRegionList,p=a.newAddress,f=a.nonDetailAddress,m=a.hasNotice,v=a.couponSelect,E=a.firstChooseAddress,b=(a.setOrigin,a.changeCrossBorderNoticeStatus),w=a.addBuyMessage,k=a.buyMessage,A=a.couponStatus,N=a.couponList,x=a.onRedPacket,C=a.onPayPopup,S=a.payTypeChoose,M=a.toggleInvoice,T=a.popupItem,I=a.shopIdArr,P=a.redPacketShow,O=a.applyRed,D=(a.paymentSelect,a.agree),j=a.agreeHandle,B=a.formSubmit,U=a.disabledInvoiceItem,q=a.overBuyLimitItemModal,z=a.invoiceItemShow,Q=a.invalidCouponShow,Z=a.emptyAddress,V=a.imperfectAddress,te=a.alterationModal,ae=a.invoiceModal,ne=a.redSelectModal,re=a.diffNameModal;return z||Q||Z||V||te||ae||ne.show||re||P||q?R(!0):R(!1),h.default.createElement("div",{"data-page":"order-confirm",ref:"orderPage",style:{minHeight:e(window).height()}},n?h.default.createElement(y.LoadingRound,null):h.default.createElement("form",{id:"orderConfirm",onSubmit:function(e){return e.preventDefault()}},s.length>0&&o.need_id_card&&h.default.createElement(K,{hasNotice:m,changeCrossBorderNoticeStatus:b}),h.default.createElement(F,{enabled_goods:s,address:p,identify:c,overSeas:o.contain.hai_tao,needId:o.need_id_card,firstChooseAddress:E,setOrigin:this.props.setOrigin}),s.length>0?h.default.createElement("div",null,h.default.createElement(H,{data:d,messageHandle:w,buyMessage:k}),h.default.createElement(W,{data:l}),A&&h.default.createElement("div",null,h.default.createElement(G,{item_id:this.props.location.query.item_id,amounts:r,couponList:N,couponSelect:v,onRedPacket:x,assist:o,onPayment:C,payTypeChoose:S.type,invoice:u,toggleInvoice:M,popupItem:T.bind(null,!0),shopIdArr:I,setOrigin:this.props.setOrigin,dispatch:this.props.dispatch}),h.default.createElement(X,{data:N.red_packets,show:P,applyRed:O,onRedPacket:x})),h.default.createElement($,{agree:D,agreeHandle:j}),h.default.createElement(ee,{address:p})):h.default.createElement(W,{data:l}),h.default.createElement(J,{amounts:r,enabled_goods:s,couponSelect:v,formSubmit:function(){B(t.props)},agree:D})),h.default.createElement(Y,{active:this.props.invoiceItemShow,onClose:this.props.popupItem.bind(null,!1),disabledInvoiceItem:U}),h.default.createElement(_.ModalAComp,{active:this.props.invalidCouponShow,msg:"优惠券已失效，已为您重新选择",btns:[{text:"我知道了",cb:function(){t.props.initialData()}}]}),h.default.createElement(_.ModalAComp,{active:this.props.emptyAddress,msg:this.props.firstCA?"请先选择收货地址":"您还没有收货地址，先去创建一个吧！",btns:[{text:"取消",cb:function(){t.props.dispatch(L("ctrlModal",{modal:"emptyAddress",status:!1}))}},{text:"确定",cb:function(){t.props.setOrigin("address"),g.browserHistory.push("/goodsReceiveInfo/addressManage?from=2"),t.props.dispatch(L("ctrlModal",{modal:"emptyAddress",status:!1}))}}]}),h.default.createElement(_.ModalAComp,{active:this.props.imperfectAddress,msg:"您在浏览商品过程中选择了 "+f+" ，若确认配送到该地区请新建一个收货地址",btns:[{text:"取消",cb:function(){t.props.dispatch(L("ctrlModal",{modal:"imperfectAddress",status:!1}))}},{text:"去新建",cb:function(){t.props.setOrigin("address"),g.browserHistory.push("/goodsReceiveInfo/addressManage?from=2"),t.props.dispatch(L("ctrlModal",{modal:"imperfectAddress",status:!1}))}}]}),h.default.createElement(_.ModalAComp,{active:this.props.alterationModal,msg:"商品信息变动，请刷新页面或返回修改？",btns:[{text:"刷新",cb:function(){t.props.initialData()}},{text:"返回",cb:function(){t.props.cartToken?wx.miniProgram.navigateBack():g.browserHistory.goBack()}}]}),h.default.createElement(_.ModalAComp,{active:this.props.goCertify,msg:"身份信息未认证，请先认证",btns:[{text:"取消",cb:function(){t.props.dispatch(L("ctrlModal",{modal:"goCertify",status:!1}))}},{text:"认证",cb:function(){t.goCertify()}}]}),h.default.createElement(_.ModalAComp,{active:this.props.uploadIdImg,msg:"请上传身份证照片",btns:[{text:"取消",cb:function(){t.props.dispatch(L("ctrlModal",{modal:"uploadIdImg",status:!1}))}},{text:"去上传",cb:function(){g.browserHistory.push("/goodsReceiveInfo/identityManage?from=1&&status="+o.contain.hai_tao)}}]}),h.default.createElement(_.ModalAComp,{active:this.props.invoiceModal,closeModal:function(){t.props.dispatch(L("invoiceModal"))},msg:"泰然城默认开具电子发票，请填写您的收票邮箱",btns:[{text:"取消",cb:function(){t.props.dispatch(L("invoiceModal"))}},{text:"去填写",cb:function(){t.props.dispatch(L("invoiceModal")),g.browserHistory.push("/invoiceSelect?shop_ids="+I.join(",")+"&invoice=ELEC&action="+u.action)}}]}),h.default.createElement(_.ModalAComp,{active:this.props.redSelectModal.show,msg:this.props.redSelectModal.msg,btns:[{text:"我知道了",cb:function(){t.props.initialData(),t.props.dispatch(L("redSelectModal",{modal:{show:!1,msg:""}}))}}]}),h.default.createElement(_.ModalAComp,{active:this.props.diffNameModal,msg:"点击确认修改，收货人姓名将变更为身份证姓名，但不影响收货地址，是否修改？",title:"收货人姓名与身份证姓名不一致！",btns:[{text:"返回编辑",cb:function(){t.props.dispatch(L("ctrlModal",{modal:"diffNameModal",status:!1}))}},{text:"确定修改",cb:function(){t.props.dispatch(L("equalName")),setTimeout(function(){t.props.formSubmit(t.props)},0)}}]}))}}]),a}(),F=function(e){function t(){var e,a,n;I(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=P(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.toSelect=function(e,t){n.props.setOrigin(e),g.browserHistory.push(t)},P(n,a)}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.address,a=e.identify,n=e.needId,r=e.overSeas,o=e.enabled_goods;return h.default.createElement("div",{className:"order-header"},h.default.createElement("div",{onClick:this.toSelect.bind(null,"address",t.address_id?"/goodsReceiveInfo/addressManage?from=1":"/goodsReceiveInfo/addressManage?from=2"),className:"user-address g-row-flex g-col-mid g-col-ctr"},t.address_id?h.default.createElement("div",{className:"content-text g-col-1"},h.default.createElement("div",{className:"text-top g-row-flex"},h.default.createElement("span",{className:"c-fs18 c-mr15"},t.name),h.default.createElement("span",{className:"c-fs18"},t.mobile)),h.default.createElement("div",{className:"text-bottom"},!!t.is_default&&h.default.createElement("span",{className:"btn btn1"},"默认"),h.default.createElement("span",{className:"btn btn2"},"收货地址"),t.detail_address," ")):h.default.createElement("div",{className:"g-col-1 c-fs15"},"您的收货地址为空，点击添加"),h.default.createElement("div",{className:"right-icon"},h.default.createElement("i",{className:"arrow-right-icon"}," "))),o.length&&n?/*!!identify.length ? `/goodsReceiveInfo/identityManage?from=1&&status=${ overSeas }` : `/goodsReceiveInfo/identityManage?from=2&status=${ overSeas }`*/
h.default.createElement("div",{onClick:t.address_id?this.toSelect.bind(null,"origin","/goodsReceiveInfo/identityManage?from=1&&status="+r):this.props.firstChooseAddress,className:"user-idtf g-row-flex g-col-ctr g-col-mid"},h.default.createElement("div",{className:"idtf-center g-col-1"},a.length>0?h.default.createElement("span",null,"身份证信息：",(0,S.handleId)(a[0].id_number)," "):h.default.createElement("span",null,"因海关清关需要，请填写收货人的身份证号")),h.default.createElement("div",{className:"right-icon"},h.default.createElement("i",{className:"arrow-right-icon"}," "))):"",h.default.createElement("div",{className:"order-header-bottom"}))}}]),t}(),H=function(e){function t(){return I(this,t),P(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.messageHandle,n=e.buyMessage,r=t&&t.map(function(e,t){return h.default.createElement(q,{key:t,data:e,messageHandle:a,buyMessage:n})});return h.default.createElement("div",{className:"order-box"},h.default.createElement("div",{className:"item-val"},r))}}]),t}(),q=function(e){function t(){return I(this,t),P(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.shopInfo,a=t.shop_icon,n=t.name,r=t.alias,o=t.shop_id,i=e.amount,l=e.goods,s=l&&l.map(function(e,t){return h.default.createElement(z,{key:t,data:e,val:!0})});return h.default.createElement("div",{className:"item-store"},S.hideFlag&&h.default.createElement("div",{className:"store-header"},h.default.createElement("span",{style:{position:"absolute"}},(0,w.storeIcon)(a)),h.default.createElement("span",{className:"title"},r||n)),h.default.createElement("div",{className:"store-body"},s),h.default.createElement("div",{className:"list-total"},i.discount_promotion>0&&h.default.createElement("div",{className:"list g-row-flex"},h.default.createElement("div",{className:"list-left"},"店铺优惠"),h.default.createElement("div",{className:"list-right"},"- ¥ ",(+i.discount_promotion).toFixed(2))),i.discount_vip>0&&h.default.createElement("div",{className:"list g-row-flex"},h.default.createElement("div",{className:"list-left"},"会员折扣"),h.default.createElement("div",{className:"list-right"},"- ¥ ",(+i.discount_vip).toFixed(2))),i.tax>0&&h.default.createElement("div",{className:"list g-row-flex"},h.default.createElement("div",{className:"list-left"},"税费"),h.default.createElement("div",{className:"list-right"},"¥ ",(+i.tax).toFixed(2))),h.default.createElement("div",{className:"list g-row-flex"},h.default.createElement("div",{className:"list-left"},"运费"),h.default.createElement("div",{className:"list-right"},i.freight&&" ¥"+(+i.freight).toFixed(2)||" ¥0.00")),h.default.createElement("div",{className:"list g-row-flex list-input"},h.default.createElement("div",{className:"input-wrapper"},h.default.createElement("input",{type:"text",defaultValue:this.props.buyMessage[o],onBlur:this.props.messageHandle.bind(this,o),placeholder:"给商家留言",maxLength:"200"}))),h.default.createElement("div",{className:"list store-price"},"共",i.good_num,"件商品   小计：",h.default.createElement("span",{className:"c-cdred"},"¥ ",h.default.createElement("i",{className:"c-fs16 c-fb"},(+i.payment).toFixed(2))))))}}]),t}(),z=t.OneItem=function(e){function t(){return I(this,t),P(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.val;e.noLabel,t.promotion?t.promotion.real_store:t.store.real,t.quantity;return h.default.createElement("div",{className:"one-item-grid",style:a&&t.formatPromotionsToApp[0]&&"ExchangeBuy"===t.formatPromotionsToApp[0].type?{backgroundColor:"#ffe7e7"}:{}},h.default.createElement("div",{className:"one-item "+(a?"":"inval")},h.default.createElement("div",{className:"item-img"},h.default.createElement("img",{src:(0,S.addImageSuffix)(t.primary_image,"_s")})),h.default.createElement("div",{className:"item-info"},h.default.createElement("div",{className:"info-title c-fb"},t.title),h.default.createElement("div",{className:"info-spec c-c999"},t.spec_text),h.default.createElement("div",{className:"info-price c-cdred c-fs13"},"¥",t.current_price),a&&h.default.createElement("div",{className:"tags"},!!t.formatPromotionsToApp.length&&h.default.createElement("span",{className:"act-label"},t.formatPromotionsToApp[0].tag),!!t.freeRefund&&h.default.createElement("span",{className:"free-refund"},"七天可退")),t.invalid_message&&h.default.createElement("div",{className:"invalid-message c-fs12 c-c35 c-fb"},t.invalid_message),h.default.createElement("div",{className:"info-btm c-fs13"},"×",t.quantity))))}}]),t}(),G=function(e){function t(){return I(this,t),P(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.amounts,n=t.couponList,r=n.red_packets,o=n.usable_coupons,i=(n.unusable_coupons,t.couponSelect),l=(t.onRedPacket,t.assist),s=(l.allow_offline,l.allow_invoice,t.onPayment,t.payTypeChoose,t.invoice),c=t.popupItem,u=t.toggleInvoice,d=t.shopIdArr,f=t.item_id,m=t.dispatch;return h.default.createElement("div",{className:"order-total c-fs13"},h.default.createElement("div",{className:"order-discounts"},h.default.createElement("span",{onClick:function(t){e.props.setOrigin("useCoupon"),g.browserHistory.push("/useCoupon?item_id="+f)}},h.default.createElement("div",{className:"order-discounts-list g-row-flex",style:o.length?{}:{display:"none"}},h.default.createElement("div",{className:"list-left"},"优惠券"),h.default.createElement("div",{className:"list-right"},a.discount_coupon?h.default.createElement("span",{className:"c-cdred list-right-text"},"已减"+i.desc+"元"):o.length?h.default.createElement("span",{className:"c-cdred"},o.length,"张可用"):h.default.createElement("span",null,"无可用")),h.default.createElement("div",{className:"list-icon"},h.default.createElement("i",{className:"arrow-right-icon"}," ")))),h.default.createElement("div",{className:"order-discounts-list g-row-flex",onClick:this.props.onRedPacket.bind(this,!0)},h.default.createElement("div",{className:"list-left"},"红包"),h.default.createElement("div",{className:"list-right"},j(r)?h.default.createElement("span",{className:"c-cdred list-right-text"},a.discount_hb?"已减"+a.discount_hb+"元":j(r)+"个可用"):h.default.createElement("span",null,"无可用")),h.default.createElement("div",{className:"list-icon"},h.default.createElement("i",{className:"arrow-right-icon"}," ")))),h.default.createElement("div",{className:"order-pay-invoice"},h.default.createElement("div",{className:"list g-row-flex"},s.allow_invoice?h.default.createElement("div",{className:"list-left-spec"},s.status?h.default.createElement("i",{className:"trc-choose",onClick:function(){u()}}):h.default.createElement("i",{className:"trc-no-choose",onClick:function(){x.default.request(p({},D.getUserInvoice,{params:{shop_id:d.join(",")}})).then(function(e){e.data.data.invoice.has_electronic_invoice?u(e.data.data.invoice.user_invoice):m(L("invoiceModal"))}).catch(function(e){A.tip.show({msg:e.response.data.message||"小泰发生错误，请稍后再试~"}),console.error(e)})}}," "),"开具发票"):h.default.createElement("div",{className:"list-left-spec"},h.default.createElement("i",{className:"trc-not-choose"})),h.default.createElement("div",{className:"list-middle-spec"},s.allow_invoice?s.disabled_sku_ids.length>0&&s.status&&h.default.createElement("span",null," ",h.default.createElement("span",{className:"tip"},"部分商品不支持"),h.default.createElement("i",{onClick:c,className:"question-symbol-icon"}," ")):h.default.createElement("span",{className:"tip"},"所有商品均不支持开具发票")),s.allow_invoice&&h.default.createElement("div",{className:"list-right list-right-invoice c-c999"},s.status?h.default.createElement(g.Link,{to:"/invoiceSelect?shop_ids="+d.join(",")+"&invoice="+s.type+"&action="+s.action},h.default.createElement("span",null,h.default.createElement("span",{className:"c-fb c-fs13 list-right-text"},s.text.split("-")[1],"发票"),h.default.createElement("i",{className:"arrow-right-icon list-icon"}," "))):h.default.createElement("span",null,"不开发票"))),h.default.createElement("p",{className:"invoice-tip"},"活动e卡不支持开具发票，如需使用活动e卡请不要选择开具发票")))}}]),t}(),W=function(e){function t(){return I(this,t),P(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e&&e.map(function(e,t){return h.default.createElement(z,{key:"item"+t,data:e,val:!1})});return e.length?h.default.createElement("div",{className:"invaild-item"},h.default.createElement("p",{className:"title c-cdred c-fs14"},"失效商品"),h.default.createElement("div",null,t)):null}}]),t}(),J=function(e){function t(){return I(this,t),P(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.amounts,a=e.enabled_goods,n=e.agree;e.couponSelect;return h.default.createElement("div",{className:"order-form g-row-flex"},h.default.createElement("div",{className:"money-total g-col-1 g-row-flex"},h.default.createElement("div",{className:"c-fs13 g-col-1 c-c35"},"合计：",h.default.createElement("span",{className:"c-fs18 c-fb "+(a.length?"c-cdred":"c-c35")},"¥ ",(+t.payment).toFixed(2)))),n&&a.length?h.default.createElement("div",{className:"form-btn c-bgdred",onClick:this.props.formSubmit},"提交订单"):h.default.createElement("div",{className:"form-btn c-bgc9"},"提交订单"))}}]),t}(),X=function(e){function t(){var e,a,n;I(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=P(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.onSure=function(){n.props.onRedPacket(!1)},P(n,a)}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.show;return h.default.createElement("div",{onClick:this.props.onRedPacket.bind(this,!1)},a&&h.default.createElement(y.Shady,null),h.default.createElement("div",{className:"popup-red-packet "+(a?"active":""),onClick:function(e){return e.stopPropagation()}},h.default.createElement("div",{className:"popup-top  c-c999 c-fb"},"红包"),t.length?h.default.createElement("div",{className:"popup-body"},h.default.createElement(Q,{data:t,applyRed:this.props.applyRed}),h.default.createElement("div",{className:"popup-btm"},h.default.createElement("div",{className:"close-btn",onClick:this.onSure},"确定"))):h.default.createElement(V,null)))}}]),t}(),Q=function(e){function t(){var e,a,n;I(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=P(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.applyPlatform=function(e){return"ALL"===e?"":"• "+e.toUpperCase()+"端专用"},n.itemType={10:"普通商品",20:"虚拟商品",30:"内购商品"},n.applyItem=function(e){return"ALL"===e?"":"• 仅限"+e.split(",").map(function(e){return n.itemType[e]}).join("、")+"使用"},n.getList=function(){var e=n.props,t=e.data,a=e.applyRed;return t&&t.map(function(e,t){return h.default.createElement("div",{className:"one-red-packet "+(!e.check&&e.disabled?"inv":""),key:t,onClick:!e.disabled&&a.bind(n,t)},h.default.createElement("div",{className:"red-main g-row-flex"},h.default.createElement("div",{className:"left c-fb "+(e.deduct_money>999.99?"small":"")},"¥ ",h.default.createElement("span",null,e.deduct_money)),h.default.createElement("div",{className:"right g-col-1"},h.default.createElement("div",{className:"top c-fb"},e.name),h.default.createElement("div",{className:"main"},h.default.createElement("p",null,n.applyItem(e.applicable_item_type)),h.default.createElement("p",null,n.applyPlatform(e.applicable_platform)))),e.check?h.default.createElement("i",{className:"check-green-icon"}," "):e.disabled?h.default.createElement("i",{className:"no-check-grey-icon"}," "):h.default.createElement("i",{className:"no-check-white-icon"}," ")),h.default.createElement("div",{className:"red-time"},"有效期：",B(e.use_start_time)," 至 ",B(e.use_end_time)))})},n.unRed=function(){var e=n.props.data;return e&&e.every(function(e,t){return!e.check})},P(n,a)}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props.data;return h.default.createElement("div",{className:"red-packet-list"},h.default.createElement("div",{className:"list-top c-fb"},j(t),"个可用"),h.default.createElement("div",{className:"list-body"},this.getList(),h.default.createElement("div",{className:"empty-red",onClick:function(){return e.props.applyRed(-1)}},"不使用红包",this.unRed()?h.default.createElement("i",{className:"check-green-icon"}," "):h.default.createElement("i",{className:"no-check-white-icon"}," "))))}}]),t}(),Z=(function(e){function t(){return I(this,t),P(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}O(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",{onClick:this.props.modalCtrl.bind(null,!1)},this.props.data.show&&h.default.createElement(y.Shady,null),h.default.createElement("div",{className:"payment-select "+(this.props.data.show?"active":""),onClick:function(e){return e.stopPropagation()}},h.default.createElement("div",{className:"title"},"支付方式"),h.default.createElement("div",{className:"select-list"},h.default.createElement("div",{className:"select-li g-row-flex",onClick:this.props.paymentSelect.bind(null,"10")},h.default.createElement("div",{className:"left g-col-1"},"线上支付"),h.default.createElement("div",{className:"right"},h.default.createElement("span",{className:"check-icon "+("10"===this.props.data.type?"check":"")}," "))),h.default.createElement("div",{className:"select-li g-row-flex",onClick:this.props.paymentSelect.bind(null,"20")},h.default.createElement("div",{className:"left g-col-1"},"线下支付"),h.default.createElement("div",{className:"right"},h.default.createElement("span",{className:"check-icon "+("20"===this.props.data.type?"check":"")}," ")))),h.default.createElement("div",{className:"coupon-btm",onClick:this.props.modalCtrl.bind(null,!1)},h.default.createElement("div",{className:"close-btn"},"关闭"))))}}])}(),function(e){function t(){var e,a,n;I(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=P(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.getList=function(){return n.props.disabledInvoiceItem.map(function(e,t){return h.default.createElement("div",{className:"one-list",key:t},h.default.createElement("div",{className:"img"},h.default.createElement("img",{src:(0,S.addImageSuffix)(e.primary_image,"_s")})),h.default.createElement("div",{className:"content"},h.default.createElement("div",{className:"title"},e.title),h.default.createElement("div",{className:"props"},e.spec_text)))})},P(n,a)}return O(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",{"data-page":"order-confirm",onClick:this.props.onClose},h.default.createElement(y.Shady,{options:{zIndex:108}}),h.default.createElement("div",{className:"popup-item"},h.default.createElement("div",{className:"popup-body",onClick:function(e){e.stopPropagation()}},h.default.createElement("h3",null,"不可开发票商品"),h.default.createElement("div",{className:"list"},this.getList())),h.default.createElement("div",{className:"popup-bottom"},h.default.createElement("i",{className:"close-l-x-icon"}," "))))}}]),t}()),Y=(0,E.HOCPopup)(Z),K=function(e){function t(){return I(this,t),P(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return O(t,m.Component),f(t,[{key:"render",value:function(){var e=this;return this.props.hasNotice?h.default.createElement("div",null,h.default.createElement("div",{className:"cross-border-notice"},h.default.createElement("img",{src:"/src/img/orderConfirm/bell.png"}),h.default.createElement("p",{className:"notice"},"温馨提示：为保障顺利清关，收货地址使用的收货人姓名、身份证号请与付款人真实信息保持一致。"),h.default.createElement("span",{className:"close",onClick:function(){e.props.changeCrossBorderNoticeStatus(!1)}},"×")),h.default.createElement("div",{style:{height:"50px"}})):null}}]),t}(),V=function(){return h.default.createElement("div",{className:"c-tc",style:{padding:"57px 0 100px"}},h.default.createElement("img",{src:a("6Lri"),width:"58",height:"54"}),h.default.createElement("p",{className:"c-cc9 c-fs12 c-mt15"},"您还没有红包哦"))},$=function(e){function t(e){I(this,t);var a=P(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.agreementHandle=function(e){a.setState({agreement:e})},a.state={agreement:""},a}return O(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"user-agreement"},h.default.createElement("span",{onClick:this.props.agreeHandle},this.props.agree?h.default.createElement("i",{className:"current-agree-icon"}," "):h.default.createElement("i",{className:"current-no-agree-icon"}," ")),h.default.createElement("span",{onClick:this.agreementHandle.bind(this,"agreement")},"我已同意并接受《泰然城服务协议》"),"agreement"===this.state.agreement&&h.default.createElement(N.default,{onClose:this.agreementHandle.bind(this,"")}))}}]),t}(),ee=function(t){function a(e){I(this,a);var t=P(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.state={show:!1},t}return O(a,m.Component),f(a,[{key:"componentDidMount",value:function(){var t=this;e(window).bind("scroll",function(){e(this).scrollTop()>e(".user-address").height()?t.setState({show:!0}):t.setState({show:!1})})}},{key:"componentWillUnmount",value:function(){e(window).unbind("scroll")}},{key:"render",value:function(){var e=this.props.address;return e.address_id&&this.state.show?h.default.createElement("div",null,h.default.createElement("div",{className:"address-tip"},"送至: ",e.detail_address||e.area+e.addr," "),h.default.createElement("div",{style:{height:"33px"}})):null}}]),a}();t.default=(0,v.connect)(function(e,t){return p({},e.orderConfirm,e.global)},function(t,a){var r=!1,o=a.location.query,i=o.item_id,l=o.cartToken,s=i?window.sessionStorage.getItem("areaData")&&JSON.parse(window.sessionStorage.getItem("areaData")):"",c=i?window.sessionStorage.getItem("fast_buy")&&JSON.parse(window.sessionStorage.getItem("fast_buy")):"undefined"!==window.sessionStorage.getItem("cart_buy")&&JSON.parse(window.sessionStorage.getItem("cart_buy"));return{cartToken:l,dispatch:t,setOrigin:function(e){t(L("setOrigin",{origin:e}))},initialData:function(e,a){var r=(c=i?JSON.parse(window.sessionStorage.getItem("fast_buy")):"undefined"!==window.sessionStorage.getItem("cart_buy")&&JSON.parse(window.sessionStorage.getItem("cart_buy")))&&(0,n.default)(c.subscribe),o="address"===e?a:s&&s.address_id&&s||"",l="address"===e?a:s;"address"!==e&&t(L("resetState")),x.default.request(p({},D.initOrderData,{data:p({},c,{subscribe:r,address:(0,n.default)(o)}),transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})).then(function(e){var a=e.data;t(L("initialData",{result:a.data,showChooseAddress:l}));var r={amounts:a.data.amounts,cart:a.data.cart};x.default.request(p({},D.initCoupon,{data:{enabled_goods:(0,n.default)(a.data.cart.enabled_goods)}})).then(function(e){var a=e.data;if(t(L("couponData",{result:a.data,couponStatus:!0})),a.data.usable_coupons[0]){var o=(0,M.redPacketFilter)(r.cart.enabled_goods,a.data.red_packets);o.map(function(e){e.is_used=!1,e.is_enable=!0,e.code=e.coupon_code}),x.default.request(p({},D.couponRecalculate,{data:{hbCodes:(0,n.default)(o),couponCode:a.data.usable_coupons[0].coupon_code,orderData:(0,n.default)(r)}})).then(function(e){var a=e.data;t(L("initialDataUpdate",{data:a.data.amounts,cartTicket:a.data.cartTicket})),t(L("resetRedPacket",{data:a.data.hbList}))}).catch(function(e){A.tip.show({msg:e.response.data.message||"服务器繁忙"}),console.error(e)})}}),a.data.address.length||t(L("ctrlModal",{modal:"emptyAddress",status:!0,firstCA:!1}))}).catch(function(e){A.tip.show({msg:e.message||e.response.data.message||"服务器繁忙"}),console.error(e)})},formSubmit:function(e){var a=e.newAddress,o=e.idCards,i=e.assist,l=e.invoice,s=e.payTypeChoose,u=e.buyMessage,d=(e.data,e.couponSelect),f=e.couponList.red_packets,m=e.orderFormRegionList,h=e.cartTicket,v=e.enableSubscribe,y=!(!m[0].goods[0].extra.length||"GroupBuy"!==m[0].goods[0].extra.promotion[0].type),_=!!m[0].goods[0].extra.length&&m[0].goods[0].extra.promotion[0].promotion_id||0,E=(u.id,[]);if(f&&f.map(function(e,t){e.check&&E.push(e.coupon_code)}),a.address_id){if(i.need_id_card){if(!o.length)return void A.tip.show({msg:"请先选择身份信息！"});if(a.name!==o[0].name)return void t(L("ctrlModal",{modal:"diffNameModal",status:!0}))}if(!r){var b={address:(0,n.default)(a),cardId:i.need_id_card?o[0].card_id:"",invoiceId:l.status?l.id:"",couponCode:d.code,hbCodes:(0,n.default)(E),subscribe:(0,n.default)(v),buyMode:c.buyMode,bizMode:c.bizMode,bizAttr:c.bizAttr,paymentType:s.type,cartTicket:h};for(var w in u)b["buyMessages["+w+"]"]=u[""+w];r=!0,x.default.request(p({},D.getInvalidSupplyGoods,{data:{address:(0,n.default)(a),subscribe:(0,n.default)(v)}})).then(function(e){var a=e.data;a.data.length?(t(L("invalidSupplyGoods",{data:a.data})),setTimeout(function(){r=!1,g.browserHistory.replace("/unStockItem")})):x.default.request(p({},D.orderSubmit,{data:b,transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})).then(function(e){var t=e.data;setTimeout(function(){r=!1,g.browserHistory.replace("/cashier?tid="+t.data.order_id+"&GroupBuy="+y+"&promotionId="+_)},1e3)}).catch(function(e){r=!1,1001!==e.response.data.code?1002!==e.response.data.code?1003!==e.response.data.code?1022!==e.response.data.code?1023!==e.response.data.code?(A.tip.show({msg:e.response.data.message||"服务器繁忙"}),console.log(e.response)):t(L("ctrlModal",{modal:"uploadIdImg",status:!0})):t(L("ctrlModal",{modal:"goCertify",status:!0})):t(L("ctrlModal",{modal:"alterationModal",status:!0})):t(L("ctrlModal",{modal:"invalidCouponShow",status:!0})):t(L("redSelectModal",{modal:{msg:e.response.data.message,show:!0}}))})}).catch(function(e){r=!1,A.tip.show({msg:e.response.data.message||"服务器繁忙"}),console.log(e.response)})}}else A.tip.show({msg:"请先选择收货地址！"})},toggleInvoice:function(e){t(L("toggleInvoice",{invoiceData:e}))},agreeHandle:function(){t(L("agreeChange"))},onRedPacket:function(e){t(L("redPacketPopup",{status:e}))},redSelect:function(e){t(L("redSelect",{selectArr:e}))},redClear:function(){t(L("redClear"))},onPayPopup:function(e){t(L("paymentPopup",{status:e}))},paymentSelect:function(e){t(L("paymentSelect",{status:e}))},addBuyMessage:function(e,a){t(L("addMessage",{id:e,value:a.target.value}))},saveDistanceTop:function(){t(L("saveTop",{value:e(window).scrollTop()}))},popupItem:function(e){t(L("ctrlModal",{modal:"invoiceItemShow",status:e}))},popupImperfectAddress:function(e){t(L("ctrlModal",{modal:"imperfectAddress",status:e}))},firstChooseAddress:function(e){t(L("ctrlModal",{modal:"emptyAddress",status:e,firstCA:!0}))},selectAddress:function(e){t(L("selectAddress",{data:e}))},changeOverBuyLimitModal:function(e){t(L("changeOverBuyLimitModal",{flag:e}))},changeCrossBorderNoticeStatus:function(e){t(L("changeCrossBorderNoticeStatus",{hasNotice:e}))}}},function(e,t,a){var r=t.dispatch;return p({},e,t,a,{applyRed:function(a){if(-1===a){if(e.couponList.red_packets.every(function(e,t){return!e.check}))return;t.redClear()}else t.redSelect([a]);r(function(e,r){var o=r().orderConfirm,i=o.couponSelect.code,l=(0,n.default)({amounts:o.initAmounts,cart:o.cart}),s=[];o.couponList.red_packets.forEach(function(e,t){s.push({is_used:e.check||!1,code:e.coupon_code})}),s=(0,n.default)(s),k.loadMask.show(),x.default.request(p({},D.couponRecalculate,{data:{hbCodes:s,couponCode:i,orderData:l}})).then(function(t){var a=t.data;k.loadMask.destroy(),e(L("initialDataUpdate",{data:a.data.amounts,cartTicket:a.data.cartTicket})),e(L("filterRed",{data:a.data.hbList}))}).catch(function(e){k.loadMask.destroy(),-1!==a&&o.couponList.red_packets[a].check&&t.redSelect([a]),A.tip.show({msg:e.response.data.message||"服务器繁忙"}),console.error(e)})})}})})(U)}).call(this,a("OOjC"))},GHKy:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e,t,a){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments[1];return new RegExp("^"+e+"_","g").test(r.type)?t(n,i({},r,{type:r.type.slice(e.length+1)})):n}}},GbiI:function(e,t,a){"use strict";var n=i(a("mvHQ")),r=i(a("fZjL")),o=i(a("woOf"));function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=c(a("GHKy"));c(a("BYKG"));function c(e){return e&&e.__esModule?e:{default:e}}var u={updata:!1,status:!1,mixStatus:!1,rateStatus:!1,recommendStatus:!1,proStatus:!1,cartInfoStatus:!1,data:{},mix:{},promotion:{},itemRules:{},rate:{},recommend:{},cartNum:{},promotionData:{},itemId:"",weight:"",promotionModal:!1,couponsModal:!1,searverModal:!1,buyModal:!1,buyActive:null,scrollHeight:0,areaData:{area:"",areaCode:"",addressData:""},retState:{flag:!1,selectArr:[],specKey:[]},firstT:0,returnT:0,intervalT:0};function d(e,t){var a={flag:!0,nowSku:{},newData:function(e){var t=e.info.skus;return(0,r.default)(t).map(function(e,a){var n=e.split("_"),r=t[e];return{ids:n,skus:r}})}(e.data),selectArr:[],specKey:[],storeNum:e.data.realStore,nowPrice:function(e){var t=e.info.skus,a=[],n=void 0;for(var r in t)a.push(parseFloat(parseFloat(t[r].price).toFixed(2)));a.length>1?(a=a.sort(function(e,t){return e-t}),n="FlashSale"===e.activity_type||"SecKill"===e.activity_type||e.groupBuy?a[0]:a[0]!==a[a.length-1]?a[0]+"-"+a[a.length-1]:a[0]):n=a[0];return n}(e.data),groupPrice:e.data.groupBuy&&e.data.promotion[0].rules.group_price,num:1,originalPrice:""},n=l({},t.retState,a);return l({},t,{promotion:e.data,proStatus:!0,retState:n,promotionData:function(e){var t=e.promotion,a=e.activity_type,n={};return t.some(function(e,t){e.type!==a||(n[e.type]=e)}),n}(e.data)})}t.default=(0,s.default)("itemIndex",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],a=void 0,r=void 0;switch(t.type){case"initAndClearData":return u;case"changeStatus":return l({},e,{updata:t.updata,status:t.status});case"initData":return a={itemId:t.itemId,weight:t.data.weight},r=l({},e.retState,a),window.sessionStorage.setItem("dcpPageTitle",t.data.title),l({},e,{data:t.data,status:t.status,updata:t.updata,retState:r});case"mixDataSuccess":return function(e,t){var a=e.addrList,r=[];if(a.recent_addr.length>0){var o=a.recent_addr[0].area,i=o.province,s=o.city,c=o.district;r.push(i.code),r.push(s.code),c.code&&r.push(c.code),a.recent_addr[0].address_id=a.recent_addr[0].id}else if(a.default_addr.area){var u=a.default_addr.area,d=u.province,p=u.city,f=u.district;r.push(d.code),r.push(p.code),f.code&&r.push(f.code),a.default_addr.address_id=a.default_addr.id}else r=["330000","330100"];var m={area:a.recent_addr[0]&&a.recent_addr[0].detail_address||a.default_addr.detail_address||"杭州市滨江区",areaCode:r,addressData:a.recent_addr[0]||a.default_addr.detail_address&&a.default_addr||{area:{district:{code:"330108",text:"滨江区"},province:{code:"330000",text:"浙江省"},city:{code:"330100",text:"杭州市"}},detail_address:"浙江省杭州市滨江区"}};return window.sessionStorage.setItem("areaData",(0,n.default)(m.addressData)),l({},t,{mix:e,mixStatus:!0,areaData:m,favorite:e.favorite})}(t.result.data,e);case"promotionDataSuccess":return d(t.result,e);case"rateDataSuccess":return l({},e,{rate:t.result.data,rateStatus:!0});case"recommendDataSuccess":return l({},e,{recommend:t.result.data,recommendStatus:!0});case"cartInfoDataSuccess":return l({},e,{cartNum:t.result.data.count,cartInfoStatus:!0});case"initState":return l({},e,{retState:t.ret});case"promotionBackFlag":return l({},e,{promotionModal:!0});case"goScrollHeght":return l({},e,{scrollHeight:t.height,loginBack:"loginBack"});case"changePromotionModal":return l({},e,{promotionModal:t.flag});case"couponsBackFlag":return l({},e,{couponsModal:!0});case"changeCouponsModal":return l({},e,{couponsModal:t.flag});case"changeSearverModal":return l({},e,{searverModal:t.flag});case"changeAreaData":var o=l({},e.areaData,t.areaData);return window.sessionStorage.setItem("areaData",(0,n.default)(o.addressData)),l({},e,{areaData:o});case"updateBuyModal":return l({},e,t);case"updateCartInfo":return l({},e,{cartNum:t.count});case"UpdataTimer":return function(e,t){var a=t.intervalT;return e.T2&&(a=e.T2-e.T1),l({},t,{firstT:e.T1,returnT:e.T2,intervalT:a})}(t,e);case"changeCollectStatus":return l({},e,{favorite:t.status});default:return e}},u)},GeYE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){a.e(11).then(function(e){a("4I33"),t(null,a("Hd+C").default)}.bind(null,a)).catch(a.oe)}},Hf3i:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){a.e(25).then(function(e){t(null,a("tr2h").default)}.bind(null,a)).catch(a.oe)}},Hl9d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.miniProgramLogin=function(e){e?wx.miniProgram.navigateTo({url:"/pages/others/login/login?redirect_uri="+encodeURIComponent(e)}):wx.miniProgram.switchTab({url:"/pages/mall/index"})},t.miniProgramShopCart=function(e){wx.miniProgram.navigateTo({url:"/pages/product/shopCart/index"})},t.miniProgramGroup=function(e){wx.miniProgram.navigateTo({url:"/pages/product/pieceSaleShare/pieceSaleShare?object_id="+e})},t.miniProgramBags=function(e){wx.miniProgram.switchTab({url:"/pages/jumppage/index"})},t.miniProgramMine=function(e){wx.miniProgram.switchTab({url:"/pages/mine/mine/index"})},t.miniProgramMall=function(e){wx.miniProgram.switchTab({url:"/pages/mall/index"})},t.shareMiniProgramUrl=function(e){wx.miniProgram.postMessage({data:{url:e}})},t.shareMiddlePage=function(e,t){wx.miniProgram.navigateTo({url:"/pages/product/shareMiddlePage/shareMiddlePage?item_id="+e+"&commission_min_price="+t})}},Hprb:function(e,t,a){},I9NV:function(e,t,a){"use strict";(function(e){var n=c(a("mvHQ")),r=c(a("Zx67")),o=c(a("kiBT")),i=c(a("OvRC")),l=c(a("pFYg")),s=c(a("C4MV"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=f(d);f(a("O27J")),a("Zfgq"),a("d2xe");function f(e){return e&&e.__esModule?e:{default:e}}a("4705");var m=function(t){function a(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,r.default)(a)).call(this,t));return o.getJSApi=function(t){var a=o;e.ajax({url:"/wxapi/getJSApi.api?url="+encodeURIComponent(t),type:"GET",dataType:"json",contentType:"application/json;chartset=utf-8",success:function(e){wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),a.setState({config:!0}),wx.error(function(e){console.log((0,n.default)(e))})},error:function(e){}})},o.state={showStatus:!1},o.showMsg="",o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}(a,d.Component),u(a,[{key:"componentWillMount",value:function(){document.title="泰然5周年"}},{key:"componentDidMount",value:function(){var e=location.href.split("#")[0];this.getJSApi(e);var t={title:"泰然5周年 暨泰然城品牌签约活动  百万礼包送不",desc:"感恩有你 一路同行  内部专享优惠礼券！",link:location.protocol+"//"+location.host+"/5yearsQrcode",imgUrl:location.protocol+"//"+location.host+"/src/img/qrCode/logo.png",type:"",dataUrl:"",success:function(){},cancel:function(){}};wx.ready(function(){wx.onMenuShareTimeline(t),wx.onMenuShareAppMessage(t),wx.onMenuShareQQ(t),wx.onMenuShareQZone(t)})}},{key:"render",value:function(){return p.default.createElement("div",{"data-page":"five-yearsQrcode"},p.default.createElement("section",{id:"qrcode",ref:"five-years"},p.default.createElement("img",{src:"/src/img/5year/fy_qrcode.jpg",style:{width:"100%",height:e(window).height()}})))}}]),a}();t.default=m}).call(this,a("OOjC"))},JmOZ:function(e,t,a){"use strict";(function(e){var n,r,o,i,l,s,c,u=_(a("mvHQ")),d=_(a("fZjL")),p=_(a("Zx67")),f=_(a("gRE1")),m=_(a("kiBT")),h=_(a("OvRC")),g=_(a("pFYg")),v=_(a("woOf")),y=_(a("C4MV"));function _(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SharingMakes=t.BarrageStripConnnect=t.BarrageStripWrap=t.createChooseSpec=t.createBuyAction=t.Buy=t.BuyModal=t.ExpectTax=t.Specs=t.BuyModalButton=t.BuyModalTitle=t.TotopAndCart=t.Collect=t.GoodsDetail=t.ShopArea=t.RecommendArea=t.LinkChange=t.LinkAndChange=t.EvaluateAreaContents=t.EvaluateArea=t.SeverArea=t.CouponWrap=t.PromotionWrap=t.ActiveArea=t.Tag=t.GoodsTit=t.VipArea=t.Price=t.PriceArea=t.ScrollImageState=t.ItemNav=t.CouponType=t.params=t.PromotionInfo=t.pageApi=void 0;var E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,y.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=v.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.rangePrice=$,t.chooseSpec=ee,t.scaleImg=te,t.flyToCart=ae,t.FreePostage=ue,t.promotionState=ge,t.promotionDispatch=ve,t.couponsState=be,t.couponsDispatch=we,t.addState=Ce,t.addDispatch=Se,t.searverState=Ie,t.searverDispatch=Pe,t.collectState=Je,t.collectDispatch=Xe;var w=a("U7vG"),k=H(w),A=(H(a("O27J")),a("4n+p")),N=(H(a("BYKG")),a("Zfgq")),x=a("rsfq"),C=a("f2Hk"),S=a("G/Ei"),M=a("d2xe"),T=a("6quk"),I=a("fw66"),P=a("8x+B"),O=a("ZdiO"),D=a("XKGu"),L=H(a("qAHI")),j=a("5qLU"),B=a("tJWF"),R=a("f2t5"),U=a("Hl9d"),F=a("6dTp");a("nztU");function H(e){return e&&e.__esModule?e:{default:e}}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,g.default)(t))&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,g.default)(t)));e.prototype=(0,h.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(m.default?(0,m.default)(e,t):e.__proto__=t)}a("kjFZ");(0,C.actionAxios)("itemIndex");var W=(0,C.concatPageAndType)("itemIndex"),J=void 0,X=void 0,Q=t.pageApi={toCart:{url:j.WXAPI+"/cart/add",method:"post"},DelFav:{url:j.WXAPI+"/user/removeItemCollection",method:"get"},Fav:{url:j.WXAPI+"/user/saveItemCollection",method:"post"},GetCoupon:{url:j.WXAPI+"/promotion/obtainCoupon",method:"post"},Coupon:{url:j.WXAPI+"/item/coupon",method:"get"},CheckGroupBuy:{url:j.WXAPI+"/promotion/checkGroupBuy",method:"post"},MoreGroupBuyList:{url:j.WXAPI+"/item/moreGroupBuyList",method:"get"}},Z=t.PromotionInfo={DirectReduction:{getValue:function(e){var t=e.itemdata,a=e.deductPrice,n=t.deduct_price;return k.default.createElement("span",null,"直降",parseFloat(a||n),"元 ")},getTagName:"直降"},SecKill:{getValue:function(e){return k.default.createElement("span",null,"限时秒杀,每个ID限购",e.itemdata.rules.user_buy_limit,"件")},getTagName:"秒杀"},FlashSale:{getValue:function(e){return k.default.createElement("span",null,"限时特卖正在火热抢购中...")},getTagName:"特卖"},FullMinus:{link:function(e){return"/searchResult?promotion_id="+e.id+"&shop="+e.shop_id},getValue:function(e){var t=e.itemdata,a=t.rules.rule.map(function(e,a){return"满"+e.limit_money+"减"+e.deduct_money+(a!==t.rules.rule.length-1?";":"")});return t.rules.no_capped&&a.push(";上不封顶"),k.default.createElement("ul",{className:"full-cut-list c-fl"},k.default.createElement("li",{className:"minus-full-activity"},a.join("")))},name:"fullminus",getTagName:"满减"},FullDiscount:{link:function(e){return"/searchResult?promotion_id="+e.id+"&shop="+e.shop_id},getValue:function(e){var t=e.itemdata.rules;return k.default.createElement("ul",{className:"full-cut-list c-fl"},k.default.createElement("li",{className:"minus-full-activity"},t.map(function(e,a){return e.full+"件"+e.percent/10+"折"+(a!==t.length-1?";":"")}).join(""),";"))},getTagName:"满折"},OptionBuy:{link:function(e){return"/searchResult?promotion_id="+e.id+"&shop="+e.shop_id},getValue:function(e){var t=e.itemdata;return k.default.createElement("span",{className:"option-buy"},t.rules.amount+"元任选"+t.rules.quantity+"件")},getTagName:"N元任选"},ExchangeBuy:{getValue:function(e){var t=e.itemdata;return e.flag?k.default.createElement("a",{href:"/searchResult?promotion_id="+t.id+"&shop="+t.shop_id},k.default.createElement("span",null,"满",t.rules.exchange_full,"元加价可在购物袋换购热销商品"),k.default.createElement("i",{className:"icon icon-forward vertical-middle"},k.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"}))):k.default.createElement("span",null,"满",t.rules.exchange_full,"元加价可在购物袋换购热销商品")},getTagName:"加价换购"},GiftBuy:{getValue:function(e){if(e.flag){var t=[];(0,f.default)(e.itemdata.subItems).forEach(function(e,a){for(var n in e)t.push(e[n])});var a=t.map(function(e,t){return k.default.createElement("li",{key:t},k.default.createElement("span",{className:"title"},"赠品",t+1),k.default.createElement("a",{href:"/item?item_id="+e.item_id},k.default.createElement("span",{className:"image"},k.default.createElement("img",{src:"open"===e.subItemStatus?e.primary_image:"/src/img/item/no-item.png"})),k.default.createElement("i",null,"×",e.giftNum)))});return k.default.createElement("div",{className:"gift-title"},k.default.createElement("p",{className:"gift-p"},"购买可获赠热销商品，赠完为止"),k.default.createElement("div",{className:"gift-wrapper"},k.default.createElement("ul",{className:"gift-buy"},k.default.createElement("div",{className:"wrapper"},a))))}return k.default.createElement("div",{className:"gift-title",style:{display:"inline-block"}},k.default.createElement("p",{style:{display:"inline-block",lineHeight:"28px"}},"购买可获赠热销商品，赠完为止"))},getTagName:"赠品"},default:function(){return null}},Y={Good:"好评!",Bad:"差评!",Neutral:"中评!"},K=t.params={newTime:0,oldTime:0,enlarge:!1,touchesX:0,touchesY:0,FirstX:0,FirstY:0,x1:0,x2:0,y1:0,startX:0,startY:0,endX:0,endY:0,wid:0,hei:0,lef:0,to:0,timerScale:null};function V(t){var a=Math.abs(e(window).scrollTop()||e("#item-details")[0]&&-e("#item-details")[0].offsetTop||V.disTop);t&&e("#item-details")[0]?(V.disTop=a,e("#item-details").css({position:"fixed",top:-a,width:"100%"})):(e("#item-details").css({position:"static",top:""}),e(window).scrollTop(V.disTop||0))}function $(e,t){var a=e.info.skus,n=[],r=void 0;for(var o in a)t?n.push(parseFloat(parseFloat(a[o].price).toFixed(2))):n.push(parseFloat(parseFloat(a[o].market_price).toFixed(2)));return n.length>1?(n=n.sort(function(e,t){return e-t}),r="FlashSale"===e.activity_type||"SecKill"===e.activity_type||e.groupBuy?n[0]:n[0]!==n[n.length-1]?n[0]+"-"+n[n.length-1]:n[0]):r=n[0],r}function ee(e,t){var a=e.specKey,n=e.selectArr,r=[],o=void 0;return a&&a.map(function(e,a){o=t[e].values.filter(function(e,t){return e.spec_value_id==n[a]}),r.push(k.default.createElement("span",{key:e},o[0].text," "))}),r}function te(t,a,n){var r=n.newTime,o=n.oldTime,i=n.enlarge,l=n.touchesX,s=n.touchesY,c=n.FirstX,u=n.FirstY,d=n.x1,p=(n.x2,n.y1),f=n.startX,m=n.endX,h=(n.startY,n.endY,n.wid),g=(n.hei,n.lef),v=n.to,y=n.timerScale,_=n.self;n.isLarge;e(t+" img").on("touchstart",function(n){n.preventDefault();var E=n.target;clearTimeout(y);var b=E.height/E.width;d=2*(e(n.target).offset().left-e(t).offset().left)-n.touches[0].clientX,p=2*(e(n.target).offset().top-e(t).offset().top)-n.touches[0].clientY,2==n.touches.length&&(n.touches[1].pageX,f=Math.abs(n.touches[0].clientX-n.touches[1].clientX),Math.abs(n.touches[0].pageY-n.touches[1].pageY),h=E.width,E.height,g=e(n.target).offset().left-e(t).offset().left,v=e(n.target).offset().top-e(t).offset().top),l=n.touches[0].clientX,s=n.touches[0].pageY,c=e(n.target).offset().left-e(t).offset().left,u=e(n.target).offset().top-e(t).offset().top,o=r,r=(new Date).getTime(),y=setTimeout(function(){r-o>300?(_.setState({isLarge:!1}),i=!1,r=0,e(E).css({width:b>1.8?"80%":"100%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"relative"}),a&&a.unlockSwipeToNext(),a&&a.unlockSwipeToPrev()):!1===i?(e(E).css({width:b>1.8?"160%":"200%",height:"auto",top:p,left:d,transform:"translate(0, 0)",position:"relative"}),a&&a.lockSwipeToNext(),a&&a.lockSwipeToPrev(),i=!0):(e(E).css({width:b>1.8?"80%":"100%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"relative"}),a&&a.unlockSwipeToNext(),a&&a.unlockSwipeToPrev(),i=!1)},300);var w=function(t){if(t.preventDefault(),1==t.targetTouches.length){var n=t.targetTouches[0];i&&(e(E).css({left:n.pageX-l+c}),e(E).css({top:n.pageY-s+u})),Math.abs(n.pageX-d)>2&&clearTimeout(y)}else if(2==t.targetTouches.length){clearTimeout(y);var r=t.targetTouches[0],o=t.targetTouches[1];m=Math.abs(r.clientX-o.clientX),Math.abs(r.pageY-o.pageY);e(window).height();var p=h+(m-f),_=e(window).width();(p=(p=p>2*_?2*_:p)<_?_:p)>_?(e(E).css({margin:0}),i=!0,a&&a.lockSwipeToNext(),a&&a.lockSwipeToPrev()):(i=!1,a&&a.unlockSwipeToNext(),a&&a.unlockSwipeToPrev()),e(E).css({width:p+"px",left:g-(m-f)/2,top:v-(m-f)/2*b,transform:"translate(0, 0)",position:"relative"})}};E.addEventListener("touchmove",w,!1),e(E).on("touchend",function(t){t.preventDefault(),E.removeEventListener("touchmove",w,!1),E.width!=e(window).width()&&E.height!=e(window).height()||e(E).css({width:b>1.8?"80%":"100%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"relative"})})})}function ae(){var t=e(".posit-img").find("img").offset(),a=e(".cart-toTop .cart").offset(),n=e(".posit-img").find("img").attr("src");Zepto('<img class="u-flyer" src="'+n+'" />').fly({start:{left:t.left,top:t.top-document.body.scrollTop},end:{left:a.left+40,top:a.top-document.body.scrollTop+40,width:0,height:0},onEnd:function(){this.destory()}})}var ne=t.CouponType={text:function(e){return e.apply_text},title:function(e){return"0"===e.type?"店铺券":"1"===e.type?"跨店券":"2"===e.type?"平台券":"3"===e.type?"红包抵用券":"免单券"}},re=t.ItemNav=function(t){function a(t){q(this,a);var n=z(this,(a.__proto__||(0,p.default)(a)).call(this,t));return n.scrollEvent=function(){var t=n.state.ratio;window.removeEventListener("scroll",n.addScrollEvent),n.addScrollEvent=function(){var a=e(window).scrollTop(),r=e(".scroll-banner").height()-44;t=(t=a/r)>=1?1:t,n.setState({ratio:t});var o=n.state;e(".item-nav").css({display:t<=0?"none":"block",backgroundColor:"rgba(255,255,255,"+t+")",color:"rgba(53,53,53,"+t+")"}),a<e(".screen-rate")[0].offsetTop-44?0!==o&&n.setState({index:0}):a<e(".screen-detail")[0].offsetTop-44?1!==o&&n.setState({index:1}):2!==o&&n.setState({index:2})},window.addEventListener("scroll",n.addScrollEvent)},n.navClick=function(t){0===t?e(window).scrollTop(0):1===t?e(window).scrollTop(e(".screen-rate")[0].offsetTop-44):e(window).scrollTop(e(".screen-detail")[0].offsetTop-44)},n.state={index:0,ratio:0},n}return G(a,D.PureComponent),E(a,[{key:"componentDidMount",value:function(){this.scrollEvent()}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.addScrollEvent)}},{key:"render",value:function(){var e=this,t=this.state,a=t.index,n=t.ratio;return k.default.createElement("div",{className:"item-nav c-fs14 c-c666",style:{display:"none"}},k.default.createElement("ul",null,k.default.createElement("li",{onClick:function(){e.navClick(0)}},k.default.createElement("span",{style:0===a?{borderBottom:"2px solid rgba(53,53,53,"+n+")"}:{}},"商品")),k.default.createElement("li",{onClick:function(){e.navClick(1)}},k.default.createElement("span",{className:1===a?"active":""},"评价")),k.default.createElement("li",{onClick:function(){e.navClick(2)},className:"c-fr"},k.default.createElement("span",{className:2===a?"active":""},"详情"))))}}]),a}(),oe=t.ScrollImageState=function(e){function t(e){q(this,t);var a=z(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.largeBanner=function(){a.setState({isLarge:!a.state.isLarge})},a.state={isLarge:!1},a}return G(t,D.PureComponent),E(t,[{key:"componentDidMount",value:function(){var e=b({},K,{isLarge:this.state.isLarge,self:this});this.initSwiper(),this.initLargeSwiper(),te(".swiper-container-large",X,e)}},{key:"initSwiper",value:function(){J&&J.destroy(),J=new Swiper(this.refs.swiperBanner,{pagination:".swiper-pagination-banner",observer:!0,loop:!1,paginationType:"fraction",onSlideChangeStart:function(e){X.slideTo(e.activeIndex)}})}},{key:"initLargeSwiper",value:function(){X&&X.destroy(),X=new Swiper(this.refs.swiperLarge,{pagination:".swiper-pagination-large",observer:!0,loop:!1,paginationType:"fraction",onSlideChangeStart:function(e){J.slideTo(e.activeIndex)}})}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.images,n=t.item_type,r=t.activity_type,o=this.props.group_data,i=this.props.data.item_tag&&this.props.data.item_tag.images.mb_square_img,l=this.props.data.item_tag&&this.props.data.item_tag.images.mb_rectangular_img,s=this.state.isLarge,c=a&&a.length>0?a.map(function(t,a){return k.default.createElement("div",{className:"swiper-slide",key:a},k.default.createElement("img",{src:(0,R.addImageSuffix)(t,"_l")||"/src/img/item/no-img.png",onClick:e.largeBanner}))}):k.default.createElement("div",{className:"swiper-slide"},k.default.createElement("img",{src:"/src/img/item/no-img.png"})),u=a.map(function(t,a){return k.default.createElement("div",{className:"swiper-slide swiper-slide-large",key:a,onClick:function(t){e.setState({isLarge:!1})}},k.default.createElement("img",{src:(0,R.addImageSuffix)(t,"_l")||"/src/img/item/no-img.png",id:"img"+a}))});return k.default.createElement("div",{className:"c-pr scroll-banner","data-plugin":"swiper"},s&&k.default.createElement("div",{className:"shady-banner"}),o&&"Rookie"===o.group_type?k.default.createElement("img",{className:"c-pa tag2",src:"/src/img/activity/new-group.png"}):i?k.default.createElement("img",{className:"c-pa tag1",src:i}):"",k.default.createElement("div",{className:"swiper-container",ref:"swiperBanner"},k.default.createElement("div",{className:"swiper-wrapper"},c),a.length>0&&k.default.createElement("div",{className:"swiper-pagination swiper-pagination-banner"})),k.default.createElement("div",{className:"swiper-container swiper-container-large",ref:"swiperLarge",style:s?{display:"block"}:{display:"none"}},k.default.createElement("div",{className:"swiper-wrapper"},u),k.default.createElement("div",{className:"swiper-pagination swiper-pagination-banner swiper-pagination-large"})),!l||"NORMAL"!==n&&"VIRTUAL"!==n&&"INTERNAL"!==n||"FlashSale"===r?"":k.default.createElement("img",{className:"H5D_pic",src:l}))}}]),t}(),ie=t.PriceArea=(n=function(e){function t(e){q(this,t);var a=z(this,(t.__proto__||(0,p.default)(t)).call(this,e));return r.call(a),a.state={flashsaleFlag:!1},a}return G(t,D.PureComponent),E(t,[{key:"componentDidMount",value:function(){this.props.proStatus&&"FlashSale"===this.props.data.activity_type&&this.judgeFlashsale(this.props.promotion)}},{key:"componentWillReceiveProps",value:function(e){e.proStatus&&e.proStatus!==this.props.proStatus&&"FlashSale"===e.data.activity_type&&this.judgeFlashsale(e.promotion)}},{key:"render",value:function(){var e=this.state.flashsaleFlag,t=this.props,a=t.proStatus,n=t.promotion,r=t.data;return k.default.createElement("div",null,e&&a&&k.default.createElement(le,this.props),k.default.createElement("div",{className:"price-area"},e?null:k.default.createElement(se,{item:r,proStatus:a,promotion:n}),k.default.createElement(de,{item:r}),k.default.createElement(pe,{item:r})))}}]),t}(),r=function(){var e=this;this.judgeFlashsale=function(t){var a=e.props.intervalT,n=t.promotion[0],r=n.start_time,o=n.now_time,i=n.end_time,l=n.type;o=new Date(o.replace(/-/g,"/")).getTime()+parseInt(a),r=new Date(r.replace(/-/g,"/")).getTime(),i=new Date(i.replace(/-/g,"/")).getTime(),"FlashSale"===l&&o>r&&o<i&&e.setState({flashsaleFlag:!0})}},n),le=function(e){function t(e){q(this,t);var a=z(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.getMarketPrice=function(e,t){var a=e.info.skus,n=void 0;for(var r in a)if(a[r].price===t){n=a[r].market_price;break}return n},a.state={time:0},a}return G(t,w.Component),E(t,[{key:"componentDidMount",value:function(){var e=this.props.intervalT,t=this.props.promotion.promotion[0],a=t.end_time,n=t.now_time;a=new Date(a.replace(/-/g,"/")).getTime(),(n=new Date(n.replace(/-/g,"/")).getTime()+parseInt(e))<a&&this.setState({time:parseInt((a-n)/1e3)}),this.intervalTime()}},{key:"intervalTime",value:function(){var e=this;this.timer=setTimeout(function(){var t=--e.state.time;t<0?location.reload():(e.state.time=t,e.setState(e.state),e.intervalTime())},1e3)}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){var e=$(this.props.promotion,!0),t=this.getMarketPrice(this.props.promotion,e);return k.default.createElement("div",{className:"flashsale-price c-cfff"},k.default.createElement("span",{className:"c-fs25 c-dpib c-fl"}," ¥",e),t&&t!==e?k.default.createElement("span",{className:"c-dpib c-fl market-price c-ml5"}," ¥",t):null,k.default.createElement("span",{className:"flashsale-tag"},"限时特卖"),k.default.createElement("div",{className:"c-fr c-tr"},k.default.createElement("div",{className:"time-notice"},"距结束仅剩"),k.default.createElement("div",{className:"time-notice"},R.timeCtrl.formatTextTime(this.state.time))))}}]),t}(),se=t.Price=function(e){function t(e){q(this,t);var a=z(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.getMarketPrice=function(e,t){var a=e.info.skus,n=void 0;for(var r in a)if(a[r].price===t){n=a[r].market_price;break}return n},a.state={sellPrice:parseFloat(parseFloat(a.props.item.sell_price).toFixed(2)),marketPrice:parseFloat(parseFloat(a.props.item.market_price).toFixed(2))},a}return G(t,w.Component),E(t,[{key:"componentWillReceiveProps",value:function(e){e.proStatus&&e.proStatus!==this.props.proStatus&&this.setState({sellPrice:$(e.promotion,!0),marketPrice:"seckill"===e.item.item_type?this.getMarketPrice(e.promotion,$(e.promotion,!0)):$(e.promotion,!1)})}},{key:"componentDidMount",value:function(){this.props.proStatus&&(this.setState({sellPrice:$(this.props.promotion,!0)}),this.setState({marketPrice:"seckill"===this.props.item.item_type?this.getMarketPrice(this.props.promotion,$(this.props.promotion,!0)):$(this.props.promotion,!1)}))}},{key:"render",value:function(){var e=this.props.item,t=e.is_free,a=e.trade_type,n=e.tax_rate,r=e.item_type,o=e.shop,i=e.activity_type,l=this.state,s=l.sellPrice,c=l.marketPrice;return k.default.createElement("div",{className:"price-info c-clrfix"},k.default.createElement("span",{className:"c-dpib c-fl standard-price"}," ¥",s),c?k.default.createElement("span",{className:"c-dpib c-fl market-price"}," ¥",c):null,"NORMAL"===r&&3!==o.attr&&"FlashSale"!==i&&k.default.createElement(ue,{data:{is_free:t,trade_type:a,tax_rate:n},className:"c-fl"}))}}]),t}(),ce=t.VipArea=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this.props.vipInfo,t=void 0===e?{}:e,a=t.is_support_vip,n=t.vip_discount,r=a&&n/10;return k.default.createElement("div",null,a?k.default.createElement("div",{className:"price-vip"},k.default.createElement("img",{src:"/src/img/icon/icon-vip.png"}),k.default.createElement("span",{className:"vip-title"},"泰享会员"+r+"折特惠")):null)}}]),t}();function ue(e){var t=e.data,a=e.className;return t.is_free||"DOMESTIC"!==t.trade_type&&!Number(t.tax_rate)?k.default.createElement("span",{className:a+" free-postage-tag"},t.is_free?"包邮":"","DOMESTIC"!==t.trade_type&&0===Number(t.tax_rate)?"包税":""):null}var de=t.GoodsTit=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this.props.item,t=e.title,a=e.sub_title,n=e.vip_info;return k.default.createElement("div",null,k.default.createElement(ce,{vipInfo:n}),k.default.createElement("p",{className:"goods-tit"},t),a&&k.default.createElement("p",{className:"c-c666 sub-title"},a))}}]),t}(),pe=t.Tag=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"getList",value:function(){var e=this.props.item,t=e.country,a=e.trade_type,n=e.shop.biz_model,r=(0,x.FilterTradeType)(a),o=[];return t.imageUrl&&o.push(k.default.createElement("li",{key:"brandcountry"},k.default.createElement("img",{src:t.imageUrl}),t.text,"品牌")),r&&o.push(k.default.createElement("li",{key:"tradetype"},k.default.createElement("img",{src:"/src/img/icon/trade-type-icon.png"})," ",r)),R.hideFlag&&(1===n?o.push(k.default.createElement("li",{key:"trc"},k.default.createElement("img",{src:"/src/img/icon/trc-logo-icon.png"})," 泰然城自营")):o.push(k.default.createElement("li",{key:"trc"},k.default.createElement("img",{src:"/src/img/icon/trc-logo-icon.png"})," 泰然城精选商家"))),o}},{key:"render",value:function(){var e=this.getList();return e.length?k.default.createElement("ul",{className:"all-tag"},e):null}}]),t}(),fe=t.ActiveArea=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,D.PureComponent),E(t,[{key:"render",value:function(){return k.default.createElement("div",{className:"active-area"},k.default.createElement(_e,this.props),k.default.createElement(me,this.props))}}]),t}(),me=t.PromotionWrap=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"getPromotion",value:function(){var e=this.props.promotion,t=e.promotion,a=e.activity_type;return t.length?k.default.createElement(he,{promotion:t,activity_type:a,retState:this.props.retState}):null}},{key:"render",value:function(){return this.getPromotion()}}]),t}(),he=(0,A.connect)(ge,ve)(o=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"getList",value:function(e){for(var t=this.props.promotion,a=0,n=[],r=void 0;r=t[a];)n.push(k.default.createElement(ye,b({},this.props,{itemdata:r,key:a,hasLink:e,flag:e}))),a++;return n}},{key:"render",value:function(){var e=this;return k.default.createElement("div",null,k.default.createElement("div",{className:"goods-promotion",onClick:function(){e.props.ChangePromotionModal(!0)}},k.default.createElement(P.NewModal,{isOpen:this.props.promotionModal,title:"促销活动",onClose:function(t){t.stopPropagation(),e.props.ChangePromotionModal(!1)}},k.default.createElement("div",{className:"goods-promotion-modal"},k.default.createElement("section",{className:"promotion-list-modal"},k.default.createElement("div",{className:"list-details-modal"},k.default.createElement("ul",{className:"promotion-ul-modal"},this.getList(!0)))))),k.default.createElement("div",{className:"promotion_ti c-fl"},"促销"),k.default.createElement("section",{className:"promotion-list c-fl"},k.default.createElement("div",{className:"list-details"},k.default.createElement("ul",{className:"promotion-ul"},this.getList()))),R.hideFlag&&k.default.createElement("i",{className:"icon icon-forward vertical-middle"},k.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})),k.default.createElement("p",{className:"clearfix"})))}}]),t}())||o;function ge(e){return{promotionModal:e.itemIndex.promotionModal}}function ve(e){return{BackFlag:function(){e(W("promotionBackFlag"))},ChangePromotionModal:function(t){R.hideFlag&&e(W("changePromotionModal",{flag:t}))}}}var ye=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"linkTo",value:function(){var e=this.getLink();e&&N.browserHistory.push(e),this.props.BackFlag()}},{key:"getLink",value:function(){var e=this.props.itemdata,t=Z[e.type];if(t)return"function"==typeof t.link?t.link(e):t.link}},{key:"render",value:function(){var e=this,t=this.props,a=t.itemdata,n=t.flag,r=t.hasLink,o=t.retState,i=Z[a.type];return k.default.createElement("li",{className:"promotion-li",onClick:function(){return r&&e.linkTo()}},k.default.createElement("div",{className:"clearfix"},k.default.createElement("button",{type:"button",className:"c-fl"},i.getTagName),i?k.default.createElement(i.getValue,{itemdata:a,flag:n,deductPrice:o&&o.deductPrice}):k.default.createElement(Z.default,this.props),r&&this.getLink()?k.default.createElement("i",{className:"icon icon-forward vertical-middle"},k.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})):null))}}]),t}(),_e=t.CouponWrap=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"getCoupon",value:function(){var e=this.props,t=e.promotion,a=e.shop;return t.coupon?k.default.createElement(Ee,{promotion:t,shop:a}):null}},{key:"render",value:function(){return this.getCoupon()}}]),t}(),Ee=(0,A.connect)(be,we)(i=function(e){function t(e){q(this,t);var a=z(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.getModalCouponList=function(){var e=[];S.loadMask.show(),L.default.request(b({},Q.Coupon,{params:{item_id:a.props.item_id}})).then(function(t){var n=t.data;S.loadMask.destroy(),n.data&&n.data.map(function(t,n){e.push(k.default.createElement(ke,b({},a.props,{itemdata:t,key:n})))}),a.setState({couponList:e})}).catch(function(e){S.loadMask.destroy(),console.log(e),T.tip.show({msg:e.response.data.message||"服务器繁忙"})})},a.state={couponList:[]},a}return G(t,w.Component),E(t,[{key:"getCouponList",value:function(){var e=[];return this.props.promotion.coupon.some(function(t,a){if(!(a<=2))return!1;e.push(k.default.createElement("span",{key:a},"满",t.limit_money,"减",t.deduct_money))}),e}},{key:"render",value:function(){var e=this;return k.default.createElement("div",{className:"addr-ser"},k.default.createElement(P.NewModal,{title:"领取优惠劵",isOpen:this.props.couponsModal,onClose:function(t){t.stopPropagation(),e.props.ChangeCouponsModal(!1)}},k.default.createElement("div",{className:"goods-coupon-modal"},k.default.createElement("div",{className:"coupon-wrap"},k.default.createElement("div",{className:"coupone-list"},this.state.couponList)))),k.default.createElement("div",{className:"sever-addr",onClick:function(){e.getModalCouponList(),e.props.ChangeCouponsModal(!0)}},k.default.createElement("span",{className:"coupon-list"},"领券： ",this.getCouponList(),k.default.createElement("i",{className:"icon icon-forward vertical-middle"},k.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})))))}}]),t}())||i;function be(e){return{couponsModal:e.itemIndex.couponsModal,item_id:e.itemIndex.data.item_id}}function we(e){return{BackFlag:function(){e(W("couponsBackFlag"))},ChangeCouponsModal:function(t){e(W("changeCouponsModal",{flag:t}))}}}var ke=function(t){function a(e){q(this,a);var t=z(this,(a.__proto__||(0,p.default)(a)).call(this,e));return t.getCoupon=function(){var e=t,a=e.props,n=a.itemdata,r=a.shop;e.setState({buttonClick:!1}),L.default.request(b({},Q.GetCoupon,{params:{coupon_id:n.id,shop_id:r.id,source:"goods"}})).then(function(t){e.setState({buttonClick:!0}),T.tip.show({msg:"领取成功"})}).catch(function(t){console.log(t),e.setState({buttonClick:!0}),T.tip.show({msg:t.response.data.message||"服务器繁忙"})})},t.state={buttonClick:!0},t}return G(a,w.Component),E(a,[{key:"render",value:function(){var t=this,a=this.props,n=a.itemdata,r=a.shop,o=a.BackFlag;n.shop=r;var i;n.coupon_type;return k.default.createElement("div",{className:"coupon "+(i=n,i.isset_limit_money?"coupon-red":"coupon-yellow")},k.default.createElement("div",{className:"coupon-li-wrap"},k.default.createElement("div",{className:"c-fl coupon-left"},k.default.createElement("h3",{className:String(n.deduct_money).length<4?"h3-a":"h3-b"},k.default.createElement("span",null,"¥"),n.deduct_money),k.default.createElement("p",null,"满",n.limit_money,"使用")),k.default.createElement("div",{className:"c-fr coupon-right"},k.default.createElement("h3",null,ne.title(n)),k.default.createElement(Re,{BackFlag:o,flag:!0,className:"buy-button",onClick:function(a){var n=e(a.target).parent()[0].href;t.state.buttonClick&&!n&&t.getCoupon()}},"立即领取"),k.default.createElement("p",{className:"coupon-right-type"},"• ",ne.text(n)),k.default.createElement("p",{className:"coupon-right-use-date"},R.dateUtil.format(new Date(n.use_start_time.replace(/-/g,"/")).getTime(),"Y/M/D H:F").slice(2),"至 ",R.dateUtil.format(new Date(n.use_end_time.replace(/-/g,"/")).getTime(),"Y/M/D H:F").slice(2)))))}}]),a}(),Ae=t.SeverArea=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,D.PureComponent),E(t,[{key:"render",value:function(){return k.default.createElement("div",{className:"c-pb10 c-pt10"},R.hideFlag&&k.default.createElement(xe,null),R.hideFlag&&k.default.createElement(Ne,this.props),k.default.createElement(Te,this.props))}}]),t}(),Ne=function(e){function t(){var e,a,n;q(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=z(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),n.showChargeMsg=function(e,t,a){switch(e){case 0:return k.default.createElement("li",null,"该商品已包邮 ",k.default.createElement("span",{className:"tag"},"包邮"));case 1:return k.default.createElement("li",null,"满 "+a+" 件包邮");case 2:return k.default.createElement("li",null,"满 "+t+" 元包邮");case 3:return k.default.createElement("li",null,"满 "+a+" 件，且满 "+t+"元包邮");case 4:return k.default.createElement("li",null,a+" kg内包邮");case 5:return k.default.createElement("li",null,"满 "+t+" 元包邮");case 6:return k.default.createElement("li",null,a+" kg内，且满 "+t+"元包邮")}},n.chooseChargeRule1=function(e){var t=n.props.retState;t.nowPrice,t.num;if(e.limit_quantity)switch(e.free_type){case 1:return n.showChargeMsg(1,null,e.limit_quantity);case 2:return n.showChargeMsg(2,e.limit_money,null);case 3:return n.showChargeMsg(3,e.limit_money,e.limit_quantity)}else switch(e.free_type){case 1:return n.showChargeMsg(4,null,e.limit_weight);case 2:return n.showChargeMsg(5,e.limit_money,null);case 3:return n.showChargeMsg(6,e.limit_money,e.limit_weight)}},n.chooseChargeRule2=function(e,t){var a=e.start_standard,r=e.start_freight,o=e.add_standard,i=e.add_freight,l=void 0,s=n.props.retState,c=s.num,u=s.weight;return l=o&&i&&(1===t?+e.start_standard<c*u:+e.start_standard<c)?1===t?+r+Math.ceil((c*u-a)/o)*i:+r+(o&&i&&Math.ceil((c-a)/o)*i):+r,k.default.createElement("li",null,"预计运费",l,"元")},n.chooseChargeRule3=function(e){var t=e.rules;if(!(t instanceof Array)){var a=[];for(var r in t)a.push(t[r]);t=a}var o=n.props.retState,i=o.nowPrice,l=o.num,s=o.groupPrice;i=s||i;var c=String(i).split("-").length;i=1===c?i*l:n.props.data.sell_price*l;var u=void 0;return t.filter(function(e,t){(e.upper?i>=+e.boundary&&i<+e.upper:i>=+e.boundary)&&(u=e.freight)}),k.default.createElement("li",null,"预计运费",u,"元")},n.chooseAssignArea=function(e,t){return e.filter(function(a,n){var r=a.area&&a.area.split(",");return r&&r.some(function(a){if(a===t[0]||a===t[1])return e[n]})})},n.calculateCharge=function(){var e=n.props.mix.dlytmplInfo,t=n.props.areaData.areaCode,a=[],r=e.freight_conf,o=e.free_conf,i=e.valuation_type,l=e.is_free,s=n.props.retState,c=s.num,u=s.weight;if(+l)return k.default.createElement("li",null,"该商品已包邮 ",k.default.createElement("span",{className:"tag"},"包邮"));if(1===i||2===i){if(o){if((a=n.chooseAssignArea(o,t)).length>0&&(3===a[0].free_type&&(a[0].limit_weight||a[0].limit_quantity)&&a[0].limit_money||2===a[0].free_type&&a[0].limit_money||1===a[0].free_type&&(a[0].limit_quantity||a[0].limit_weight)))return n.chooseChargeRule1(a[0]);if(o[0]&&(3===o[0].free_type&&(o[0].limit_weight||o[0].limit_quantity)&&o[0].limit_money||2===o[0].free_type&&o[0].limit_money||1===o[0].free_type&&(o[0].limit_quantity||o[0].limit_weight)))return n.chooseChargeRule1(o[0])}var d=(a=n.chooseAssignArea(r,t)).length>0&&a[0],p=d.start_standard,f=d.start_freight,m=d.add_standard,h=d.add_freight;return a.length&&(""!=p&&""!=f&&""!=m&&""!=h||""!=m&&""!=h&&(1===i?u<=p:c<=p))?n.chooseChargeRule2(a[0],i):n.chooseChargeRule2(r[0],i)}return(a=n.chooseAssignArea(r,t)).length?n.chooseChargeRule3(a[0]):n.chooseChargeRule3(r[0])},z(n,a)}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this.calculateCharge();return k.default.createElement("ul",{className:"charge c-fs13"},k.default.createElement("li",{className:"c-mr15"},"运费"),e)}}]),t}(),xe=(0,A.connect)(Ce,Se)(l=function(t){function a(e){q(this,a);var t=z(this,(a.__proto__||(0,p.default)(a)).call(this,e));return t.isInArea=function(e,a){var n=t.props.mix.delivery_regions;return!(n instanceof Array)||n.some(function(t){if(t==e||t==a)return!0})},t.changeState=function(e){t.setState(e)},t.confirmAnimal=function(e,a,n,r,o,i){t.isInArea(r,o)?(n?t.props.ChangeAreaData({areaData:{area:e+"/"+a+"/"+n,areaCode:[r,o],addressData:{area:{province:{code:r,text:e},city:{code:o,text:a},district:{code:i,text:n}},detail_address:e+a+n}}}):t.props.ChangeAreaData({areaData:{area:e+"/"+a,areaCode:[r,o],addressData:{area:{province:{code:r,text:e},city:{code:o,text:a}},detail_address:e+a}}}),t.setState({animalStatus:!1,slideIn:!1,shadySlide:!1,addSlideIn:!1})):T.tip.show({msg:"不在配送区域"})},t.cancel=function(){var e=t.state,a=e.animalStatus,n=e.slideIn,r=t.props.mix.addrList,o=t.props.isLogin;!o||o&&0===r.recent_addr.length&&!r.default_addr.area?t.changeState({slideIn:!1,shadySlide:!1,addSlideIn:!1,flag:!0}):a&&n?t.changeState({slideIn:!1,flag:!0}):t.changeState({shadySlide:!1,addSlideIn:!1,flag:!0})},t.state={flag:!0,shadySlide:!1,addSlideIn:!1,addStart:!1,animalStatus:!1,slideIn:!1},t}return G(a,w.Component),E(a,[{key:"render",value:function(){var t=this,a=this.props,n=a.mix,r=a.areaData,o=a.ChangeAreaData,i=a.isLogin,l=(n.dlytmplInfo,n.addrList),s=n.storehouse&&n.storehouse.name,c=this.state,u=c.shadySlide,d=c.addSlideIn,p=c.addStart,f=c.animalStatus,m=c.slideIn,h=c.flag,g=k.default.createElement("div",{className:"addr-solected"},k.default.createElement("span",{className:"c-mr15"},"配送"),k.default.createElement("span",{className:"addr-fh"}),s,"至",k.default.createElement("i",{className:"icon place-icon"}),k.default.createElement("span",null,r.area),k.default.createElement("i",{className:"icon icon-forward vertical-middle"},k.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})));return k.default.createElement("div",{className:"addr-ser"},k.default.createElement("div",{className:"shady "+(u?"":"c-dpno"),style:{height:e(window).height()},onClick:this.cancel}),k.default.createElement(Me,{addrList:l,addStart:p,shadySlide:u,flag:h,addSlideIn:d,areaData:r,animalStatus:f,slideIn:m,cancel:this.cancel,changeState:this.changeState,confirm:this.confirmAnimal,ChangeAreaData:o,isInArea:this.isInArea}),k.default.createElement("div",{className:"sever-addr"},k.default.createElement("div",{className:"addr-a",onClick:function(){t.changeState({addStart:!0,shadySlide:!0,addSlideIn:!0,flag:!1}),(!i||i&&l.recent_addr.length<0||i&&!l.default_addr)&&t.setState({animalStatus:!0,slideIn:!0})}},g)))}}]),a}())||l;function Ce(e){return b({mix:e.itemIndex.mix,areaData:e.itemIndex.areaData},e.global)}function Se(e){return{ChangeAreaData:function(t){e(W("changeAreaData",t))}}}var Me=function(t){function a(){return q(this,a),z(this,(a.__proto__||(0,p.default)(a)).apply(this,arguments))}return G(a,w.Component),E(a,[{key:"render",value:function(){var t=this;this.props.addSlideIn?V(!0):V(!1);var a=this.props,n=a.addSlideIn,r=a.addStart,o=a.animalStatus,i=a.slideIn,l=a.addrList,s=a.areaData,c=l?l.recent_addr.length>0?l.recent_addr:l.default_addr:[],u=c.length>0&&c.map(function(a,n){var r=e(".addr-d"+n).height();return k.default.createElement("li",{key:n,className:"choose-add add-detail",style:r>19?{paddingTop:"8px"}:{paddingTop:"15px"},onClick:function(){var e=a.area,n=e.province,r=e.city,o=e.district,i=[];t.props.isInArea(a.area.province.code,a.area.city.code)?(i.push(n.code),i.push(r.code),o.code&&i.push(o.code),a.address_id=a.id,t.props.ChangeAreaData({areaData:{area:a.detail_address,areaCode:i,addressData:a}}),t.props.changeState({shadySlide:!1,addSlideIn:!1})):T.tip.show({msg:"不在配送区域"})}},k.default.createElement("img",{className:"img-l",src:s.area===a.detail_address?"/src/img/icon/orientation-icon-red.png":"/src/img/icon/orientation-icon.png"}),k.default.createElement("div",{className:"addr-d"+n+" "+(s.area===a.detail_address?"c-cdred":"")},a.detail_address))});return k.default.createElement("div",{className:"add-pop"},k.default.createElement(O.ChooseAddress,{animalStatus:o,slideIn:i,confirm:this.props.confirm}),k.default.createElement("div",{className:"animation-add "+(r?n?"animation1":"animation2":"")},k.default.createElement("div",{className:"title"},k.default.createElement("li",{className:"c-fr",onClick:this.props.cancel},k.default.createElement("img",{src:"/src/img/icon/close/black-close-icon.png"})),k.default.createElement("li",{className:"c-c35 c-fs15"},"配送至")),k.default.createElement("ul",{className:"c-fs13 "},u,k.default.createElement("li",{className:"c-cdred choose-add",onClick:function(){t.props.changeState({animalStatus:!0,slideIn:!0})}},k.default.createElement("img",{className:"img-l",src:"/src/img/icon/choose-add.png"}),"选择其他区域"))))}}]),a}(),Te=(0,A.connect)(Ie,Pe)(s=function(e){function t(){var e,a,n;q(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=z(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),n.onClose=function(){n.props.ChangeSearverModal(!1)},z(n,a)}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.mix,n=t.data,r=t.searverModal,o=a.storehouse&&a.storehouse.name,i=(0,x.TradeFade)(n),l=a.delivery_regions,s=a.tags;return k.default.createElement("div",null,k.default.createElement(Oe,{mix:a,isTradeFade:i,data:n,searverModal:r,onClose:function(){return e.onClose()}}),k.default.createElement("div",{className:"goods-tax",onClick:function(){e.props.ChangeSearverModal(!0)}},k.default.createElement("ul",null,k.default.createElement("li",{className:n.support_ecard?"":"no-support"},k.default.createElement("i",{className:n.support_ecard?"detail-serve-icon":"point-notice-icon"}),n.support_ecard?"支持活动e卡":"不支持活动e卡"),i&&"DOMESTIC"!==n.trade_type?k.default.createElement("li",null,k.default.createElement("i",{className:"detail-serve-icon"}),"商品税费"):null,k.default.createElement("li",{className:s.free_refund?"":"no-support"},k.default.createElement("i",{className:s.free_refund?"detail-serve-icon":"point-notice-icon"}),s.free_refund?"支持":"不支持","七天无理由退换货"),n.is_free?k.default.createElement("li",null,k.default.createElement("i",{className:"detail-serve-icon"}),"包邮"):null,k.default.createElement("li",null,k.default.createElement("i",{className:"detail-serve-icon"}),"正品保证"),o&&R.hideFlag?k.default.createElement("li",null,k.default.createElement("i",{className:"detail-serve-icon"}),o):"",k.default.createElement("li",null,k.default.createElement("i",{className:"detail-serve-icon"}),"担保交易"),"number"!=typeof l?k.default.createElement("li",null,k.default.createElement("i",{className:"detail-serve-icon"}),"部分区域配送"):""),k.default.createElement("p",{className:"clearfix"})))}}]),t}())||s;function Ie(e){return{searverModal:e.itemIndex.searverModal}}function Pe(e){return{ChangeSearverModal:function(t){e(W("changeSearverModal",{flag:t}))}}}var Oe=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this.props,t=e.mix,a=e.isTradeFade,n=e.data,r=t.storehouse&&t.storehouse.name,o=t.delivery_regions,i=t.tags,l=Math.ceil(1e4*(+n.tax_rate).toFixed(5))/100;return k.default.createElement(P.NewModal,{isOpen:this.props.searverModal,title:"服务说明",onClose:this.props.onClose},k.default.createElement("section",{className:"modal-wrap-container",style:{height:"335px"}},k.default.createElement("ul",null,k.default.createElement("li",null,k.default.createElement("div",{className:"hd"},k.default.createElement("i",{className:n.support_ecard?"mark-icon":"no-mark-icon"})," ",n.support_ecard?"支持活动e卡":"不支持活动e卡"),k.default.createElement("div",{className:"tax-cont"},n.support_ecard?"店铺为支持活动e卡，商品贸易类型为一般贸易的商品。":"不支持活动e卡。")),a&&"DOMESTIC"!==n.trade_type?k.default.createElement("li",null,k.default.createElement("div",{className:"hd"},k.default.createElement("i",{className:"mark-icon"})," 商品税费"),k.default.createElement("div",{className:"tax-cont"},"按照国家规定，本商品适用于跨境综合税，税率为",l,"%， 实际结算税费请以提交订单时的应付总额明细为准。")):null,k.default.createElement("li",null,k.default.createElement("div",{className:"hd"},k.default.createElement("i",{className:i.free_refund?"mark-icon":"no-mark-icon"})," ",i.free_refund?null:"不支持","七天无理由退换货"),k.default.createElement("div",{className:"tax-cont"},i.free_refund?"此商品支持7天无理由退换货，在商品签收之日起7天内可发起退换货申请，退回商品应不影响第二次销售":"此商品不支持七天无理由退换货")),n.is_free?k.default.createElement("li",null,k.default.createElement("div",{className:"hd"},k.default.createElement("i",{className:"mark-icon"})," 包邮"),k.default.createElement("div",{className:"tax-cont"},"此商品全国地区包邮。")):null,k.default.createElement("li",null,k.default.createElement("div",{className:"hd"},k.default.createElement("i",{className:"mark-icon"})," 正品保证"),k.default.createElement("div",{className:"tax-cont"},"泰然城每件商品都经过严苛的质量把关，保障正品、保障品质，杜绝一切假货，让您购物无忧。")),r&&R.hideFlag?k.default.createElement("li",null,k.default.createElement("div",{className:"hd"},k.default.createElement("i",{className:"mark-icon"})," ",r),k.default.createElement("div",{className:"tax-cont"},"本商品由",r,"发货。")):null,k.default.createElement("li",null,k.default.createElement("div",{className:"hd"},k.default.createElement("i",{className:"mark-icon"})," 担保交易"),k.default.createElement("div",{className:"tax-cont"},"担保交易，放心购买。")),"number"!=typeof o?k.default.createElement("li",null,k.default.createElement("div",{className:"hd"},k.default.createElement("i",{className:"mark-icon"})," 部分区域配送"),k.default.createElement("div",{className:"tax-cont"},"本商品只支持部分配送区域。")):null)))}}]),t}(),De=t.EvaluateArea=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,D.PureComponent),E(t,[{key:"render",value:function(){var e=this.props,t=e.rate,a=e.itemId,n=t.rates,r=t.total,o=t.good_rate_ratio;return k.default.createElement("div",{className:"evaluate-area detail"},k.default.createElement("div",{className:"hd"},k.default.createElement(N.Link,{to:"/evaluate?item_id="+a,"data-notLogin":!0},"商品评价 (",r,")",k.default.createElement("i",{className:"icon icon-forward"},k.default.createElement("span",{className:"c-cdred"},"好评",o,"%"),k.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"})))),n.length>0&&k.default.createElement(Le,{rates:n,itemId:a}))}}]),t}(),Le=t.EvaluateAreaContents=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"getList",value:function(){var e=this.props,t=e.rates,a=e.itemId;return t.map(function(e,t){return k.default.createElement(je,{data:e,key:t,itemId:a})})}},{key:"componentDidMount",value:function(){this.refs.swiper&&this.initSwiper()}},{key:"initSwiper",value:function(){this.swiper=new Swiper(this.refs.swiper,{loop:!1,slidesPerView:1.35})}},{key:"render",value:function(){var e=this.getList(),t=this.props.rates.length;return 7===t?k.default.createElement("div",{"data-plugin":"swiper"},k.default.createElement("div",{className:"swiper-container evaluate-swiper-container",ref:"swiper"},k.default.createElement("div",{className:"swiper-wrapper"},e,k.default.createElement("div",{className:"swiper-slide more-evaluate c-fs12 c-c666",key:t},k.default.createElement(N.Link,{to:"/evaluate?item_id="+this.props.itemId,"data-notLogin":!0},k.default.createElement("ul",{className:"more"},k.default.createElement("li",null,"查看更多"),k.default.createElement("li",{className:"line-wrap"},k.default.createElement("i",{className:"line"}," ")),k.default.createElement("li",null,"See more"))))))):null}}]),t}(),je=function(e){function t(){var e,a,n;q(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=z(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),n.getName=function(e){return e?e.length>2?e.substring(0,1)+"**"+e.substring(e.length-1):e:null},n.getPhone=function(e){var t=String(e);return e?t.substring(0,3)+"***"+t.substring(t.length-3):null},z(n,a)}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.itemId;return k.default.createElement("div",{className:"swiper-slide each-evaluate"},k.default.createElement(N.Link,{to:"/evaluate?item_id="+a,"data-notLogin":!0},k.default.createElement("div",{className:"c-fl",style:0===t.images.length?{width:"100%"}:{}},k.default.createElement("h2",null,k.default.createElement("div",{className:"head"},k.default.createElement("img",{src:t.head_portrait?(0,R.addImageSuffix)(t.head_portrait,"_t"):"/src/img/icon/avatar/default-avatar.png"})),k.default.createElement("font",null,t.user_name)),k.default.createElement("div",{className:"evaluate-content"},t.content||Y[t.experience])),t.images.length>0&&k.default.createElement("div",{className:"c-fr"},k.default.createElement("img",{src:(0,R.addImageSuffix)(t.images[0],"_s")}),k.default.createElement("span",{className:"img-num"},t.images.length,"张"))),k.default.createElement("p",{className:"c-cb"}))}}]),t}(),Be=t.LinkAndChange=function(t){function a(){return q(this,a),z(this,(a.__proto__||(0,p.default)(a)).apply(this,arguments))}return G(a,w.Component),E(a,[{key:"render",value:function(){var t=this.props,a=t.notLogin,n=t.onTouchTap,r=t.onClick,o=t.className,i=t.style,l=t.children,s=t.isLogin,c=t.to,u=t.href,d=t.flag,p=t.BackFlag,f=t.GoScrollHeght,m={onTouchTap:n,onClick:r,className:o,style:i,href:u,to:c},h={className:o,style:i,href:u,to:c};return!0===a||s?k.default.createElement(N.Link,m,l):k.default.createElement(N.Link,b({},h,{onClick:function(t){t.preventDefault(),d?p():f(e(window).scrollTop()),(0,U.miniProgramLogin)(location.href)}}),l)}}]),a}(),Re=t.LinkChange=(0,A.connect)(function(e){return b({},e.global)},function(e){return{GoScrollHeght:function(t){e(W("goScrollHeght",{height:t}))}}})(Be),Ue=t.RecommendArea=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,D.PureComponent),E(t,[{key:"componentDidMount",value:function(){this.refs.swiperRecommend&&this.initSwiper()}},{key:"initSwiper",value:function(){this.swiper=new Swiper(this.refs.swiperRecommend,{pagination:".swiper-pagination-recommend"})}},{key:"render",value:function(){var e=this.props.recommend,t=[],a=(t=e.length<=6?[e]:e.length>6&&e.length<=12?[e.slice(0,6),e.slice(6,e.length)]:[e.slice(0,6),e.slice(6,12),e.slice(12,e.length)]).map(function(e,t){return k.default.createElement(Fe,{key:t,data:e})});return e.length>0?k.default.createElement("div",{className:"recommend-area c-fs14","data-plugin":"swiper"},k.default.createElement("p",null,"为您推荐"),k.default.createElement("div",{className:"swiper-container recommend-swiper-container",ref:"swiperRecommend"},k.default.createElement("div",{className:"swiper-wrapper"},a),t.length>1&&k.default.createElement("div",{className:"swiper-pagination swiper-pagination-recommend"}))):null}}]),t}(),Fe=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this.props.data.map(function(e,t){return k.default.createElement("li",{key:t,className:"rec-item",style:(t+1)%3==0?{marginRight:"0px"}:{}},k.default.createElement(N.Link,{to:"/item?item_id="+e.item_id},k.default.createElement("div",{className:"img-wraper"},k.default.createElement("img",{src:e.images[0]&&(0,R.addImageSuffix)(e.images[0],"_m")||"/src/img/item/no-img.png"}),e.promotion.tag&&k.default.createElement("span",{className:"tag"},e.promotion.tag)),k.default.createElement("div",{className:"title"},e.title),k.default.createElement("div",{className:"price"},k.default.createElement("span",{className:"c-fs11 c-cdred"},"¥",e.sell_price))))});return k.default.createElement("div",{className:"swiper-slide recommend-content"},e)}}]),t}(),He=t.ShopArea=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this.props.shop;return e.is_open?k.default.createElement(N.Link,{className:"link",to:"/store/home?shop="+ +e.id},k.default.createElement("div",{className:"gap bgf4"}),k.default.createElement("ul",{className:"shop-arer"},k.default.createElement("li",{className:"image"},k.default.createElement("img",{src:(0,R.addImageSuffix)(e.logo,"_s")})),k.default.createElement("li",null,k.default.createElement("p",{className:"shop-name c-fs15"},e.alias?e.alias:e.name),k.default.createElement("p",{className:"shop-msg c-fs10 c-c999"},1===e.biz_model?"泰然城自营":"泰然城精选商家")),k.default.createElement("li",{className:"button"},"进入店铺"))):null}}]),t}(),qe=function(t){function a(t){q(this,a);var n=z(this,(a.__proto__||(0,p.default)(a)).call(this,t));return n.onClickImage=function(t){e(t.target).height(),e(t.target).width();var a=t.target.width,r=t.target.height;n.props.changeImgData(e(t.target)[0].src,a,r)},n.state={imgUrl:""},n}return G(a,w.Component),E(a,[{key:"componentDidMount",value:function(){e(".goods-pic img").click(this.onClickImage)}},{key:"render",value:function(){var e=this.props.data;return k.default.createElement("div",null,k.default.createElement("div",{className:"goods-pic",dangerouslySetInnerHTML:{__html:e.desc&&e.desc.wap}}))}}]),a}(),ze=t.GoodsDetail=function(t){function a(e){q(this,a);var t=z(this,(a.__proto__||(0,p.default)(a)).call(this,e));return t.changeImgData=function(e,a,n){t.setState({imgSrc:e,width:a,height:n})},t.state={active:0,imgSrc:"",width:0,height:0},t}return G(a,D.PureComponent),E(a,[{key:"componentWillUnmount",value:function(){this.unMount&&this.unMount()}},{key:"componentDidMount",value:function(){this.unMount=this.mount()}},{key:"mount",value:function(){var t=e(window).height(),a=this,n=e(this.refs.twContent).offset().top;function r(){window.scrollY+t>=n&&(a.setState(a.state),e(window).unbind("scroll",r))}return e(this.refs.detail).css("min-height",t-140),e(window).bind("scroll",r),function(){return e(window).unbind("scroll",r)}}},{key:"changeTag",value:function(e){e!=this.state.active&&this.setState({active:e})}},{key:"checkTag",value:function(e){return this.state.active===e?"active":""}},{key:"getList",value:function(){var e=this.props.data,t=e.properties,a=e.art_no,n=e.shelved_at,r=e.weight,o=[k.default.createElement("li",{key:"id"},"商品编号：",k.default.createElement("span",{className:"c-fr"},a)),k.default.createElement("li",{key:"time"},n&&"上架时间：",k.default.createElement("span",{className:"c-fr"},n&&n.split(" ")[0])),k.default.createElement("li",{key:"weight"},"商品毛重：",k.default.createElement("span",{className:"c-fr"},r,"kg"))];for(var i in t)o.push(k.default.createElement("li",{key:i},t[i].name,"：",k.default.createElement("span",{className:"c-fr"},t[i].text)));return o}},{key:"render",value:function(){var t=this,a=this.props.data,n=a.trade_type,r=this.state,o=r.imgSrc,i=r.width,l=r.height;return k.default.createElement("div",{className:"pic-area detail goods-detail",ref:"twContent"},k.default.createElement(I.ItemFix,null,k.default.createElement("div",{className:"tab-ti-wrap"},k.default.createElement("div",{className:"tab-ti"},k.default.createElement("ul",null,k.default.createElement("li",{className:this.checkTag(0),onClick:function(){return t.changeTag(0)}},k.default.createElement("span",null,"商品介绍")),k.default.createElement("li",{className:this.checkTag(1),onClick:function(){return t.changeTag(1)}},k.default.createElement("span",null,"商品参数")))))),k.default.createElement("div",{className:"tab-con"},k.default.createElement("div",{className:"tw-con "+this.checkTag(0)},"Direct"==n||"Overseas"==n?k.default.createElement("div",{className:"zhiyou img-w"},k.default.createElement("img",{src:"/src/img/pintuan/zhiyou.jpg",onClick:function(a){t.changeImgData("/src/img/pintuan/zhiyou.jpg",e(window).width(),a.target.height)}})):null,k.default.createElement(qe,{data:a,changeImgData:this.changeImgData}),"Direct"==n||"Bonded"==n||"Overseas"==n?k.default.createElement("div",{className:"goods_text img-w"},k.default.createElement("img",{src:"/src/img/pintuan/goods_text.jpg",onClick:function(a){t.changeImgData("/src/img/pintuan/goods_text.jpg",e(window).width(),a.target.height)}})):"",k.default.createElement("div",{className:"price_text img-w"},k.default.createElement("img",{src:"/src/img/pintuan/price_text.jpg",onClick:function(a){t.changeImgData("/src/img/pintuan/price_text.jpg",e(window).width(),a.target.height)}}))),k.default.createElement("div",{className:"cs-con "+this.checkTag(1),ref:"detail"},k.default.createElement("ul",{className:"goods-detail"},this.getList()))),o&&k.default.createElement(Ge,{imgSrc:o,width:i,height:l,changeImgSrc:function(){t.state.imgSrc=""}}))}}]),a}(),Ge=function(e){function t(e){q(this,t);var a=z(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.photoSwiper=function(e){a.state.gallery;var t=document.querySelectorAll(".pswp")[0],n=[{src:a.props.imgSrc,w:a.props.width,h:a.props.height}];new PhotoSwipe(t,PhotoSwipeUI_Default,n,{history:!1,focus:!1,tapToClose:!0,showAnimationDuration:0,hideAnimationDuration:0}).init()},a.state={gallery:""},a}return G(t,w.Component),E(t,[{key:"componentDidMount",value:function(){this.photoSwiper()}},{key:"componentDidUpdate",value:function(){this.photoSwiper()}},{key:"render",value:function(){return k.default.createElement("div",null,k.default.createElement("div",{className:"pswp",tabIndex:"-1",role:"dialog","aria-hidden":"true"},k.default.createElement("div",{className:"pswp__bg",onClick:this.props.changeImgSrc()}),k.default.createElement("div",{className:"pswp__scroll-wrap"},k.default.createElement("div",{className:"pswp__container"},k.default.createElement("div",{className:"pswp__item"}),k.default.createElement("div",{className:"pswp__item"}),k.default.createElement("div",{className:"pswp__item"})),k.default.createElement("div",{className:"pswp__ui pswp__ui--hidden"},k.default.createElement("div",{className:"pswp__top-bar"},k.default.createElement("div",{className:"pswp__counter"}),k.default.createElement("div",{className:"pswp__preloader"},k.default.createElement("div",{className:"pswp__preloader__icn"},k.default.createElement("div",{className:"pswp__preloader__cut"},k.default.createElement("div",{className:"pswp__preloader__donut"}))))),k.default.createElement("div",{className:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},k.default.createElement("div",{className:"pswp__share-tooltip"})),k.default.createElement("button",{className:"pswp__button pswp__button--arrow--left",title:"Previous (arrow left)"}),k.default.createElement("button",{className:"pswp__button pswp__button--arrow--right",title:"Next (arrow right)"}),k.default.createElement("div",{className:"pswp__caption"},k.default.createElement("div",{className:"pswp__caption__center"}))))))}}]),t}(),We=t.Collect=(0,A.connect)(Je,Xe)(c=function(e){function t(){var e,a,n;q(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=z(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),n.onCollect=function(){var e=n.props.favorite;if(!n.locked()){n.locked(!0);var t=b({},e?Q.DelFav:Q.Fav,{params:{item_id:n.props.data.item_id}});L.default.request(t).then(function(t){n.props.ChangeCollectStatus(e?0:1),n.locked(!1);var a=n.props.data,r=a.item_id,o=a.title,i=(0,F.setExtraInfoScj)(r,o,null,t.status,t.data.code,"商品加入收藏成功");!e&&sdk.dispatch("click",document.getElementById("add-collect"),i)}).catch(function(t){var a=t.response,r=a.status,o=a.data;T.tip.show({msg:o.message||"服务器繁忙"}),n.locked(!1);var i=n.props.data.item_id,l=(0,F.setExtraInfoScj)(i,title,null,r,o.code,o.message);!e&&sdk.dispatch("click",document.getElementById("add-collect"),l)})}},z(n,a)}return G(t,w.Component),E(t,[{key:"locked",value:function(e){return null!=e&&(this.update=e),this.update}},{key:"render",value:function(){var e=this,t=this.props.favorite;return k.default.createElement("div",{className:"collect"},k.default.createElement(Re,{className:t?"save curr uncollect-goods":"save collect-goods",onClick:function(){return e.onCollect()}},t?[k.default.createElement("span",{className:"icon icon-favor text_sc",key:"0",id:"add-collect"},k.default.createElement("img",{src:"/src/img/icon/collected-icon.png"})),k.default.createElement("span",{className:"icon-title",key:"1"},"已收藏")]:[k.default.createElement("span",{className:"shoucang",key:"0",id:"add-collect"},k.default.createElement("img",{src:"/src/img/icon/collect-icon.png"})),k.default.createElement("span",{className:"icon-title",key:"1"}," 收藏")]))}}]),t}())||c;function Je(e){return{favorite:e.itemIndex.favorite}}function Xe(e){return{ChangeCollectStatus:function(t){e(W("changeCollectStatus",{status:t}))}}}var Qe=t.TotopAndCart=function(t){function a(){return q(this,a),z(this,(a.__proto__||(0,p.default)(a)).apply(this,arguments))}return G(a,w.Component),E(a,[{key:"componentWillUnmount",value:function(){e(window).unbind("scroll.top")}},{key:"componentDidMount",value:function(){var t=e(window),a=(t.height(),e(".toTop")),n=void 0;a.on("click",function(){clearInterval(n);var e=t.scrollTop();n=setInterval(function(){e-=100,t.scrollTop(e),e<=0&&clearInterval(n)},1)}),e(window).bind("scroll.top",function(){e(this).scrollTop()>e(window).height()?a.show():a.hide()})}},{key:"render",value:function(){var e=this.props.cartNum;return k.default.createElement("div",{className:"cart-toTop",style:(0,R.judgeIphoneX)()?{bottom:"80px"}:{}},k.default.createElement("ul",null,k.default.createElement("div",{onClick:function(){window.sessionStorage.setItem("areaData",""),(0,U.miniProgramShopCart)()}},k.default.createElement("li",{className:"cart"},k.default.createElement("span",{className:e?e>=10?"width2":"width1":"c-dpno"},e))),k.default.createElement("li",{className:"toTop"})))}}]),a}(),Ze=t.BuyModalTitle=function(t){function a(){q(this,a);var e=z(this,(a.__proto__||(0,p.default)(a)).call(this));return e.state={isLarge:!1},e}return G(a,w.Component),E(a,[{key:"getImg",value:function(){var e=this.props.data,t=this.props.retState,a=t.specKey,n=t.selectArr,r=this.props.promotion.info,o=void 0,i=void 0;return a&&a.some(function(e,t){return i=r.specs[e].values.filter(function(e,a){return e.spec_value_id==n[t]}),o=i[0].image}),o||e.primary_image}},{key:"componentDidUpdate",value:function(){this.state.isLarge&&te(".ui-table-view-large-wrapper",null,{newTime:0,oldTime:0,enlarge:!1,relativeX:0,relativeY:0,x1:0,x2:0,y1:0,startX:0,endX:0,wid:0,hei:0,lef:0,to:0,timerScale:null,self:this,isLarge:this.state.isLarge})}},{key:"render",value:function(){var t=this,a=this.props,n=(a.data,a.retState),r=a.promotion.info.specs,o=this.state.isLarge,i=ee(n,r);return k.default.createElement("div",null,o&&k.default.createElement("div",{className:"ui-table-view-large-img",style:{height:e(window).height(),top:e(".action-buy-modal").height()}},k.default.createElement("div",{className:"buy-shady",onClick:function(){t.setState({isLarge:!1})}}),k.default.createElement("div",{className:"ui-table-view-large-wrapper",style:{height:e(window).height()}},k.default.createElement("img",{src:(0,R.addImageSuffix)(this.getImg(),"_l")}))),k.default.createElement("ul",{className:"ui-table-view"},k.default.createElement("li",{className:"ui-table-view-cell"},k.default.createElement("span",{className:"posit-img"},k.default.createElement("img",{className:"ui-media-object ui-pull-left",src:this.getImg()?(0,R.addImageSuffix)(this.getImg(),"_s"):"/src/img/item/no-img.png",width:"80",height:"80",onClick:function(){t.setState({isLarge:!0})}})),k.default.createElement("div",{className:"ui-media-body window-head"},k.default.createElement("div",{className:"price-tag"},k.default.createElement("p",{className:"ui-ellipsis text-price action-update-price"},"¥",n.nowPrice)),!(r instanceof Array)&&i.length>0&&k.default.createElement("p",{className:"text-price-sel",style:{display:"block"}}," 已选 ",i," ")))))}}]),a}(),Ye=function(e){function t(){var e,a,n;q(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=z(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),n.initList=function(){var e=n.props.promotion.info.specs;return(0,d.default)(e).map(function(t,a){return k.default.createElement(Ve,b({specs:e[t],index:a},n.props,{key:a}))})},n.getLimit=function(){var e=n.props.promotion.activity_type,t=n.props.promotionData;return"FlashSale"===e?k.default.createElement("span",{className:"limit_buy"},"限购",t[e].rules.user_buy_limit,"件 (已购",t[e].purchased_quantity,"件)"):null},z(n,a)}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this.props,t=e.addMinNum,a=e.changeNum,n=e.importNum,r=e.promotionData,o=this.props.promotion.activity_type,i=this.props.retState,l=i.num,s=i.storeNum,c="FlashSale"===o?r[o].rules.user_buy_limit-r[o].purchased_quantity:null;return k.default.createElement("div",{className:"attr-wrap"},k.default.createElement("div",{className:"standard-area stable-standard cur"},k.default.createElement("div",{className:"standard-info"},this.initList())),k.default.createElement("div",{className:"buy-amount"},k.default.createElement("span",{className:"amount-tit"},"数量："),k.default.createElement("span",{className:"number-increase-decrease"},k.default.createElement("span",{className:"btn btn-action action-decrease "+(1===l||""===l?"dis-click":""),onTouchTap:1===l||""===l?"":function(){return t(-1)}},"－"),k.default.createElement("input",{type:"number",className:"action-quantity-input",value:l,onBlur:n,onChange:a}),k.default.createElement("span",{className:"btn btn-action action-increase "+(l===s||""===l||null!==c&&l>=c||0===s?"dis-click":""),onTouchTap:l===s||""===l||null!==c&&l>=c||0===s?"":function(){return t(1)}},"＋")),k.default.createElement("span",{className:"store_buy"},"库存",s,"件"),this.getLimit(),k.default.createElement("div",{className:"clearfix"})),k.default.createElement($e,this.props))}}]),t}(),Ke=t.BuyModalButton=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this.props,t=e.buyActive,a=e.onClickCart,n=e.onClickBuy,r=(e.purchaseLimit,e.toCartClick),o=e.isNonPayment,i=this.props.promotion.realStore;return k.default.createElement("div",{className:"buy-option-btn",style:(0,R.judgeIphoneX)()?{height:"85px"}:{}},o?k.default.createElement("div",{className:"btn-tobuy-disable",style:{width:"100%"}},"还有机会"):k.default.createElement("div",null,i?k.default.createElement("div",{className:"btn-addcart "+("chooseSpec"===t?"btn-group":"buy"===t?"c-dpno":""),onTouchTap:r?a:"",id:"add-package"},"加入购物袋"):k.default.createElement("div",{className:"btn-tobuy-disable"},"已售罄"),k.default.createElement("div",null,null,k.default.createElement("div",{className:"btn-tobuy "+("chooseSpec"===t?"btn-group":"cart"===t?"c-dpno":""),onTouchTap:function(){n(t)}},"立即购买"))))}}]),t}(),Ve=t.Specs=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"initList",value:function(){var e=this,t=this.props,a=t.isHasStore,n=t.specs,r=(t.promotion,t.index),o=t.judgeSingleSku,i=this.props.retState,l=i.newData,s=i.selectArr,c=n.values,u=n.spec_id;return c.map(function(t,n){var i=t.spec_value_id,c=a({spec:i,index:r},l,s);return k.default.createElement("li",{key:n,onClick:function(t){!o()&&c&&e.props.specSelect(i,r,u)},className:c?o()||s[r]===i?"on":"abled":"disabled"},k.default.createElement("span",{title:t.text},"Text"!=t.show_type&&t.image?k.default.createElement("span",null,k.default.createElement("img",{src:t.image,width:"25",height:"25",style:{marginTop:"-1px"}})," ",k.default.createElement("span",null," ",t.text," ")):t.text))})}},{key:"render",value:function(){var e=this.props.specs;return k.default.createElement("div",{className:"color parameter"},k.default.createElement("span",{className:"tit"},e.name),k.default.createElement("ul",{className:"size_ul"},this.initList()))}}]),t}(),$e=t.ExpectTax=function(e){function t(e){q(this,t);var a=z(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.state={rateShow:!1},a}return G(t,w.Component),E(t,[{key:"getRate",value:function(){var e=this,t=this.props,a=t.data,n=t.buyActive,r=t.promotion,o=this.props.retState,i=o.nowPrice,l=o.num;if(!(0,x.TradeFade)(a)||"DOMESTIC"===a.trade_type)return null;var s=(Math.ceil(1e4*(+a.tax_rate).toFixed(5))/100).toFixed(2),c=String(i).split("-").length;i="groupBuy"===n?r.promotion[0].rules.group_price:1===c?i:a.sell_price;var u=(l="groupBuy"===n?1:l)*a.tax_rate*i;return+(u=(+u.toFixed(2)+(parseFloat((u-u.toFixed(2)).toFixed(10))>=1e-5?.01:0)).toFixed(2))?k.default.createElement("div",null,k.default.createElement("div",{className:"expect_tax",onClick:function(){return e.setState({rateShow:!e.state.rateShow})}},"预计税费",k.default.createElement("span",{className:"icon_slide c-fr "+(this.state.rateShow?"rotate":"")},k.default.createElement("img",{src:"/src/img/icon/arrow/arrow-btm-icon.png"})),k.default.createElement("span",{className:"tax_count c-fr",style:{display:this.state.rateShow?"none":"block"}},"￥",u)),k.default.createElement("div",{className:"expect_tax_con disnon",style:{display:this.state.rateShow?"block":"none"}},k.default.createElement("div",{className:"tax_count"},"￥",u),k.default.createElement("div",{className:"c-pl15 c-pr15"},k.default.createElement("div",{className:"hd"},k.default.createElement("img",{src:"/src/img/icon/checked-icon.png"})," 税率",k.default.createElement("span",{id:"tax_cou"},s),"%"),k.default.createElement("div",{className:"tax_cont tax_cont1"}," 按照国家规定，本商品适用于跨境综合税，税率为",s,"%， 实际结算税费请以提交订单时的应付总额明细为准。"),k.default.createElement("div",{className:"hd"},k.default.createElement("img",{src:"/src/img/icon/checked-icon.png"})," 税费计算"),k.default.createElement("div",{className:"tax_cont"},"进口税费=商品完税价格*税率")))):null}},{key:"render",value:function(){return this.getRate()}}]),t}(),et=t.BuyModal=function(e){function t(e){q(this,t);var a=z(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.changeBusinessPrice=function(){var e=a.props.retState,t=(e.num,e.nowPrice),n=e.nowSkuId,r=e.storeNum,o=e.selectArr,i=e.specKey,l=e.originalPrice,s=a.props.promotion.info.skus,c=a.props.promotion.info.specs,u=(0,d.default)(s),p=void 0;u.map(function(e){0!==s[""+e].store&&(p=e)}),p=p||u[0],t=s[p].price,l=s[p].price,n=s[p].sku_id,r=s[p].store,o=p.split("_"),i=(0,d.default)(c);var f=b({},a.props.retState,{nowPrice:t,nowSkuId:n,storeNum:r,selectArr:o,specKey:i,originalPrice:l});a.props.InitState(f)},a.judgeSingleSku=function(){var e=a.props.promotion.info.skus,t=[],n=(0,d.default)(e);return n.map(function(a){0!==e[""+a].store&&t.push(e[""+a])}),1===n.length||1===t.length},a.addMinNum=function(e){var t=a.props.retState,n=t.num,r=t.nowPrice;t.nowSkuId,t.selectArr;n=n+e;var o=b({},a.props.retState,{num:n,nowPrice:r});a.props.InitState(o)},a.purchaseLimit=function(){var e=a.props.data.trade_type;if(a.props.retState.num>1&&a.props.retState.nowSkuId&&(0,x.PurchaseLimit)(e))return a.props.retState.num*a.props.retState.nowPrice>2e3},a.getActionData=function(e){var t=a.props,n=t.retState,r=t.promotion,o=t.areaData,i=t.data,l=i.shop_id,s=(i.shop.attr,t.itemId),c=[],u=a.props.location.query.user_id;a.props.mix&&a.props.mix.addrList;r.promotion&&r.promotion.map(function(e,t){c.push({promotion_id:e.id,role:"main_good",type:e.type})});var d=window.localStorage.getItem("commissionUcenterId"),p=window.localStorage.getItem("salesmanId"),f={subscribe:[{quantity:n.num||1,cart_id:0,sku_id:n.nowSkuId,item_id:s,created_at:(new Date).getTime(),extra:{promotion:c,commission_user_id:u,name_card_salesman_id:p,commission_ucenter_id:d}}]};return f=e?b({},f,{buyMode:"fast_buy",bizMode:"online",bizAttr:"trmall",address:o.addressData}):{item_id:s,sku_id:n.nowSkuId,quantity:n.num||1,shop_id:l,extra:{price:n.originalPrice,commission_user_id:u,name_card_salesman_id:p,commission_ucenter_id:d}}},a.onClickCart=function(){var e=a,t=a.checkSpec(),n=a.props.data.title;t?T.tip.show({msg:"请选择规格"}):(e.setState({toCartClick:!1}),L.default.request(b({},Q.toCart,{params:a.getActionData()})).then(function(t){e.setState({toCartClick:!0}),e.props.UpdateCartInfo(t.data.data),ae(),e.props.closeModal();var r=a.getActionData(),o=r.item_id,i=r.quantity,l=r.sku_id,s=(0,F.setExtraInfoGwc)(n,o,l,i,t.status,t.data.code,"加入购物车成功");sdk.dispatch("click",document.getElementById("add-package"),s)}).catch(function(t){var r=t.response,o=r.status,i=r.data;T.tip.show({msg:i.message||"服务器繁忙"}),e.setState({toCartClick:!0});var l=a.getActionData(),s=l.item_id,c=l.quantity,u=l.sku_id,d=(0,F.setExtraInfoGwc)(n,s,u,c,o,i.code,i.message);sdk.dispatch("click",document.getElementById("add-package"),d)}))},a.onClickBuy=function(e){var t=a.props.location.query.item_id;if(a.checkSpec())T.tip.show({msg:"请选择规格"});else{var n=a.getActionData(!0);sessionStorage.setItem("fast_buy",(0,u.default)(n)),N.browserHistory.push("/orderConfirm?item_id="+t)}},a.isHasStore=function(e,t,a){return t&&t.some(function(t,n){if(t.ids[e.index]==e.spec){var r=a.slice();return r[e.index]&&delete r[e.index],!!r.every(function(e,n){return a[n]==t.ids[n]})&&t.skus.store>0}return!1})},a.specSelect=function(e,t,n){var r,o=a.props.retState,i=a.props.promotion.info.skus,l=a.props.promotion,s=l.realStore,c=(l.activity_type,o.selectArr),u=o.specKey,d=o.nowSku,p=o.storeNum,f=o.newData,m=o.nowSkuId,h=o.nowPrice,g=o.num,v=o.deductPrice,y=o.originalPrice;(c=c.slice())[t]===e?(delete c[t],delete u[t]):(c[t]=e,u[t]=n),r=c.join("_"),c.length==f[0].ids.length&&i[r]?(d=i[r],m=i[r].sku_id,h=i[r].price,y=i[r].price,g=g<(p=i[r].store)?g:p,v=i[r].deduct_price):(h=$(a.props.promotion,!0),p=s,m="",d="",v="",y="");var _=b({},a.props.retState,{nowSku:d,selectArr:c,specKey:u,nowSkuId:m,nowPrice:h,num:g,storeNum:p,deductPrice:v,originalPrice:y});a.props.InitState(_)},a.importNum=function(e){var t=e.target.value,n=a.props.retState,r=n.num,o=n.storeNum,i=(n.selectArr,n.nowSkuId,n.nowPrice);if(!t){r=a.preNum||o;var l=b({},a.props.retState,{num:r,nowPrice:i});a.props.InitState(l)}},a.changeNum=function(e){var t=a.props.retState,n=t.num,r=(t.nowSku,t.nowSkuId,t.nowPrice),o=(t.selectArr,t.storeNum),i=e.target.value;a.preNum=n,n=+(i=i.replace(/[^\d]/g,""))?+i>o?n:+i:"";var l=b({},a.props.retState,{num:n,nowPrice:r});a.props.InitState(l)},a.state={toCartClick:!0},a}return G(t,w.Component),E(t,[{key:"componentWillMount",value:function(){this.judgeSingleSku()&&this.changeBusinessPrice()}},{key:"checkSpec",value:function(){var e=this.props.retState,t=e.specKey,a=e.nowSkuId,n=this.props.promotion.info.specs;return!a&&((0,d.default)(n).filter(function(e,a){return+e!==t[a]}),!0)}},{key:"render",value:function(){var e=b({addMinNum:this.addMinNum,changeNum:this.changeNum,importNum:this.importNum,isHasStore:this.isHasStore,onClickCart:this.onClickCart,onClickBuy:this.onClickBuy,specSelect:this.specSelect,judgeSingleSku:this.judgeSingleSku,purchaseLimit:this.purchaseLimit,retState:this.props.retState,promotion:this.props.promotion,promotionData:this.props.promotionData,data:this.props.data,buyActive:this.props.buyActive,isNonPayment:this.props.isNonPayment},this.state);return k.default.createElement(P.NewModal,{isOpen:this.props.buyModal,onClose:this.props.closeModal},k.default.createElement("div",{className:"action-buy-modal",style:(0,R.judgeIphoneX)()?{paddingBottom:"34px"}:{}},k.default.createElement(Ze,e),k.default.createElement(Ye,e),k.default.createElement(Ke,e)))}}]),t}(),tt=t.Buy=function(e){function t(){var e,a,n;q(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=z(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),n.active=function(e){n.props.UpdateBuyModal({buyModal:!0,buyActive:e})},n.isNonPayment=function(){var e=n.props.promotion,t=e.activity_type,a=e.realStore;if(t){var r=n.props.promotionData[""+t],o=r.activity_sales,i=r.activity_store;if(!a)return o!==i}},z(n,a)}return G(t,w.Component),E(t,[{key:"render",value:function(){var e=this;return this.props.mixStatus&&this.props.proStatus?k.default.createElement("div",null,this.props.choose?k.default.createElement(Re,{className:"choose-btn",onClick:function(){e.active("chooseSpec")}}):this.props.data.is_charge?null:"SHELVING"===this.props.data.status?this.isNonPayment()?k.default.createElement("div",{className:"action-btn-group c-fr"},k.default.createElement(Re,{type:"button",className:"ui-btn action-disable"},"还有机会")):this.props.promotion.realStore?k.default.createElement("div",{className:"action-btn-group c-fr"},k.default.createElement(Re,{className:"ui-btn  action-addtocart c-fl",onClick:function(){e.active("cart")}},"加入购物袋"),k.default.createElement(Re,{className:"ui-btn  action-buy-now c-fl",onClick:function(){e.active("buy")}},"立即购买")):k.default.createElement("div",{className:"action-btn-group c-fr"},k.default.createElement(Re,{type:"button",className:"ui-btn action-disable"},"已售罄")):k.default.createElement("div",{className:"action-btn-group c-fr"},k.default.createElement(Re,{type:"button",className:"ui-btn action-disable"},"已下架"))):k.default.createElement("div",{className:"action-btn-group c-fr"},k.default.createElement("span",{className:"ui-btn  action-addtocart c-fl incomplete-addtocart"},"加入购物袋"),k.default.createElement("span",{className:"ui-btn  action-buy-now c-fl incomplete-buy-now"},"立即购买"))}}]),t}(),at=(t.createBuyAction=function(e){var t=e.Buy;return function(e){function a(){return q(this,a),z(this,(a.__proto__||(0,p.default)(a)).apply(this,arguments))}return G(a,D.PureComponent),E(a,[{key:"render",value:function(){var e=this.props,a=e.data,n=e.data.shop.attr,r=e.mix,o=e.cartNum,i=e.cartInfoStatus,l=e.mixStatus;return k.default.createElement("div",{className:"buy-action",style:(0,R.judgeIphoneX)()?{height:"85px"}:{}},k.default.createElement("div",{className:"collect serve_kf"},k.default.createElement("a",{onClick:function(e){e.preventDefault(),(0,U.miniProgramLogin)()},className:"save"},k.default.createElement("span",{className:"details_kf"},k.default.createElement("img",{src:"/src/img/icon/home-icon.png"})),k.default.createElement("span",{className:"icon-title"},"首页"))),k.default.createElement("div",{className:"collect serve_kf"},k.default.createElement(M.CustomerService,{className:"save",shopAttr:n},k.default.createElement("span",{className:"details_kf"},k.default.createElement("img",{src:"/src/img/icon/serve-phone-icon.png"})),k.default.createElement("span",{className:"icon-title"},"客服"))),k.default.createElement(We,{mix:r,data:a,mixStatus:l}),i&&k.default.createElement(Qe,{cartNum:o}),k.default.createElement(t,this.props))}}]),a}()})({Buy:tt}),nt=(t.createChooseSpec=function(e){var t=e.Buy;return function(e){function a(){return q(this,a),z(this,(a.__proto__||(0,p.default)(a)).apply(this,arguments))}return G(a,D.PureComponent),E(a,[{key:"render",value:function(){var e=this.props.promotion.info.specs,a=this.props,n=a.retState,r=a.data,o=a.promotion,i=ee(n,e);return e instanceof Array?null:k.default.createElement("div",{className:"choose-col"},k.default.createElement("div",{className:"choose-spec c-fs13"},k.default.createElement("span",{className:"c-mr15"},i.length>0?"已选择 ":"选择 "),i.length>0&&ee(n,e),k.default.createElement("i",{className:"icon icon-forward vertical-middle"},k.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"}))),"SHELVING"===r.status&&o.realStore?k.default.createElement(t,b({},this.props,{choose:!0})):null,k.default.createElement("div",{className:"gap bgf4"}))}}]),a}()})({Buy:tt}),rt=t.BarrageStripWrap=function(e){function t(){return q(this,t),z(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return G(t,w.Component),E(t,[{key:"componentWillMount",value:function(){this.props.getBarrage()}},{key:"render",value:function(){return this.props.barrage?k.default.createElement(B.BarrageStrip,{data:this.props.barrage,reset:this.props.resetBarrage}):null}}]),t}(),ot=t.BarrageStripConnnect=(0,A.connect)(B.homePageState,B.homePageDispatch)(rt),it=t.SharingMakes=function(e){function t(){var e,a,n;q(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=z(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),n.sharingMakesMoney=function(){var e=n.props,t=e.item_id,a=e.commission_min_price;(0,U.shareMiddlePage)(t,a)},z(n,a)}return G(t,w.Component),E(t,[{key:"render",value:function(){return k.default.createElement("ul",{className:"sharing-makes",onClick:this.sharingMakesMoney},k.default.createElement("li",null,"分享赚",Number(this.props.commission_income).toFixed(2),"元"),k.default.createElement("li",null),k.default.createElement("li",{className:"c-fs10"},"立即",k.default.createElement("br",null),"分享"),k.default.createElement("li",null))}}]),t}(),lt=function(e){function t(){var e,a,n;q(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=z(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(o))),n.closeModal=function(){n.props.UpdateBuyModal({buyModal:!1})},n.isNonPayment=function(){var e=n.props.promotion,t=e.activity_type,a=e.realStore;if(t){var r=n.props.promotionData[""+t],o=r.activity_sales,i=r.activity_store;if(!a)return o!==i}},z(n,a)}return G(t,w.Component),E(t,[{key:"componentWillUnmount",value:function(){window.sessionStorage.removeItem("dcpPageTitle")}},{key:"render",value:function(){var e=this.props,t=e.location,a=e.data,n=e.mix,r=e.rate,o=e.recommend,i=e.promotion,l=e.cartNum,s=e.isLogin,c=e.pending,u=e.mixStatus,d=e.rateStatus,p=e.recommendStatus,f=e.proStatus,m=e.cartInfoStatus,h=e.retState,g=e.areaData,v=e.UpdateBuyModal,y=e.InitState,_=e.OrderInitParams,E=e.UpdateCartInfo,w=e.buyModal,A=e.buyActive,N=e.promotionData,x=e.intervalT,C=a.item_id,S={itemId:C,location:t,retState:h,data:a,mix:n,promotion:i,promotionData:N,mixStatus:u,proStatus:f,buyModal:w,buyActive:A,UpdateBuyModal:v,InitState:y,UpdateCartInfo:E,OrderInitParams:_,areaData:g},M=b({},S,{isNonPayment:this.isNonPayment(),closeModal:this.closeModal}),T=window.localStorage.getItem("commissionUcenterLoginType");return k.default.createElement("div",{"data-page":"item-detail",id:"item-details",ref:"details"},k.default.createElement(ot,null),k.default.createElement(re,null),u&&f&&k.default.createElement(et,M),k.default.createElement("div",null,k.default.createElement(oe,{data:a,ref:"scrollImage"}),k.default.createElement(ie,{data:a,proStatus:f,promotion:i,intervalT:x}),f&&k.default.createElement(fe,{promotion:i,shop:a.shop,retState:h}),k.default.createElement("div",{className:"gap bgf4"}),u&&f&&k.default.createElement(nt,S),u&&k.default.createElement(Ae,{mix:n,data:a,retState:h,areaData:g,isLogin:s,pending:c}),R.hideFlag&&k.default.createElement("div",{className:"gap bgf4"})),k.default.createElement("div",{className:"screen-rate"},d&&k.default.createElement(De,{rate:r,itemId:C}),k.default.createElement("div",{className:"gap bgf4"}),p&&R.hideFlag&&k.default.createElement(Ue,{recommend:o.data}),R.hideFlag&&k.default.createElement("div",{className:"gap bgf4"}),R.hideFlag&&k.default.createElement(He,{shop:a.shop})),k.default.createElement("div",{className:"screen-detail"},k.default.createElement(ze,{data:a})),k.default.createElement(at,b({cartNum:l,cartInfoStatus:m},S)),"true"===T&&!!i.commission_income&&k.default.createElement(it,{item_id:C,commission_income:i.commission_income,commission_min_price:i.commission_min_price}))}}]),t}();t.default=lt}).call(this,a("OOjC"))},K4hi:function(e,t,a){},K5N4:function(e,t,a){e.exports={tip:"_3bPqrjukyI_xv829H4qaQx","tip-text":"_279oJHffA-_PuIu6IVJJDY",active:"xn0dA_LMXWFwfCZ4QboZf"}},KKGn:function(e,t,a){},KQgk:function(e,t,a){"use strict";(function(e){var n=d(a("Xxa5")),r=d(a("Zx67")),o=d(a("kiBT")),i=d(a("OvRC")),l=d(a("pFYg")),s=d(a("//Fk")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p,f,m=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a("U7vG"),v=S(g),y=(S(a("O27J")),a("Zfgq")),_=a("4n+p"),E=a("d2xe"),b=a("6quk"),w=a("f2Hk"),k=a("mskG"),A=a("fw66"),N=S(a("qAHI")),x=a("5qLU"),C=a("f2t5");function S(e){return e&&e.__esModule?e:{default:e}}function M(e,t,a){return t in e?(0,c.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}a("6RO1");var O={identityCardList:{url:x.WXAPI+"/user/getIdentityCardList",method:"get"},getIdentityCardInfo:{url:x.WXAPI+"/user/getIdentityCardInfo",method:"get"},certifyIdentityCard:{url:x.WXAPI+"/user/certifyIdentityCard",method:"get"},modifyIdentityCard:{url:x.WXAPI+"/user/modifyIdentityCard",method:"post"},removeIdentityCard:{url:x.WXAPI+"/user/removeIdentityCard",method:"get"},addIdentityCard:{url:x.WXAPI+"/user/addIdentityCard",method:"post"},uploadImage:{url:x.WXAPI+"/uploadImage",method:"post"}},D=void 0,L=(0,w.concatPageAndType)("orderConfirm"),j=(p=function(t){function a(e){T(this,a);var t=I(this,(a.__proto__||(0,r.default)(a)).call(this,e));f.call(t);var n=e.location.query,o=n.id,i=n.is_certify,l=n.from,s=n.status;return t.state={cardId:o,update:!1,isAdd:!0,identityData:[],idData:"",from:l,status:s},t.showMsg="",D=i,t}return P(a,g.Component),h(a,[{key:"componentWillMount",value:function(){var e=this.state.cardId;e?this.editorIddentity(e):this.getIDList()}},{key:"componentDidMount",value:function(){e(window).height()}},{key:"render",value:function(){var e=this.state,t=e.update,a=e.isAdd,n=e.identityData,r=e.idData,o=e.cardId,i=e.from,l=e.status,s=0==D||1==D;return document.title=i?"2"===i?"添加身份证信息":a&&"1"===i?"选择身份证信息":"编辑身份证信息":"身份证管理",t?v.default.createElement("div",{"data-page":"identity-manage"},v.default.createElement("section",{id:"identity-manage",ref:"identity-manage"},("2"===i?a=!1:a)?v.default.createElement("div",null,v.default.createElement(B,{identityData:n,fn:this.editorIddentity,fn1:this.getIDList,from:i,status:l}),v.default.createElement("button",{className:"add-identity",onClick:this.addIdentity},"添加身份证信息")):v.default.createElement(H,{idData:r,cardId:o,fn:this.getIDList,is_certify:0==D||1==D?D:this.state.is_certify,flag:s,changeFrom:this.changeFrom,from:i}))):v.default.createElement(E.LoadingRound,null)}}]),a}(),f=function(){var t=this;this.getIDList=function(){var a=t,n=t.props.location,r=n.pathname,o=n.search;N.default.request(m({},O.identityCardList)).then(function(t){var n=t.data;401!==n.code?(a.setState({update:!0,identityData:n.data,isAdd:!0}),e("#identity-manage").css({minHeight:e(window).height()})):y.browserHistory.replace(x.DIR+"/login?redirect_uri="+encodeURIComponent(r+o))}).catch(function(e){console.log(e),b.tip.show({msg:e.response.data.message||"服务器繁忙"})})},this.addIdentity=function(){t.state.identityData.card.count<20?t.setState({isAdd:!1,idData:""}):b.tip.show({msg:"亲~身份证不能超过20条哦"})},this.editorIddentity=function(e,a){var n=t;N.default.request(m({},O.getIdentityCardInfo,{params:{card_id:e}})).then(function(e){var t=e.data;n.setState({update:!0,idData:t.data.card,isAdd:!1,is_certify:a})}).catch(function(e){console.log(e),b.tip.show({msg:e.response.data.message||"服务器繁忙"})})},this.changeFrom=function(){t.setState({from:"1",isAdd:!0})}},p);t.default=j;var B=function(e){function t(){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return P(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.identityData,a=e.fn,n=e.fn1,r=e.from,o=e.status,i=t.card.data.map(function(e,t){return v.default.createElement("div",{key:t},v.default.createElement(F,{item:e,fn:a,fn1:n,from:r,status:o}))});return t.card.count?v.default.createElement("div",{className:"id-address"},v.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/trBgStriae.png"}),i):v.default.createElement("div",{className:"id-addressImg"},v.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/trIdAddress.png"}))}}]),t}(),R=function(e){function t(e){T(this,t);var a=I(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.deleteId=function(){a.setState({showModal:!0})},a.closeModal=function(){a.setState({showModal:!1})},a.sureCloseModal=function(){var e=a.props.item;N.default.request(m({},O.removeIdentityCard,{params:{card_id:e.card_id}})).then(function(e){e.data;a.props.fn1()}).catch(function(e){console.log(e),b.tip.show({msg:e.response.data.message||"服务器繁忙"})})},a.goCertify=function(){var e=a.props.item;N.default.request(m({},O.certifyIdentityCard,{params:{card_id:e.card_id}})).then(function(e){e.data;a.props.fn1()}).catch(function(e){console.log(e),b.tip.show({msg:e.response.data.message||"服务器繁忙"})})},a.state={showModal:!1},a.msg="",a}return P(t,g.Component),h(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.from,r=t.listSelect,o=t.status,i=t.fn,l=this.state.showModal;return v.default.createElement("div",null,n?v.default.createElement(U,{data:a,from:n,listSelect:r,status:o,goCertify:this.goCertify,fn:i}):v.default.createElement("div",{className:"wrapper",onClick:this.props.listSelect},v.default.createElement("div",{className:"c-fs14 c-c35 address-info"},v.default.createElement("span",{className:"name"},a.name),a.is_certify?v.default.createElement("span",null,v.default.createElement("img",{src:"/src/img/addressAndIdentityInfo/trcAuthenticated.png",className:"is-certify"}),v.default.createElement("span",{className:"no-certify c-c616"},"已认证")):v.default.createElement("span",null,v.default.createElement("img",{src:"/src/img/addressAndIdentityInfo/trcUnAuthenticated.png",className:"is-certify"}),v.default.createElement("span",{className:"no-certify c-c999"},"未认证")),v.default.createElement("div",{className:"c-mb15"},v.default.createElement("span",{className:"c-mr15"},"身份证号"),v.default.createElement("span",null,(0,C.handleId)(a.id_number)),v.default.createElement("div",{className:"c-fs12 c-c666 default-address c-mt5"},a.face&&a.inverse?"已上传身份证照片":"未上传身份证照片"))),v.default.createElement("div",{className:"ctrl-btn"},v.default.createElement("span",{className:"btn"},!a.is_certify&&v.default.createElement("button",{className:"c-ml10",onClick:function(t){t.stopPropagation(),e.goCertify()}},"去认证"),v.default.createElement("button",{className:"c-ml10",onClick:function(t){t.stopPropagation(),e.deleteId(a.card_id)}},"删除"),v.default.createElement("button",{className:"c-ml10",onClick:function(t){t.stopPropagation(),e.props.fn(a.card_id,a.is_certify)}},"编辑"))),v.default.createElement(A.PopupModal,{active:l,msg:"确认删除身份证？",onClose:this.closeModal,onSure:this.sureCloseModal})))}}]),t}(),U=function(e){function t(){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return P(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=(e.from,e.status),n=this;return v.default.createElement("div",{className:"one-list"},v.default.createElement("div",{className:"list-info"},v.default.createElement("div",{className:"text",onClick:this.props.listSelect},v.default.createElement("div",{className:"top"},t.name,t.is_certify?v.default.createElement("img",{src:"/src/img/addressAndIdentityInfo/is_certify.png",className:"is-certify"}):v.default.createElement("span",{className:"c-fs12 c-cc9",style:{fontWeight:"normal"}},v.default.createElement("img",{src:"/src/img/addressAndIdentityInfo/trcUnAuthenticated.png",className:"is-not-certify"}),"未认证")),v.default.createElement("div",{className:"main"},"身份证号 ",v.default.createElement("span",{className:"c-fs15 c-fb"},(0,C.handleId)(t.id_number)))),v.default.createElement("button",{className:"edit",onClick:function(){n.props.fn(t.card_id,t.is_certify)}},v.default.createElement("i",{className:"edit-icon"}," "))),v.default.createElement("div",{className:"list-status "+(t.face&&t.inverse?"success":"true"===a?"error":"warn")},v.default.createElement("i",null," "),t.face&&t.inverse?"已上传身份证照片":"true"===a?"您购买的是海淘商品，请上传身份证照片":"未上传身份证照片",!t.is_certify&&v.default.createElement("span",{className:"no-certify c-fs12 c-cdred c-fr",onClick:function(e){e.stopPropagation(),n.props.goCertify(t.card_id,n.props)}},"去认证")))}}]),t}();var F=(0,_.connect)(null,function(e,t){return{listSelect:function(){if("1"===t.from||"2"===t.from){if(!t.item.face)return void b.tip.show({msg:"您购买的是海淘商品，请上传身份证照片"});e(L("selectIdentify",{data:t.item})),setTimeout(function(){y.browserHistory.goBack()},500)}}}})(R),H=function(t){function a(t){var o=this;T(this,a);var i,l,c=I(this,(a.__proto__||(0,r.default)(a)).call(this,t));return c.handleName=function(e){c.setState({realName:e.target.value})},c.handleIdNumber=function(e){c.setState({idNumber:e.target.value})},c.handleSaveIdCard=function(){var e=c,t=e.state,a=t.realName,n=t.idNumber,r=t.isEditor,o=t.card_id,i=t.idImgFront,l=t.idImgBack,s=t._idImgFront,u=t._idImgBack,d=e.props.cardId;""!==i&&""!==l||""===i&&""===l?N.default.request(r?m({},O.modifyIdentityCard,{data:{card_id:o,name:a,idNumber:n,face:s,inverse:u}}):m({},O.addIdentityCard,{data:{card_id:"",name:a,idNumber:n,face:s,inverse:u}})).then(function(t){t.data;d?setTimeout(function(){window.history.go(-1)},1e3):setTimeout(function(){e.props.fn()},1e3),e.props.from&&e.props.changeFrom()}).catch(function(e){console.log(e),b.tip.show({msg:e.response.data.message||"服务器繁忙"})}):""!==i&&""===l?(c.setState({isSave:!1}),b.tip.show({msg:"请上传身份证照片"})):""===i&&""!==l&&(c.setState({isSave:!1}),b.tip.show({msg:"请上传身份证照片"}))},c.handleIdentityData=function(){var e=c.props.idData;""!==e.face.complete_url&&""!==e.inverse.complete_url?c.setState({imgFront:!0,imgBack:!0}):""===e.face.complete_url&&""!==e.inverse.complete_url?c.setState({imgFront:!1,imgBack:!0}):""!==e.face.complete_url&&""===e.inverse.complete_url&&c.setState({imgFront:!0,imgBack:!1}),c.setState({card_id:e.card_id,realName:e.name,idNumber:e.id_number,idImgFront:e.face.complete_url,_idImgFront:e.face.url,idImgBack:e.inverse.complete_url,_idImgBack:e.inverse.url})},c.handleFrontImg=function(e){e.stopPropagation(),c.setState({imgFront:!1,idImgFront:""})},c.handleBackImg=function(e){var t;e.stopPropagation(),c.setState((M(t={imgBack:!1},"imgBack",!1),M(t,"idImgBack",""),t))},c.upLoadImg=(i=n.default.mark(function t(a){var r,i,l,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.target.className,i=void 0,"upLoadFrontImg"===a.target.className?(i=e("#uploadFrontForm")[0].firstChild.files,c.setState({photoFSuc:!0})):(i=e("#uploadBackForm")[0].firstChild.files,c.setState({photoBSuc:!0})),/^image\/(jpg|png|jpeg|bmp)$/.test(i[0].type)||b.tip.show({msg:"亲，请上传jpg/png/jpeg/bmp格式的图片哦~"}),i.length){t.next=5;break}return t.abrupt("return");case 5:return l=Array.prototype.slice.call(i)[0],t.next=8,(0,k.compress)(l);case 8:s=t.sent,c.upLoadAjax(s,r);case 10:case"end":return t.stop()}},t,o)}),l=function(){var e=i.apply(this,arguments);return new s.default(function(t,a){return function n(r,o){try{var i=e[r](o),l=i.value}catch(e){return void a(e)}if(!i.done)return s.default.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});t(l)}("next")})},function(e){return l.apply(this,arguments)}),c.upLoadAjax=function(e,t){var a=c;N.default.request(m({},O.uploadImage,{data:{img:e,private:!0}})).then(function(e){var n=e.data;"upLoadFrontImg"===t?a.setState({idImgFront:n.data.file.complete_url,_idImgFront:n.data.file.url,imgFront:!0,photoFSuc:!1}):a.setState({idImgBack:n.data.file.complete_url,_idImgBack:n.data.file.url,imgBack:!0,photoBSuc:!1})}).catch(function(e){a.setState({photoFSuc:!1}),console.log(e),b.tip.show({msg:e.response.data.message||"服务器繁忙"})})},c.state={realName:"",idNumber:"",idImgFront:"",idImgBack:"",card_id:"",photoFSuc:!1,photoBSuc:!1,isEditor:!1,imgFront:!1,imgBack:!1,isSave:!1,upload:!0},c.showMsg="",c}return P(a,g.Component),h(a,[{key:"componentDidMount",value:function(){this.props.idData&&(this.handleIdentityData(),this.setState({isEditor:!0}))}},{key:"render",value:function(){var e=this.state,t=e.idImgFront,a=e.idImgBack,n=e.isEditor,r=e.imgFront,o=e.imgBack,i=e.realName,l=e.idNumber,s=e.photoFSuc,c=e.photoBSuc,u=l.substr(0,4)+"**********"+l.substring(l.length-4);return v.default.createElement("div",null,v.default.createElement("div",{className:"identity-manageEditor"},v.default.createElement("p",{className:"id-msg"},"身份证信息(必填)"),this.props.flag?Number(this.props.is_certify)?v.default.createElement("div",{className:"identityMsg c-c999"},v.default.createElement("p",null,i),v.default.createElement("p",null,u)):v.default.createElement("div",null,v.default.createElement("input",{type:"text",placeholder:"请填写真实姓名",maxLength:"12",className:"name realName",onChange:this.handleName,value:i}),v.default.createElement("input",{type:"text",placeholder:"请填写您的身份证号（将加密处理）",maxLength:"18",className:"id realId",onChange:this.handleIdNumber,value:l})):n&&this.props.is_certify?v.default.createElement("div",{className:"identityMsg c-c999"},v.default.createElement("p",null,i),v.default.createElement("p",null,u)):v.default.createElement("div",null,v.default.createElement("input",{type:"text",placeholder:"请填写真实姓名",maxLength:"12",className:"name realName",onChange:this.handleName,value:i}),v.default.createElement("input",{type:"text",placeholder:"请填写您的身份证号（将加密处理）",maxLength:"18",className:"id realId",onChange:this.handleIdNumber,value:l})),v.default.createElement("p",{className:"id-msg"},v.default.createElement("span",null,"身份证照片（选填）"),v.default.createElement("a",{href:"/goodsReceiveInfo/identityExample",className:"c-fr"},v.default.createElement("img",{src:"/src/img/icon/point-notice-icon.png",className:"point-notice"}),"照片示例")),v.default.createElement("div",{className:"id-img"},v.default.createElement("p",{className:"tips"},"温馨提示：请上传原始比例的身份证正反面，请勿随意涂改，保证身份 信息清晰显示，否则影响审核通过。"),v.default.createElement("div",{className:"id"},v.default.createElement("div",{className:"id-box id-front"},v.default.createElement("form",{id:"uploadFrontForm"},v.default.createElement("input",{type:"file",name:"file",accept:"image/*",onChange:this.upLoadImg,className:"upLoadFrontImg"})),v.default.createElement("i",{className:"i1",style:{display:r?"none":"block"}}," "),v.default.createElement("i",{className:"i2",style:{display:r?"none":"block"}}," "),v.default.createElement("span",{className:"upload-span",style:{display:r?"none":"block"}},"上传照片"),s?v.default.createElement("span",{className:"i0"}," 图片上传中 "):"",r?v.default.createElement("div",{style:{height:"81px"}},v.default.createElement("img",{className:"idImg",src:t}),v.default.createElement("img",{className:"idImg-delete",src:"../src/img/addressAndIdentityInfo/trDelete.png",onClick:this.handleFrontImg})):""),v.default.createElement("div",{className:"id-box id-back"},v.default.createElement("form",{id:"uploadBackForm"},v.default.createElement("input",{type:"file",name:"file",accept:"image/*",onChange:this.upLoadImg,className:"upLoadBackImg"})),v.default.createElement("i",{className:"i1",style:{display:o?"none":"block"}}," "),v.default.createElement("i",{className:"i2",style:{display:o?"none":"block"}}," "),v.default.createElement("span",{className:"upload-span",style:{display:r?"none":"block"}},"上传照片"),c?v.default.createElement("span",{className:"i0"}," 图片上传中 "):"",o?v.default.createElement("div",{style:{height:"81px"}},v.default.createElement("img",{className:"idImg",src:a}),v.default.createElement("img",{className:"idImg-delete",src:"../src/img/addressAndIdentityInfo/trDelete.png",onClick:this.handleBackImg})):"")),v.default.createElement("ul",{className:"sample-img"},v.default.createElement("li",{className:"sample-left"},v.default.createElement("div",{className:"text"},"示例"),v.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/IDCard1.png"})),v.default.createElement("li",{className:"sample-right"},v.default.createElement("div",{className:"text"},"示例"),v.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/IDCard2.png"})))),v.default.createElement(q,null),v.default.createElement("button",{className:"identity-save",onClick:this.handleSaveIdCard},"保存")))}}]),a}(),q=function(e){function t(){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return P(t,g.Component),h(t,[{key:"render",value:function(){return v.default.createElement("div",{className:"id-tips"},v.default.createElement("p",{className:"title"},"为什么要上传身份证信息？"),v.default.createElement("div",{className:"c-fs10 c-c80"},v.default.createElement("p",null,"根据海关规定，购买跨境商品需进行实名认证，用于个人物品入境申报。请填写您真实的身份证相关信息，以确保您购买的商品顺利通过海关检查。"),v.default.createElement("p",null,"泰然城承诺您的身份信息只用于办理跨境商品清关手续，不作他途使用，其他任何人均无法查看。")))}}]),t}()}).call(this,a("OOjC"))},L0jN:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItemVtr=t.default=void 0;var c,u,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=E(p),m=E(a("211U")),h=E(a("1ThR")),g=a("wj5X"),v=a("Zfgq"),y=a("f2t5"),_=a("5qLU");function E(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var A=(0,m.default)(h.default,{allowMultiple:!0})(c=function(e){function t(e){b(this,t);var a=w(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.updateData=function(){a.state.load||(a.setState({load:!0}),a.props.updateData(function(){a.refs.swipeBox.scrollLeft=0,a.setState({load:!1})}))},a.state={load:!1},a}return k(t,g.PureComponent),d(t,[{key:"render",value:function(){var e=this.props.data;return f.default.createElement("div",{styleName:"itemSwipe"},f.default.createElement("div",{styleName:"header"},f.default.createElement("div",{styleName:"hText"},"大家都在买"),f.default.createElement("div",{styleName:"hCtrl",onClick:this.updateData},"换一批 ",f.default.createElement("i",{styleName:"redCycle "+(this.state.load?"cycleActive":"")}," "))),f.default.createElement("div",{styleName:"swipeWrapper"},f.default.createElement("div",{styleName:"swipeBox",ref:"swipeBox"},f.default.createElement("div",{styleName:"swipeContent",style:{width:134*e.length+6+"px"}},e.map(function(e,t){return f.default.createElement(N,{data:e,key:t})})))))}}]),t}())||c;t.default=A;var N=t.ItemVtr=(0,m.default)(h.default)(u=function(e){function t(){return b(this,t),w(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return k(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data,t=e.promotion_info,n=0;return n=t&&t.promotion_price?t.promotion_price:e.sell_price,f.default.createElement(v.Link,{styleName:"item",to:_.DIR+"/item?item_id="+e.item_id},f.default.createElement("img",{src:e.primary_image?(0,y.addImageSuffix)(e.primary_image,"_t"):a("VM8K")}),f.default.createElement("div",{styleName:"title"},e.title),f.default.createElement("div",{styleName:"price"},f.default.createElement("span",null,"¥",+n),e.free_shipping?f.default.createElement("span",{styleName:"label"},"包邮"):"",e.free_tax?f.default.createElement("span",{styleName:"label"},"包税"):""))}}]),t}())||u},LMxk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(2),a.e(1),a.e(4),a.e(24)]).then(function(e){t(null,a("WR2m").default)}.bind(null,a)).catch(a.oe)}},LQPD:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG"));function s(e){return e&&e.__esModule?e:{default:e}}var c={load:!0,listState:!1,banner:{},list:{},entrance:{},page:{},oneList:{},item_list:{},barrage:"",billboard:"",disTop:0,activeIndex:0,isSending:!1,showNext:!0,flag:!1,allSellOut:!1,partSellOut:!1,itemStatus:!1};t.default=(0,l.default)("homeIndex",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"resetListData":return i({},e,{listState:!1});case"initData":return function(e,t){var a=t.allSellOut,n=t.partSellOut;return e.list.list.length||e.banner.list.length||(a=!0),!e.list.list.length&&e.banner.list.length&&(n=!0),i({},t,{banner:e.banner,list:e.list,entrance:e.entrance,billboard:e.notice,allSellOut:a,partSellOut:n,load:!1})}(t.result,e);case"oneListSuccess":return function(e,t){return 0!==e.code?i({},t):i({},t,{oneList:e.data.data.list,page:e.data.data.page,listState:!0,showNext:!0,flag:!0})}(t.result,e);case"addMoreItem":return function(e,t){if(0!==e.code)return i({},t);var a=t.oneList;return a=i({},a,{item_list:a.item_list.concat(e.data.data.list.item_list)}),i({},t,{oneList:a,page:e.data.data.page,isSending:!1,load:!1})}(t.result,e);case"barrageSuccess":var a=e.barrage;return a=0===t.result.code?t.result.data:"",i({},e,{barrage:a});case"resetBarrage":return i({},e,{barrage:""});case"saveTop":return i({},e,{disTop:t.value,activeIndex:t.index,flag:!0});case"isSendingState":return i({},e,{isSending:t.isSending});case"handleState":return i({},e,{showNext:t.showNext});case"handleFlagState":return i({},e,{flag:t.flag});case"saveActiveIndex":return i({},e,{activeIndex:t.activeIndex});default:return e}},c)},Lpgz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(6),a.e(10)]).then(function(e){window.secCaptcha=a("4I33"),t(null,a("Vifw").default)}.bind(null,a)).catch(a.oe)}},MCAq:function(e,t,a){e.exports={emptyPage:"ShTAINKIAeLWjJkrkUfuj",redBtn:"_3TLXMYlLux7Fxq8PNF72Rs"}},MX37:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,d=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=(u=f)&&u.__esModule?u:{default:u},h=a("4n+p"),g=a("f2Hk"),v=a("d2xe"),y=a("5qLU");function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}var E=(0,g.concatPageAndType)("logicompany"),b=(0,g.actionAxios)("logicompany"),w={init:{url:y.WXAPI+"/user/sold/logistics",method:"get"}},k=function(t){function a(){var t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=_(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.getCompany=function(e){(0,o.props.dispatch)(E("changeCompany",{name:e.name,code:e.code,id:e.id})),history.go(-1)},o.getHtml=function(){var e=o.props.data,t=[];for(var a in e)t.push(m.default.createElement("div",{id:a,key:a},m.default.createElement("h1",null,a),e[a].map(function(e){return m.default.createElement("div",{className:"one-company",onClick:function(){o.getCompany(e)},key:e.id+e.code},e.name)})));return t},o.anchorJump=function(t){var a=e(t).text();e(t).href="#"+a;var n=location,r=n.pathname+n.search;window.location.replace(r+"#"+a)},o.move=function(){event.preventDefault(),anchorJump(document.elementFromPoint(event.changedTouches[0].clientX,event.changedTouches[0].clientY))},o.touchEnd=function(){var t=1;setInterval(function(){(t-=.1)>0?e(".letter").css({opacity:t}):clearInterval()},50)},o.getsubLitter=function(){var e=o.props.data,t=[];for(var a in e)t.push(m.default.createElement("a",{key:a,onTouchStart:function(e){o.anchorJump(e.target)}},a));return t},_(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,f.Component),p(a,[{key:"componentWillMount",value:function(){this.props.getData()}},{key:"render",value:function(){var e=this,t=this.props.load;return m.default.createElement("div",null,t?m.default.createElement(v.LoadingRound,null):m.default.createElement("div",{"data-page":"after-sale-company"},this.getHtml(),m.default.createElement("div",{className:"slidePage flex-def flex-zTopBottom flex-zCenter flex-cEnd",onTouchEnd:function(){e.touchEnd()},onTouchMove:function(){e.move()}},m.default.createElement("div",{className:"wrap"},this.getsubLitter()))))}}]),a}();t.default=(0,h.connect)(function(e,t){return d({},e.logicompany)},function(e,t){return{dispatch:e,getData:function(){e(b("getData",d({},w.init,{params:{}})))}}},function(e,t,a){return t.dispatch,d({},e,t,a)})(k)}).call(this,a("OOjC"))},Mqso:function(e,t,a){e.exports={errorPage:"_2qbWStOL_9Yf_eJ_mumZ3i",content:"_1GFUz76bcmf3T5jbol6psJ",reloadBtn:"_2AeheodICaEaC1mmM1GRFb"}},NLgc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(14)]).then(function(e){a("aR0x"),t(null,a("Oeqx").default)}.bind(null,a)).catch(a.oe)}},NUeF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderClosereason=t.popupData=t.dispatchDelivery=t.payType=t.confimStatus=t.ordersubStatusAndIconMap=t.ordersubStatusMap=t.ordermainStatusAndIconMap=t.ordermainStatusMap=t.asStatus=t.asReminder=t.asProcess=t.groupStatus=t.afterstatusDeal=t.orderType=t.reasonList=t.asTypes=t.cancelOrderMap=t.groupStatusAndIcon=void 0,t.storeIcon=function(e){switch(e){case"icon_biz":return o.default.createElement("img",{src:a("n2/B"),style:{verticalAlign:"-4px",marginRight:"10px"},width:"15",height:"17"});case"icon_self":return o.default.createElement("img",{src:a("thos"),style:{verticalAlign:"-4px",marginRight:"10px"},width:"20",height:"20"});case"icon_good":return o.default.createElement("img",{src:a("f6Rb"),style:{verticalAlign:"-4px",marginRight:"10px"},width:"17",height:"17"});default:return o.default.createElement("img",{src:a("QS0o"),style:{verticalAlign:"-3px",marginRight:"10px"},width:"16",height:"15"})}};var n,r=a("U7vG"),o=(n=r)&&n.__esModule?n:{default:n};t.groupStatusAndIcon={IN_PROCESS:{status:"拼团中",icon:"/src/img/icon/trcOngoing.png"},SUCCESS:{status:"拼团成功",icon:"/src/img/icon/trcSuccess.png"},FAILED:{status:"拼团失败",icon:"/src/img/icon/trcFailure.png"}},t.cancelOrderMap={SUCCESS:"取消成功",NO_APPLY_CANCEL:""},t.asTypes={10:"仅退款",20:"退货退款",EXCHANGING_GOODS:"申请换货"},t.reasonList=[{name:"0",text:"不想买了"},{name:"1",text:"信息填写错误，重新下单"},{name:"2",text:"付款遇到问题"},{name:"3",text:"其他原因"}],t.orderType=["普通订单","零元购","分期购","拼团"],t.afterstatusDeal={10:"售后中",20:"售后完成",30:"售后完成",40:"售后中",50:"售后中",60:"售后关闭",70:"售后关闭",80:"售后关闭",null:"暂无售后"},t.groupStatus={0:"拼团失败",1:"拼团中",2:"拼团成功"},t.asProcess={10:"待审核",20:"售后完成",30:"售后完成",40:"等待商品寄回",50:"等待商家收货",60:"审核未通过",70:"售后关闭",80:"售后关闭"},t.asReminder={10:"您已成功发起售后申请，请耐心等待商家处理",20:"商家已操作退款给您，请注意查收",30:"商家已操作退款给您，请注意查收",40:"商家已通过您的售后申请，请退货并填写物流信息",50:"商家收到退货并验证无误，将操作退款给您",60:"商家未通过您的售后申请，您可以修改申请后再次发起",70:"您已撤销本次售后申请，最多可以在售后保障期内发起3次申请",80:"您因超时未填写物流单号，本次售后申请被撤销，最多可以在售后保障期内发起3次申请"},t.asStatus=["待处理","处理中","已处理","已驳回"],t.ordermainStatusMap={10:"等待付款"},t.ordermainStatusAndIconMap={10:{status:"等待付款",icon:"/src/img/icon/trcUnpaid2.png"},20:{status:"已付款",icon:"/src/img/icon/trcSend2.png"},30:{status:"交易关闭",icon:"/src/img/icon/trcCancel2.png"}},t.ordersubStatusMap={10:"等待付款",20:"已付款",25:"待发货",30:"交易关闭",31:"交易关闭",40:"已发货",50:"交易完成",60:"交易完成"},t.ordersubStatusAndIconMap={10:{status:"等待付款",icon:"/src/img/icon/trcUnpaid2.png"},20:{status:"已付款",icon:"/src/img/icon/trcSend2.png"},25:{status:"待发货",icon:"/src/img/icon/trcSend2.png"},30:{status:"交易关闭",icon:"/src/img/icon/trcCancel2.png"},31:{status:"交易关闭",icon:"/src/img/icon/trcCancel2.png"},40:{status:"已发货",icon:"/src/img/icon/trcWait2.png"},50:{status:"交易完成",icon:"/src/img/icon/trcEvaluation2.png"},60:{status:"交易完成",icon:"/src/img/icon/trcComplete2.png"}},t.confimStatus={10:"待发货",20:"部分发货",30:"已发货"},t.payType={10:"线上支付",20:"线下支付",30:"理财支付"},t.dispatchDelivery={10:"快递",20:"自提"};t.popupData={type:{title:"售后类型",list:[{method:"退货退款",content:"已收到货，需要退还已收到的货物",select:"restore"},{method:"仅退款",content:"无需退货",select:"refund"}],onlylist:[{method:"仅退款",content:"无需退货",select:"refund"}]},reason:{title:"退货原因",list:{restore:[{content:"商品与描述不符",select:1},{content:"商品错发漏发",select:2},{content:"收到商品破损",select:3},{content:"商品质量问题",select:4},{content:"个人原因退货",select:5},{content:"其他",select:6}],refund:[{content:"商品与描述不符",select:1},{content:"商品错发漏发",select:2},{content:"收到商品破损",select:3},{content:"商品质量问题",select:4},{content:"个人原因退货",select:5},{content:"未收到货",select:6},{content:"商品问题已拒签",select:7},{content:"退运费",select:8},{content:"其他",select:9}]}}},t.orderClosereason={10:"用户关闭",20:"平台取消订单",30:"等待付款的订单过付款时间，系统关单",40:"未在指定时间内拼团成功",50:"商品已完成售后"}},"Ns+p":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=u(a("GHKy")),s=u(a("BYKG")),c=a("qeJi");function u(e){return e&&e.__esModule?e:{default:e}}var d=[{iconUrl:"/src/img/userCenter/people-grey-icon.png",text:"我的拼团",url:"/groupList/0",type:"link",active:!1,point:!0,num:0,needLogin:!0},{iconUrl:"/src/img/userCenter/collect-love-icon.png",text:"我的收藏",url:"/myCollection",type:"link",active:!1,point:!1,num:0,needLogin:!0},{iconUrl:"/src/img/userCenter/money-coupon-icon.png",text:"优惠券",url:"/couponList",num:"0张",type:"link",active:!1,point:!0,needLogin:!0},{iconUrl:"/src/img/userCenter/red-packet-icon.png",text:"红包",url:"/redList",num:"0个",type:"link",active:!1,point:!0,needLogin:!0},{iconUrl:"/src/img/userCenter/package-money-icon.png",text:"e卡管理",url:a("5qLU").PAYURL+"/fund_h5/#/ecard/index",num:"0元",type:"a",active:!1,point:!1,needLogin:!0}],p=(c.browser.versions.ios,{statusData:[{iconClass:"status-wait-pay-icon",text:"待付款",numberType:"wait_pay",url:"/tradeList/1",num:0},{iconClass:"status-wait-send-icon",text:"待发货",numberType:"wait_send",url:"/tradeList/2",num:0},{iconClass:"status-wait-receive-icon",text:"待收货",numberType:"wait_confirm",url:"/tradeList/3",num:0},{iconClass:"status-wait-evaluate-icon",numberType:"wait_rate",text:"待评价",url:"/tradeList/4",num:0},{iconClass:"after-sale-icon",text:"退款/售后",url:"/afterSale/list"}],stripData1:d,stripData2:[{mark:"customerService",iconUrl:"/src/img/userCenter/contact-service-grey.png",text:"联系客服",url:"/customerService",type:"link",needLogin:!1}],userInfo:""});t.default=(0,l.default)("userCenter",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case"resetState":return p;case"userInfoSuccess":return i({},e,{userInfo:t.result.body});case"pageDataSuccess":return function(e,t){if(0!==t.code)return e;var a=t.data,n=a.avail_coupon_count,r=a.collection_count,o=a.group_success_count,i=a.red_packet_count,l=s.default.fromJS(e);return l=l.setIn(["stripData1","0","num"],o),l=(l=o?(l=l.setIn(["stripData1","0","active"],!0)).setIn(["stripData1","0","url"],"/groupList/0"):(l=l.setIn(["stripData1","0","active"],!1)).setIn(["stripData1","0","url"],"/groupList/0")).setIn(["stripData1","1","num"],r),l=(l=r?l.setIn(["stripData1","1","active"],!0):l.setIn(["stripData1","1","active"],!1)).setIn(["stripData1","2","num"],n+"张"),l=(l=n?l.setIn(["stripData1","2","active"],!0):l.setIn(["stripData1","2","active"],!1)).setIn(["stripData1","3","num"],i+"个"),(l=i?l.setIn(["stripData1","3","active"],!0):l.setIn(["stripData1","3","active"],!1)).toJS()}(e,t.result);case"eCardSuccess":return function(e,t){var a=s.default.fromJS(e);return(a=t.totalUsableAmount?(a=a.setIn(["stripData1","4","num"],t.totalUsableAmount+"元")).setIn(["stripData1","4","active"],!0):(a=a.setIn(["stripData1","4","num"],t.totalUsableAmount+"元")).setIn(["stripData1","4","active"],!1)).toJS()}(e,t.result);case"orderNumSuccess":return function(e,t){if(0!==t.code)return e;var a=["wait_pay","wait_send","wait_confirm","wait_rate"],n=e.statusData.map(function(e,n){return e.num=t.data[a[n]],e});return i({},e,{statusData:n})}(e,t.result);default:return e}},p)},OANb:function(e,t){e.exports="data:image/png;base64,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"},OBU1:function(e,t,a){"use strict";var n=o(a("mvHQ")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=c(a("BYKG"));function c(e){return e&&e.__esModule?e:{default:e}}var u={load:!0,data:"",error:!1,netError:!1,cartTotal:{num:0,strip:0,price:0,tax:0,commonNum:0,commonPrice:0},curTime:new Date,recommendList:[],coupon:{list:[],shopName:"",show:!1},saleAttr:{data:"",show:!1,img:"",select:"",sku_id:""},editNum:0,dividePrompt:!1};function d(e,t,a,r){var o=s.default.fromJS(e),i=JSON.parse((0,n.default)(e)).data;if(o=o.set("load",!1),!t.status&&!a)return o.toJS();var l,c,u,d,p,m,h,g=t.data;return i&&(l=i,c=g,u=JSON.parse((0,n.default)(l)),d=JSON.parse((0,n.default)(c)),p={},m=u.shop_cart,h=d.shop_cart,m.map(function(e){var t=e.promotion_list,a=e.shop_info.shop_id;p[a]={},t.map(function(e){e.cart_list.map(function(e){var t=e.group_promotion_id,n=e.check,r=e.cart_id;n&&(p[a][t]?p[a][t].push(r):(p[a][t]=[],p[a][t].push(r)))})})}),h.map(function(e){var t=e.promotion_list,a=e.shop_info.shop_id;t.map(function(e){e.cart_list.map(function(e){var t=e.group_promotion_id,n=e.cart_id;p[a]&&p[a][t]&&p[a][t].indexOf(n)>-1&&(e.check=!0)})})}),g=d),(o=(o=(o=o.set("data",function(e){var t=!0;return e.shop_cart.length>0&&e.shop_cart.map(function(e){var a=e.promotion_list,n=e.shop_info,r=!0;a.map(function(e){e.cart_list.map(function(e){void 0===e.check&&(e.check=!1),e.check||(r=!1)})}),void 0===n.check&&(n.storeCheck=r),r||(t=!1)}),e.cartCheck=t,e}(g))).set("curTime",g.current_time)).set("cartTotal",f(g.shop_cart,r))).toJS()}var p=function(e,t){return function(a,n){var r=parseFloat(a[e]),o=parseFloat(n[e]);return r<o?t?-1:1:r>o?t?1:-1:0}};function f(e,t){var a={commonNum:0,commonPrice:0,num:0,strip:0,disPrice:0,price:0,tax:0,discount:0};if(!e||!e.length)return a;var r=0,o=0,i=0;return e.forEach(function(e){var a=e.promotion_list;e.shop_info;a.map(function(e){var a=e.cart_list,l=JSON.parse((0,n.default)(a)),s=0,c=0;switch(l.map(function(e){var t=e.promotion_single,a=e.quantity,n=e.sell_price,r=e.check,o=e.biz_rules,l=!!(t&&["FlashSale","DirectReduction","SecKill"].indexOf(t.type)>-1);a=parseFloat(a);var u=!1;e.promotion_single&&"SecKill"===e.promotion_single.type&&(u=!0);var d,f="";if(o&&o.length>0){o.sort(p("threshold",!0));var m=+n;t&&t.price&&t.price>0&&("SecKill"===t.type?new Date(t.start_time).getTime()<=(new Date).getTime()<new Date(t.end_time).getTime()&&(m=+t.price):m=+t.price),f=!l&&o&&o.length>0?(d=m,o.some(function(e){return parseFloat(e.threshold)>parseFloat(a)||(d=+e.sell_price,!1)}),d):""}r&&!u&&(i+=a,c+=a,t&&t.price&&t.price>0?s+=a*parseFloat(t.price):s+=f?parseFloat(f)*parseFloat(a):parseFloat(n)*parseFloat(a))}),e.type){case"FullMinus":var u=e.rules.FullMinus,d=0;if(u.sort(p("limit_money",!0)),0==e.rules.has_high_limit){var f=Math.floor(s/u[u.length-1].limit_money);f>0?d=f*u[u.length-1].deduct_money:u.some(function(e){var t=e.limit_money,a=e.deduct_money;return s<parseFloat(t)||(d=+a,!1)})}else u.some(function(e){var t=e.limit_money,a=e.deduct_money;return s<parseFloat(t)||(d=+a,!1)});r+=s,o+=d;break;case"FullDiscount":var m=1,h=0;e.rules.FullDiscount.map(function(e){m<=parseFloat(e.full)&&(m=parseFloat(e.full)),c>=parseFloat(e.full)&&m<=parseFloat(e.full)&&(m=parseFloat(e.full),h=parseFloat(e.percent))}),r+=s,o+=h?s*(1-h/100):0;break;case"OptionBuy":var g=e.rules.OptionBuy,v=0,y=0;if(s>=parseFloat(g.amount)){var _=JSON.parse((0,n.default)(l));_.sort(p("sell_price",!1));for(var E=function(e){var t=_[e],a=t.promotion_single,n=t.sell_price,r=t.quantity,o=t.check,i=t.biz_rules;r=parseFloat(r);var l=!1;t.promotion_single&&"SecKill"===t.promotion_single.type&&(l=!0);var s,c=+n;if(a&&a.price&&a.price>0&&("SecKill"===a.type?new Date(a.start_time).getTime()<=(new Date).getTime()<new Date(a.end_time).getTime()&&(c=+a.price):c=+a.price),s=!!!(a&&["FlashSale","DirectReduction","SecKill"].indexOf(a.type)>-1)&&i&&i.length>0?function(){i.sort(p("threshold",!0));var e=c;return i.some(function(t){return parseFloat(t.threshold)>parseFloat(r)||(e=+t.sell_price,!1)}),e}():"",o&&!l){if(!(v<parseFloat(g.quantity)))return"break";for(var u=0;u<r&&v<parseFloat(g.quantity);u++)v++,a&&a.price&&a.price>0?y+=parseFloat(a.price):y+=s?parseFloat(s):parseFloat(n)}},b=0;b<_.length;b++){if("break"===E(b))break}}r+=s,s>=parseFloat(g.amount)&&v>=parseFloat(g.quantity)?o+=y-parseFloat(g.amount):o+=0;break;case"ExchangeBuy":var w=parseFloat(e.rules.ExchangeBuy.exchange_full),k=e.group_promotion_id,A=0;s>=w&&t&&t.data&&t.data[k]&&t.data[k].map(function(e){e.check&&(A+=parseFloat(e.price))}),r+=s,r+=A;break;default:r+=s}})}),a={num:i,strip:0,disPrice:r-parseFloat(o),price:r,tax:0,discount:parseFloat(o),perPrice:o,commonNum:i,commonPrice:r}}function m(e){var t=s.default.fromJS(e),a=t.get("data").toJS();return a.cartCheck=!0,a.shop_cart.map(function(e,t){e.promotion_list;e.shop_info.storeCheck||(a.cartCheck=!1)}),(t=t.set("data",a)).toJS()}t.default=(0,l.default)("shopCart",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"resetState":return u;case"initialData":return d(e,t.result,t.update,t.exchangeItem);case"initialError":return i({},e,{load:!1,error:!0});case"netError":return i({},e,{load:!1,netError:!0});case"initRecommend":return i({},e,{recommendList:t.data});case"computeEdit":return i({},e,{editNum:t.status?e.editNum+1:e.editNum-1});case"updateCartCheck":return function(e,t,a){var n=s.default.fromJS(e);return t.cartCheck=!t.cartCheck,t.shop_cart.map(function(e){var a=e.promotion_list,n=e.shop_info;t.cartCheck?n.storeCheck=!0:n.storeCheck=!1,a.map(function(e){e.cart_list.map(function(e){t.cartCheck?e.check=!0:e.check=!1})})}),(n=(n=n.set("data",t)).set("cartTotal",f(t.shop_cart,a))).toJS()}(e,t.data,t.exchangeItem);case"updateShopCheck":return function(e,t,a){var n=s.default.fromJS(e),r=n.get("data").toJS(),o=r.shop_cart;return o.map(function(e,a){var n=e.promotion_list,o=e.shop_info;o.shop_id==t&&(o.storeCheck=!o.storeCheck,n.map(function(e){e.cart_list.map(function(e){o.storeCheck?e.check=!0:(e.check=!1,r.cartCheck=!1)})}))}),m((n=(n=n.set("data",r)).set("cartTotal",f(o,a))).toJS())}(e,t.id,t.exchangeItem);case"updateSingleCheck":return function(e,t,a){var n=s.default.fromJS(e),r=n.get("data").toJS(),o=r.shop_cart;return o.map(function(e,a){var n=e.promotion_list,r=e.shop_info;r.storeCheck=!0,n.map(function(e){e.cart_list.map(function(e){var a=e.promotion_single,n=!1;e.cart_id==t&&(e.check=!e.check),a&&"SecKill"===a.type&&(n=!0),e.check||n||(r.storeCheck=!1)})})}),m((n=(n=n.set("data",r)).set("cartTotal",f(o,a))).toJS())}(e,t.id,t.exchangeItem);case"handleItemNum":return function(e,t,a,n){var r=s.default.fromJS(e),o=r.get("data").toJS(),i=o.shop_cart;return i.map(function(e,n){var r=e.promotion_list;e.shop_info,r.map(function(e){e.cart_list.map(function(e){e.cart_id==t&&(e.quantity=a)})})}),m((r=(r=r.set("data",o)).set("cartTotal",f(i,n))).toJS())}(e,t.id,t.num,t.exchangeItem);case"handleDelete":return function(e,t,a){var n=s.default.fromJS(e),r=n.get("data").toJS(),o=r.shop_cart,i=null;return o.map(function(e,a){var n=e.promotion_list;e.shop_info,n.map(function(e){var a=e.cart_list,n=e.promotion_level_group_id;a.map(function(e,r){e.cart_id==t&&(a.splice(r,1),i=n)})})}),i&&a&&a[i]&&delete a[i],m((n=(n=n.set("data",r)).set("cartTotal",f(o,a))).toJS())}(e,t.id,t.exchangeItem);case"ctrlCoupon":return i({},e,{coupon:{list:t.data,shopName:t.shopName,show:t.show}});case"ctrlSaleAttr":return i({},e,{saleAttr:{data:t.data,show:t.show,img:t.img,select:t.select?t.select:"",sku_id:t.sku_id,cart_id:t.cart_id}});case"saleAttrSelect":var a=e.saleAttr.select;return a[t.spec_id]=t.spec_value_id,i({},e,{saleAttr:{data:e.saleAttr.data,show:e.saleAttr.show,img:e.saleAttr.img,select:a,sku_id:e.saleAttr.sku_id,cart_id:e.saleAttr.cart_id}});case"dividePrompt":return i({},e,{dividePrompt:t.status});default:return e}},u)},OghL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){a.e(12).then(function(e){a("CT9y"),t(null,a("1usX").default)}.bind(null,a)).catch(a.oe)}},Ovyh:function(e,t,a){"use strict";var n=o(a("fZjL")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=c(a("BYKG"));function c(e){return e&&e.__esModule?e:{default:e}}var u={load:!0,listLoad:!0,firstTime:!0,form:"",keyWord:"",brands:"",category:"",property:"",dataList:"",initSearch:"",isPrev:!1,preProperty:[],searchType:"",prevSearchData:{},couponId:"",shop:"",searchData:{search_keywords:"",category:[],brand:[],orderBy:{type:"shelves_time",direct:"asc"},priceRange:{min:"",max:""},properties:{},promotion:"",self:"",pages:1},totalPage:1,listType:"brand",dropType:"",dropProperty:!1,disTop:0,prompt:{show:!1,msg:""}};t.default=(0,l.default)("searchResult",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"resetState":return i({},u,{keyWord:t.keyWord,searchType:t.searchType});case"resetSearchData":return i({},e,{searchData:t.data});case"saveTop":return i({},e,{disTop:t.value});case"isLoad":return i({},e,{load:!1,listLoad:!1});case"setFrom":return i({},e,{from:t.from});case"initSearch":return i({},e,{initSearch:t.searchData});case"sortOrder":return function(e,t,a){var n=s.default.fromJS(e);return(n=n.setIn(["searchData","orderBy"],{type:t,direct:a})).toJS()}(e,t.navType,t.direct);case"itemType":return function(e,t){var a=s.default.fromJS(e);return(a=a.setIn(["searchData",t],e.searchData[t]?"":1)).toJS()}(e,t.itemType);case"dropType":return i({},e,{dropType:t.dropType&&(t.dropType===e.dropType?"":t.dropType)});case"listType":return i({},e,{listType:t.listType});case"filterSelect":return function(e,t,a){var n=s.default.fromJS(e);return(n=n.setIn(["searchData",a],t)).toJS()}(e,t.data,t.filterType);case"filterSelectReset":return function(e,t){var a=s.default.fromJS(e);return(a=a.setIn(["searchData",t],[])).toJS()}(e,t.filterType);case"filterProperty":return function(e,t,a){var n=(e=s.default.fromJS(e).toJS()).searchData.properties[t],r=n.indexOf(a.property_value_id);return r>-1?n.splice(r,1):n.push(a.property_value_id),e.searchData.properties[t]=n,e}(e,t.id,t.data);case"allSelectReset":return function(e){return(e=s.default.fromJS(e).toJS()).searchData.brand=[],e.searchData.category=[],e.searchData.priceRange={min:"",max:""},(0,n.default)(e.searchData.properties).forEach(function(t){e.searchData.properties[t]=[]}),e}(e);case"minPrice":return function(e,t){var a=e.searchData.priceRange.min,n=s.default.fromJS(e);return""!==t&&(t=/^[0-9]+$/.test(t)?+t:a,n=n.setIn(["searchData","priceRange","id"],"")),(n=n.setIn(["searchData","priceRange","min"],t)).toJS()}(e,t.value);case"maxPrice":return function(e,t){var a=e.searchData.priceRange.max,n=s.default.fromJS(e);return""!==t&&(t=/^[0-9]+$/.test(t)?+t:a,n=n.setIn(["searchData","priceRange","id"],"")),(n=n.setIn(["searchData","priceRange","max"],t)).toJS()}(e,t.value);case"resetSearchList":return function(e){return(e=s.default.fromJS(e).toJS()).listLoad=!0,e.pages=1,e}(e);case"filterPopupCtrl":return i({},e,{dropType:"",dropProperty:!e.dropProperty});case"initData":return function(e,t){if((e=s.default.fromJS(e).toJS()).load=!1,e.listLoad=!1,!t.status)return e.prompt={show:!0,msg:t.msg},e;var a=t.data;return a?(e.firstTime&&(e.firstTime=!1,e.brands=a.brands,e.category=a.categoriesInfo,e.property=a.category.length?a.category.map(function(t,a){return e.searchData.properties["property_"+a]=[],t.id="property_"+a,t}):[],e.property.unshift({id:"brand",name:"品牌",list:a.brands},{id:"price",name:"价格"}),e.property.push({id:"category",name:"分类",list:a.categoriesInfo}),e.initSearch&&(e.initSearch.coupon_id&&(e.couponId=e.initSearch.coupon_id),e.initSearch.shop&&(e.shop=e.initSearch.shop),e.initSearch.brand&&(e.searchData.brand=e.initSearch.brand.split(",").map(function(e,t){return Number(e)})),e.initSearch.category&&e.searchData.category.push(e.initSearch.category),e.initSearch.properties&&(e.preProperty=e.initSearch.properties),e.initSearch.searchType&&(e.searchType=e.initSearch.searchType),e.initSearch="")),e.searchData.pages=a.pagers.current,e.totalPage=a.pagers.total,e.correction=a.correction,e.dataList=a.items,e.searchData.search_keywords=e.keyWord,a.correction&&(e.searchData.search_keywords=a.correction),e):e}(e,t.result);case"concatData":return function(e,t){return e.listLoad||!e.dataList?e:((e=s.default.fromJS(e).toJS()).dataList=e.dataList.concat(t.data.items),e.searchData.pages=t.data.pagers.current,e.searchData.totalPage=t.data.pagers.total,e)}(e,t.result);case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});default:return e}},u)},PhE9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){a.e(20).then(function(e){t(null,a("SRYB").default)}.bind(null,a)).catch(a.oe)}},Q1Kc:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=h(a("U7vG")),f=h(a("c5ru")),m=a("wj5X");function h(e){return e&&e.__esModule?e:{default:e}}var g=(u=c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.returnTop=function(){window.scrollTo(0,0)},a.scrollEvent=function(){(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0)>a.props.showDistance?!a.state.show&&a.setState({show:!0}):a.state.show&&a.setState({show:!1})},a.state={show:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,m.PureComponent),d(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.scrollEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEvent)}},{key:"render",value:function(){return this.state.show?p.default.createElement("div",{className:f.default.returnTop,style:this.props.style,onClick:this.returnTop},p.default.createElement("img",{src:this.props.imgUrl,width:this.props.imgWidth,height:this.props.imgHeight})):null}}]),t}(),c.defaultProps={style:{},imgUrl:a("Aka7"),imgWidth:20,imgHeight:20,showDistance:700},u);t.default=g},Q2t0:function(e,t,a){"use strict";(function(e){var n,r,o=d(a("Zx67")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LogicBlock=void 0;var p=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=x(m),g=a("Zfgq"),v=a("4n+p"),y=a("NUeF"),_=a("f2Hk"),E=(a("qeJi"),a("d2xe")),b=x(a("4GUf")),w=a("fw66"),k=a("5qLU"),A=x(a("qAHI")),N=a("f2t5");function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}var T={init:{url:k.WXAPI+"/user/sold/list",method:"get"},revoke:{url:k.WXAPI+"/user/sold/recall",method:"post"}},I=(0,_.concatPageAndType)("afterSaleList"),P=(0,_.actionAxios)("afterSaleList"),O=function(t){function a(){return C(this,a),S(this,(a.__proto__||(0,o.default)(a)).apply(this,arguments))}return M(a,m.Component),f(a,[{key:"componentWillMount",value:function(){this.props.getData()}},{key:"componentDidMount",value:function(){var t=this;e(window).bind("scroll.loadmore",function(){e(this).scrollTop()>e(".order-list").height()-e(window).height()-30&&t.props.hasMore&&!t.props.sending&&(t.props.changeSending(!0),t.props.addData(t.props.page))})}},{key:"componentWillUnmount",value:function(){e(window).unbind("scroll.loadmore"),this.props.dispatch(I("resetData"))}},{key:"render",value:function(){var e=this,t=this.props.reminderKnow;return this.props.load?h.default.createElement(E.LoadingRound,null):this.props.data&&this.props.data.length?h.default.createElement("div",{"data-page":"after-sale-list"},h.default.createElement("div",{className:"order-list"},h.default.createElement(D,{data:this.props.data,reminderKnow:t}),h.default.createElement("div",{style:{height:"30px",marginTop:"-10px"},className:"c-tc c-fs14 c-lh30 c-cc9"},this.props.hasMore?"加载中...":"别拉了，我是有底线的~"),h.default.createElement(w.ModalAComp,{active:this.props.AS,msg:this.props.msg,btns:[{text:"我知道了",cb:function(){e.props.dispatch(I("ctrlModal",{modal:"AS",status:!1}))}}]}))):h.default.createElement(E.NoMorePage,{text:"您还没有售后记录哦"})}}]),a}(),D=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.reminderKnow;return h.default.createElement("div",null," ",t.map(function(e,t){return h.default.createElement(L,{data:e,key:t,reminderKnow:a})}))}}]),t}(),L=function(e){var t=e.data,a=e.reminderKnow;return h.default.createElement("div",{className:"one-order-grid"},N.hideFlag&&h.default.createElement(j,{data:t}),h.default.createElement(R,{data:t}),h.default.createElement(B,{data:t}),!(50==t.status||30==t.status)&&h.default.createElement(F,{data:t,reminderKnow:a}))},j=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.shop,a=e.type,n=t.is_open,r=t.id,o=t.alias,i=t.name,l=t.shop_icon;return h.default.createElement("div",{className:"order-info-time"},h.default.createElement("div",{className:"shop-name"},(0,y.storeIcon)(l),h.default.createElement("a",{href:1===n?"/store/home?shop="+r:"javascript:void(0)"},h.default.createElement("span",{className:"left"},o||i))),1===n&&h.default.createElement("div",{className:"arrow-right"},h.default.createElement("a",{href:1===n?"/store/home?shop="+r:"javascript:void(0)"},h.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-m-icon.png"}))),h.default.createElement("span",{className:"right order-status"},y.asTypes[a]))}}]),t}(),B=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.status,a=e.extra,n=e.now;return h.default.createElement("div",{className:"order-ctrl deal-status"},h.default.createElement("span",null,y.asProcess[t]),40==t&&a&&h.default.createElement(H,{timeout:a.delivery_due,now:n}))}}]),t}(),R=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data;return h.default.createElement("div",{className:"one-order"},h.default.createElement(U,{data:e}))}}]),t}(),U=(function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.bn;return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(t),h.default.createElement("div",{className:"one-order"},h.default.createElement("div",{className:"order-info"},h.default.createElement("div",{className:"list-body"},h.default.createElement("div",{className:"list-img"},h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+a},h.default.createElement("img",{src:t.primary_image}))),h.default.createElement("div",{className:"list-body-ctt"},h.default.createElement("div",{className:"order-info-detail"},h.default.createElement("div",{className:"order-info-top"},h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+a,className:"order-info-title"},t.title),h.default.createElement("div",{className:"order-info-type"},t.spec_nature_info),h.default.createElement("span",{className:"gifts-lable"},"赠品")))))))}}])}(),function(e){var t=e.data,n=t.bn,r=t.goods_order,o=t.item_type;return h.default.createElement("div",{className:"order-info"},h.default.createElement("div",{className:"list-body"},h.default.createElement("div",{className:"list-img"},h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+n},h.default.createElement("img",{src:r.primary_image?(0,N.addImageSuffix)(r.primary_image,"_s"):a("VM8K")}))),h.default.createElement("div",{className:"list-body-ctt"},h.default.createElement("div",{className:"order-info-detail"},h.default.createElement("div",{className:"order-info-top"},h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+t.bn,className:"order-info-title"},r.title),h.default.createElement("div",{className:"info-price"},h.default.createElement("div",{className:"order-info-type"},r.spec_nature_info)),20==o&&h.default.createElement("div",null,h.default.createElement("span",{className:"gifts-lable"},"赠品")))))))}),F=function(e){function t(){var e,a,n;C(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=S(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.cancelDelete=function(){b.default.Modal({isOpen:!0,msg:"您最多可以在售后保障期内发起3次申请，确定撤销？"},function(){A.default.request(p({},T.revoke,{data:{after_sale_bn:n.props.data.bn}})).then(function(e){b.default.MsgTip({msg:"撤销成功"}),window.location.reload()}).catch(function(e){b.default.MsgTip({msg:e.response.data.message||"小泰发生错误，请稍后再试~"})})})},n.btnOrlink=function(e,t){var a=n.props,r=a.data,o=a.reminderKnow;e?o(!0,"商品无法申请售后，可能已经超过售后保障期"):t?o(!0,"最多可以发起3次售后申请"):g.browserHistory.push("/afterSale/apply?tid="+r.order_good_no+"&refund="+("待发货"===y.ordersubStatusAndIconMap[r.goods_order.order_shop.status].status?1:0))},S(n,a)}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=(t.reminderKnow,a.type,a.status),r=a.bn,o=a.is_timeout,i=a.is_count_run_out;return h.default.createElement("div",{className:"order-ctrl"},10==n&&h.default.createElement(g.Link,{onClick:this.cancelDelete,className:"btn-red"},"撤销退款"),40==n&&h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+r,className:"btn"},"填写物流"),/60|70|80/.test(n)&&h.default.createElement("a",{className:"btn",onClick:function(){e.btnOrlink(o,i)}},"申请售后"))}}]),t}();var H=t.LogicBlock=(n=function(e){function t(e){C(this,t);var a=S(this,(t.__proto__||(0,o.default)(t)).call(this,e));r.call(a);var n,i=a.props;return n=i.timeout-i.now,a.state=n>0?{retime:n}:{retime:0},a}return M(t,m.Component),f(t,[{key:"componentDidMount",value:function(){this.state.retime>0&&this.intervalreTime()}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.retimer)}},{key:"formatTime",value:function(e){return N.dateUtil.formatNum(parseInt(e))}},{key:"render",value:function(){var e=this.state.retime;return h.default.createElement("span",{className:"block-time"},h.default.createElement("span",null,"还剩",this.dealTime(e)))}}]),t}(),r=function(){var e=this;this.intervalreTime=function(){e.retimer=setInterval(function(){var t=--e.state.retime;t<0?(window.clearInterval(e.retimer),e.setState({retime:0})):(e.state.retime=t,e.setState(e.state))},1e3)},this.dealTime=function(t){var a,n,r,o;return a=e.formatTime(t/3600/24),n=e.formatTime(t/3600%24),r=e.formatTime(t%3600/60),o=e.formatTime(t%60),0!=a?a+"天"+n+"时":0!=n?n+"时"+r+"分":r+"分"+o+"秒"}},n);t.default=(0,v.connect)(function(e){return p({},e.afterSaleList)},function(e){return{dispatch:e,getData:function(){e(P("getData",p({},T.init,{params:{page:1,page_size:10}}),{page:1}))},addData:function(t){e(P("addData",p({},T.init,{params:{page:t,page_size:10}}),{page:t}))},changeSending:function(t){e(I("changeSending",{value:t}))},reminderKnow:function(t,a){e(I("ctrlModal",{modal:"AS",status:t,msg:a}))}}})(O)}).call(this,a("OOjC"))},QAvv:function(e,t,a){"use strict";(function(e){var n=d(a("Xxa5")),r=d(a("Zx67")),o=d(a("kiBT")),i=d(a("OvRC")),l=d(a("pFYg")),s=d(a("//Fk")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p,f,m,h,g=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a("U7vG"),_=S(y),E=a("Zfgq"),b=(a("O27J"),a("d2xe")),w=a("mskG"),k=S(a("4GUf")),A=a("5qLU"),N=a("f2t5"),x=a("Hl9d"),C=S(a("qAHI"));function S(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}a("ejFx");var P={init:{url:A.WXAPI+"/rate/order",method:"get"},createRate:{url:A.WXAPI+"/rate/createRate",method:"post"},recommendItem:{url:A.WXAPI+"/rate/recommendItem",method:"get"},compressPhoto:{url:A.WXAPI+"/uploadImage",method:"post"}},O=void 0,D=function(e){O?history.go(-1):(window.history.pushState(null,null,document.URL),k.default.Modal({isOpen:!0,msg:"确认取消发布吗？"},function(){history.go(--O)}))},L=(f=p=function(t){function a(e,t){M(this,a);var n=T(this,(a.__proto__||(0,r.default)(a)).call(this,e));n.submiteEva=function(){n.setState({evaluateAlready:"success"})};var o=e.location.query.tid;return n.state={tid:o,dataList:[],evaluateAlready:"evaluate",update:!1},n}return I(a,y.Component),v(a,[{key:"componentWillUnmount",value:function(){e(".reloads").remove()}},{key:"componentDidMount",value:function(){e('<meta class="reloads" name="reload-enbaled" content="false">').appendTo("head");var t=this;this.state.tid||E.browserHistory.push("/"),C.default.request(g({},P.init,{params:{no:t.state.tid}})).then(function(a){var n=a.data;O=0,window.history.pushState(null,null,document.URL),window.addEventListener("popstate",D,!1),0===n.code?t.setState({dataList:n.data,update:!0}):(O=-1,e(".more-click").css({display:"none"}),history.go(-1))}).catch(function(e){console.log(e),O=-1,k.default.MsgTip({msg:e.response.data.message||"服务器繁忙"}),history.go(-1)})}},{key:"componentWillMount",value:function(){document.title="发表评论"}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",D,!1)}},{key:"render",value:function(){var e=this.state.dataList;return this.state.update?_.default.createElement("div",{"data-page":"evaluate-list"},_.default.createElement("section",{ref:"evaluate-suc"},"success"===this.state.evaluateAlready?_.default.createElement(j,null):_.default.createElement(q,{dataList:e,fn:this.submiteEva}),_.default.createElement("div",{id:"tips",className:"c-fs14 c-lh30 c-tc c-bg000 c-cfff c-pf",style:{top:"150px",left:"50%",marginLeft:"-80px",width:"160px",height:"30px",opacity:"0.8",borderRadius:"15px",zIndex:"200",display:"none"}},"最多只能输入100字"))):_.default.createElement(b.LoadingRound,null)}}]),a}(),p.contextTypes={store:_.default.PropTypes.object,router:_.default.PropTypes.object},f);t.default=L;var j=function(t){function a(){return M(this,a),T(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return I(a,y.Component),v(a,[{key:"componentWillMount",value:function(){document.title="感谢评价",this.setState({goodsData:[],update:!1})}},{key:"componentDidMount",value:function(){var t=this;C.default.request(g({},P.recommendItem)).then(function(a){var n=a.data;0===n.code?t.setState({goodsData:n.data,update:!0}):(e(".more-click").css({display:"none"}),k.default.MsgTip({msg:"服务器繁忙"}))}).catch(function(e){console.log(e),k.default.MsgTip({msg:e.response.data.message||"服务器繁忙"})})}},{key:"render",value:function(){var e=this.state.goodsData;return this.state.update?_.default.createElement("div",{id:"evaluate-success"},_.default.createElement(B,null),_.default.createElement(R,null),_.default.createElement(U,{goodsData:e}),_.default.createElement(H,null)):_.default.createElement(b.LoadingRound,null)}}]),a}(),B=function(t){function a(){return M(this,a),T(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return I(a,y.Component),v(a,[{key:"componentDidMount",value:function(){e(".suc-inform button").click(function(e){history.go(--O)})}},{key:"render",value:function(){return _.default.createElement("div",{className:"suc-inform"},_.default.createElement("img",{src:"/src/img/evaluate/success.png"}),_.default.createElement("h2",{className:"c-fs18 c-lh18 c-c35 c-tc c-mb14"},"评价成功哦，感谢您的评价!"),_.default.createElement("p",{className:"c-fs12 c-lh12 c-c666 c-tc c-mb25"},"您的评价将是其他用户选购的重要参考!"),_.default.createElement("button",{className:"c-fs18 c-bgdred c-br4 c-mb14 c-cfff"},"继续评价"))}}]),a}(),R=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,y.Component),v(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"more-recommend"},_.default.createElement("div",{className:"line"}),_.default.createElement("div",{className:"line-txt c-bgfff c-tc c-fs12 c-c666"},"更多商品推荐"))}}]),t}(),U=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props.goodsData.map(function(e,t){return _.default.createElement(F,{data:e,key:t})});return _.default.createElement("div",{className:"more-goods c-clrfix"},e)}}]),t}(),F=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props.data;return _.default.createElement("div",{className:"each-goods"},_.default.createElement("div",{className:"goods-position"},_.default.createElement(E.Link,{to:"/item?item_id="+e.item_id,className:"goods-img"},_.default.createElement("img",{src:e.image?e.image+"_s.jpg":"/src/img/evaluate/goodsbg.png"})),_.default.createElement("div",{className:"goods-title c-fs12 c-c35 c-mb10"},e.title),_.default.createElement("p",{className:"c-fs12 c-fb c-cdred c-tl"},"￥",e.sell_price)))}}]),t}(),H=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,y.Component),v(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"find-more"},_.default.createElement("a",{onClick:function(e){e.preventDefault(),(0,x.miniProgramLogin)()},className:"c-c35 to-more"},"查看更多>"))}}]),t}(),q=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,y.Component),v(t,[{key:"render",value:function(){var e,t=this.props.dataList;return e=_.default.createElement(z,{dataList:t}),_.default.createElement("div",{id:"evaluate-input"},e,_.default.createElement(V,{dataList:t,fn:this.props.fn}))}}]),t}(),z=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props.dataList,t="";return e.order_goods&&(t=e.order_goods.map(function(e,t){return _.default.createElement(G,{dataList:e,key:t})})),_.default.createElement("div",{style:{width:"100%"},className:"shops-eva"},t,"")}}]),t}(),G=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props.dataList;return _.default.createElement("div",{style:{width:"100%"},id:e.id,className:"each-goods-eva"},_.default.createElement("input",{type:"hidden",value:e.no}),_.default.createElement(W,{imageUrl:e.primary_image,goodsID:e.item_id}),_.default.createElement(X,null),_.default.createElement(Q,{id:e.id}))}}]),t}(),W=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props,t=e.imageUrl,n=e.goodsID;return _.default.createElement("div",{className:"description"},_.default.createElement("div",{className:"goods-img c-fl"},_.default.createElement(E.Link,{to:"/item?item_id="+n},_.default.createElement("img",{src:t?(0,N.addImageSuffix)(t,"_s"):a("VM8K")}))),_.default.createElement("div",{className:"c-fl",style:{width:"76%"}},_.default.createElement(J,{data:"描述相符",starTxt:["差评","中评","中评","好评","好评"],starClass:"star-a",spanClass:"description-txt"})))}}]),t}(),J=function(t){function a(){return M(this,a),T(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return I(a,y.Component),v(a,[{key:"componentDidMount",value:function(){var t="."+this.props.starClass+" li",a=this.props.starTxt;e(t).click(function(t){var n=e(this).index();e(this).parent().attr({"eva-number":n}),e(this).parent().find("li").css({"background-position":"12px -22px"});for(var r=0;r<=n;r++)e(this).parent().find("li").eq(r).css({"background-position":"12px 4px"});var o="";switch(n){case 0:o=a[0];break;case 1:o=a[1];break;case 2:o=a[2];break;case 3:o=a[3];break;case 4:o=a[4]}e(this).parent().find("span").html(o).css({display:"block"})})}},{key:"render",value:function(){var e=this.props.spanClass+" c-cdred c-fs14",t=this.props.starClass+" c-fl stars",a=this.props.starTxt;return _.default.createElement("div",{className:"c-mb5",style:{width:"100%"}},_.default.createElement("span",{className:"c-c666 c-lh24 c-fl c-fs14",style:{marginRight:"12.5px"}},this.props.data),_.default.createElement("ul",{className:t},_.default.createElement("li",null),_.default.createElement("li",null),_.default.createElement("li",null),_.default.createElement("li",null),_.default.createElement("li",null),_.default.createElement("span",{className:e},a[4])))}}]),a}(),X=function(t){function a(){return M(this,a),T(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return I(a,y.Component),v(a,[{key:"componentDidMount",value:function(){var t=null;e("#evaluate-input .evaluate-textarea textarea").bind("input propertychange",function(){if(e(this).val().length>100){clearTimeout(t),e(this).val(e(this).val().substring(0,100)),e("#tips").show();e(this);t=setTimeout(function(t){e("#tips").hide()},1e3)}})}},{key:"render",value:function(){return _.default.createElement("div",{className:"evaluate-textarea"},_.default.createElement("textarea",{className:"c-fs14 c-c35 c-lh25",placeholder:"您的评价对其他买家很有帮助哦"}))}}]),a}(),Q=function(e){function t(){var e,a,n;M(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=T(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.addImg=function(e,t,a){var r=n.state.imgUrl,o=n.state.subimgUrl;e===n.props.id&&(r.push(t),o.push(a),n.setState({imgUrl:r,dataLength:r.length,subimgUrl:o}))},n.removeImg=function(e,t){var a=n.state.imgUrl,r=n.state.subimgUrl;e===n.props.id&&(a.splice(t,1),r.splice(t,1),n.setState({imgUrl:a,dataLength:a.length,subimgUrl:r}))},T(n,a)}return I(t,y.Component),v(t,[{key:"componentWillMount",value:function(){this.setState({imgUrl:[],subimgUrl:[],dataLength:0})}},{key:"render",value:function(){var e=this,t=this.state.imgUrl.map(function(t,a){return _.default.createElement(Z,{data:!0,id:"img"+e.props.id+a,pid:e.props.id,urls:t,suburls:e.state.subimgUrl[a],fn2:e.removeImg,key:a})});return _.default.createElement("div",{className:"evaluate-imgs c-clrfix c-mb10"},t,this.state.dataLength>4?"":_.default.createElement(Z,{data:!1,pid:e.props.id,dataLength:this.state.dataLength,fn:this.addImg}))}}]),t}(),Z=function(t){function a(){return M(this,a),T(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return I(a,y.Component),v(a,[{key:"componentDidMount",value:function(){var t=this.props,a=t.fn2,n=t.pid,r=t.id;e("#img"+r+" .del-img").click(function(t){var r=e(this).parent().index();a(n,r)})}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.dataLength,n=e.pid,r=e.suburls;return _.default.createElement("div",{id:t?"img"+t:"",className:"each-img c-fl c-mr10",style:this.props.data?{border:"none"}:{}},this.props.data?_.default.createElement(K,{urls:this.props.urls,suburls:r}):_.default.createElement(Y,{dataLength:a,fn:this.props.fn,pid:n}),this.props.data?_.default.createElement("div",{className:"del-img"},_.default.createElement("div",{className:"del"})):"")}}]),a}(),Y=function(t){function a(){var t,o,i,l,c,u=this;M(this,a);for(var d=arguments.length,p=Array(d),f=0;f<d;f++)p[f]=arguments[f];return o=i=T(this,(t=a.__proto__||(0,r.default)(a)).call.apply(t,[this].concat(p))),i.getImg=(l=n.default.mark(function t(a){var r,o,l,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.props.pid,o=i,102400,l=e(a.target).parent()[0].firstChild.files[0],/^image\/(jpg|png|jpeg|bmp)$/.test(l.type)){t.next=7;break}k.default.MsgTip({msg:"亲，请上传jpg/png/jpeg/bmp格式的图片哦~"}),t.next=12;break;case 7:return t.next=9,(0,w.compress)(l);case 9:s=t.sent,i.setState({upLoading:!0}),C.default.request(g({},P.compressPhoto,{data:{img:s}})).then(function(t){var a=t.data;if(0===a.code){var n=a.data.file.complete_url,i=a.data.file.url;o.props.fn(r,n,i),e(".each-img input").val("")}else k.default.MsgTip({msg:"图片上传失败"});o.setState({upLoading:!1})}).catch(function(e){console.log(e),k.default.MsgTip({msg:e.response.data.message||"服务器繁忙"})});case 12:case"end":return t.stop()}},t,u)}),c=function(){var e=l.apply(this,arguments);return new s.default(function(t,a){return function n(r,o){try{var i=e[r](o),l=i.value}catch(e){return void a(e)}if(!i.done)return s.default.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});t(l)}("next")})},function(e){return c.apply(this,arguments)}),T(i,o)}return I(a,y.Component),v(a,[{key:"componentWillMount",value:function(){this.setState({upLoading:!1})}},{key:"render",value:function(){var e=this.props.dataLength;return _.default.createElement("div",{className:"no-img c-fs12 c-tc c-pr"},e?e+" / 5":"上传照片",_.default.createElement("form",{id:"uploadForm",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},_.default.createElement("input",{style:{width:"100%",height:"100%",opacity:0},onChange:this.getImg,type:"file",name:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",className:"upLoadImg"})),this.state.upLoading?_.default.createElement("div",{className:"cover"},"图片上传中"):"")}}]),a}(),K=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return I(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props.suburls;return _.default.createElement("div",{style:{width:"80px",height:"80px",overflow:"hidden"}},_.default.createElement("img",{style:{width:"80px"},src:this.props.urls,"data-subsrc":e}))}}]),t}(),V=(function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}I(t,y.Component),v(t,[{key:"render",value:function(){var e=["差","不推荐","一般","很好","非常好"],t=this.props.dataList;return _.default.createElement("div",{className:"shop-score",id:t.id},_.default.createElement("img",{className:"shop-icon",src:"/src/img/icon/store-icon.png"}),_.default.createElement("div",{className:"score c-fs14 c-c35 c-mb14"},t.shop_name),_.default.createElement("div",{className:"c-clrfix",style:{width:"90%"}},_.default.createElement(J,{className:"c-mb14",data:"描述相符",starTxt:e,starClass:"star-b",spanClass:"shop-stara"})),_.default.createElement("div",{className:"c-clrfix",style:{width:"90%"}},_.default.createElement(J,{className:"c-mb14",data:"服务态度",starTxt:e,starClass:"star-c",spanClass:"shop-starb"})),_.default.createElement("div",{className:"c-clrfix",style:{width:"90%"}},_.default.createElement(J,{className:"c-mb14",data:"发货速度",starTxt:e,starClass:"star-d",spanClass:"shop-starc"})),_.default.createElement("div",{className:"c-clrfix",style:{width:"90%"}},_.default.createElement(J,{className:"c-mb14",data:"物流速度",starTxt:e,starClass:"star-e",spanClass:"shop-stard"})))}}])}(),h=m=function(t){function a(e){M(this,a);var t=T(this,(a.__proto__||(0,r.default)(a)).call(this,e));return t.changeAnonymous=function(){t.setState({isAnonymous:!t.state.isAnonymous})},t.submitEach=function(e){t.props.dataList;var a=t;C.default.request(g({},P.createRate,{data:e})).then(function(e){e.data;a.props.fn()}).catch(function(e){console.log(e),O=-1,a.setState({subClick:!1}),k.default.MsgTip({msg:e.response.data.message||"服务器繁忙"}),history.go(-1)})},t.state={isAnonymous:!0,subClick:!1},t}return I(a,y.Component),v(a,[{key:"componentDidMount",value:function(){var t=this;e(".submite-all").click(function(a){if(!t.state.subClick){t.setState({subClick:!0});for(var n=e(".each-goods-eva"),r=t.props.dataList.no,o=t.state.isAnonymous?1:0,i=[],l=0,s=n.length;l<s;l++){var c={},u=e(n[l]);c.order_good_no=u.children("input").val(),c.content=u.find("textarea").val();for(var d=u.find(".each-img img"),p=[],f=0,m=d.length;f<m;f++)p.push(e(d[f]).attr("data-subsrc"));switch(c.images=p,c.grade=u.find(".description-txt").html(),c.grade){case"好评":c.grade=30;break;case"中评":c.grade=20;break;case"差评":c.grade=10;break;default:c.grade=30}i.push(c)}var h={shop_no:r,anonymous:o,rates:i};t.submitEach(h)}})}},{key:"render",value:function(){var e=this.state.isAnonymous;return _.default.createElement("div",{className:"submit-evaluation"},_.default.createElement("p",{className:e?"anonymous c-fl c-c35 c-fs12":"anonymous c-fl c-c35 c-fs12 anonymous-cbg",onClick:this.changeAnonymous},"匿名"),_.default.createElement("p",{className:"anonymous-txt c-fr c-cc9 c-fs12"},e?"您的评论会以匿名形式展现":"您的评价能帮助其他小伙伴哟"),_.default.createElement("button",{className:"c-fs14 c-bgdred c-br4 c-mb14 c-cfff submite-all"},"提交评价"))}}]),a}(),m.contextTypes={store:_.default.PropTypes.object,router:_.default.PropTypes.object},h)}).call(this,a("OOjC"))},QS0o:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAdCAMAAAD8QJ61AAAAhFBMVEUAAAAzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzPF5ewFAAAAK3RSTlMAu9Lx4fp4TPcM2Wgf6LJ+VOzNxqxxJRIJ9cvBmY9cRD0xGL+hgzcpzraE/R4OsQAAAQJJREFUKM+NkdlygzAMRUVsJ8bse9gKpFna6v//rzI1zUMM5MzAXNAxlgxoCrSSgWESiWNBoQczZ4UDWLjUgQuaH+zByhEjIHzJXbvgJkxXOvyAFSLdRSUV2NG1BsDD4n/Lk0nsYEKOE13+uhDjDVQA64KLn8DSDQEUB6a2hExCKs8bwiGZZ/0jxKPZWQrzzqceLqwe5uwginniMkWBYanNVh/iiZ6KKKT7GCC/9t+IHdnCufUccyDuDRIpuVXHKH3FQMtaSiwy/T3iYTmtcqqWvz3eTXmfNgcrGX+ObeXA9oRgT+DvCsmewPmOcMUYLDzk8uWyFpnzSvBcNzYCX2EeEL8esRngiYQFBQAAAABJRU5ErkJggg=="},R25O:function(e,t,a){e.exports={modal:"gM1_RGnwl_n2DtJ9nIq5p",active:"_16zmtIEyiDwQUVXN3NvOm1",modalText:"_1ZPeh0MNEc8NvgqA7Z7lT0",modalBtn:"_1ZLGGfpE0RwFpASTe7stdz"}},RYNs:function(e,t,a){},Rbfj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(18)]).then(function(e){a("aR0x"),t(null,a("qUDK").default)}.bind(null,a)).catch(a.oe)}},RyPB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(9)]).then(function(e){a("aR0x"),window.echo=a("6YRh"),t(null,a("tJWF").default)}.bind(null,a)).catch(a.oe)}},SFZ9:function(e,t,a){},SUwM:function(e,t,a){},T9Bc:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={state:"",now_time:"",toend:""};function c(e){var t=e.now_time,a=(e.toend,e.end_time),n=e.start_time;e.state;return i({},e,{state:++t<n?0:t>a?1:2,now_time:t,toend:a-t})}t.default=(0,l.default)("seckill",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"clearData":return s;case"initData":return function(e,t){return c(i({},e,t))}(e,t);case"observeState":return c(e);default:return i({},e)}},s)},TB1E:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoCoupon=void 0;var n,r=a("U7vG"),o=(n=r)&&n.__esModule?n:{default:n};t.NoCoupon=function(){return o.default.createElement("div",{className:"c-tc",style:{padding:"30px 0 50px"}},o.default.createElement("img",{src:a("a8YF"),height:"90",width:"160"}),o.default.createElement("p",{className:"c-cc9 c-fs13 c-mt10"},"您没有相关优惠券哦~"))}},TMaE:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DropRefresh=void 0;var c,u,d,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=v(f),h=v(a("211U")),g=v(a("yskz"));function v(e){return e&&e.__esModule?e:{default:e}}t.DropRefresh=(0,h.default)(g.default)((d=u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a._scrollEvent=function(){if(a.scrollArea===window){var e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;document.body.scrollHeight<e+a._disBt+t&&a._executeCallBack()}else a.scrollArea.scrollHeight<a.scrollArea.scrollTop+a._disBt+a.scrollArea.clientHeight&&a._executeCallBack()},a.refresh=function(){a.status="down",a._addEvent(),a.forceUpdate()},a.locked=function(){a.status="finish",a.isLock=!0,a._removeEvent(),a.forceUpdate()},a.unLock=function(){a.status="down",a.isLock=!1,a._addEvent(),a.forceUpdate()},a.scrollArea=window,a.status="down",a.isLock=!1,a._disBt=e.disBt,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,f.Component),p(t,[{key:"componentDidMount",value:function(){this.scrollArea=this.props.local?this.refs.wrap:window,this._addEvent()}},{key:"_getBtmText",value:function(e){switch(e){case"load":return m.default.createElement("div",{styleName:"drop-btm"},"加载中 ",m.default.createElement("i",{styleName:"loading"}," "));case"down":return m.default.createElement("div",{styleName:"drop-btm"},"↓下拉刷新");case"finish":return m.default.createElement("div",{styleName:"drop-btm"},"没有更多了")}}},{key:"_addEvent",value:function(){this.isLock||(this.scrollArea.addEventListener("scroll",this._scrollEvent),this._scrollEvent())}},{key:"_removeEvent",value:function(){this.scrollArea.removeEventListener("scroll",this._scrollEvent)}},{key:"_executeCallBack",value:function(){this.status="load",this._removeEvent(),this.props.dropEvent(this),this.forceUpdate()}},{key:"render",value:function(){return m.default.createElement("div",{ref:"wrap",styleName:"drop-refresh"},this.props.children,this._getBtmText(this.status))}}]),t}(),u.defaultProps={scrollArea:window,local:!1,disBt:40},c=d))||c},TbRF:function(e,t,a){},U1k0:function(e,t,a){e.exports={storeHeader:"_235MzD2NXygz6KOcRDm9f",checkbox:"Rep5JN_IJto-BEcgDcBy1",storeName:"_2Ro1AeD2eUtJhb0ygJeNHm",storeNameText:"_3iP_bxCB4C049psM_8itfI",openIcon:"_1lGgT0wkBG1hed4F3_4E7Y",arrowRightIcon:"_29rdH7Tp6XYSuzkChA518u",storeEdit:"zLd84G6tH-Lqn0bkMMe7O",one:"_111vzi9i-hfsZS-ypnJtcH",two:"_3WLE-JbUrJ0haa-FGxoP8v"}},UnLJ:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={update:!1,is_subscribe:!1,subscribeAllow:!0,sign:{},shop_cat_list:[],shop_decoration_data:{is_show_coupon:0,modules:[{}]},resultShow:!1};t.default=(0,l.default)("storeIndex",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"initialData":return i({},e,t.value);case"subscribeStore":return i({},e,{is_subscribe:t.state});case"subscribeAllow":return i({},e,{subscribeAllow:t.state});case"resultShow":return i({},e,{resultShow:t.resultShow});case"dataUpdate":return i({},e,{update:t.update});default:return e}},s)},"V+o/":function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={prompt:{show:!1,msg:""}};t.default=(0,l.default)("popup",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});default:return e}},s)},VM8K:function(e,t){e.exports="data:image/png;base64,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"},VTfs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(8)]).then(function(e){a("aR0x"),t(null,a("reLy").default)}.bind(null,a)).catch(a.oe)}},Vi7z:function(e,t){e.exports="data:image/gif;base64,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"},Vvlt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("c9Fv"),r=H(a("6rhK")),o=H(a("Ns+p")),i=H(a("sEuz")),l=H(a("LQPD")),s=H(a("CN+O")),c=H(a("gzD0")),u=H(a("7HWo")),d=H(a("eadN")),p=H(a("aLBt")),f=H(a("iAP0")),m=H(a("jwQl")),h=H(a("dDPM")),g=H(a("OBU1")),v=H(a("iLpm")),y=H(a("1N3E")),_=H(a("Ovyh")),E=H(a("9whv")),b=H(a("03xW")),w=H(a("qzVb")),k=H(a("ZFXA")),A=H(a("+ecx")),N=H(a("akpK")),x=H(a("q7GU")),C=H(a("+MLC")),S=H(a("xzMH")),M=H(a("fzRm")),T=H(a("UnLJ")),I=H(a("pdlr")),P=H(a("V+o/")),O=H(a("Wu4U")),D=H(a("ndWb")),L=H(a("GbiI")),j=H(a("eLDH")),B=H(a("T9Bc")),R=H(a("0aIc")),U=H(a("ZA1r")),F=H(a("3Adj"));function H(e){return e&&e.__esModule?e:{default:e}}var q=(0,n.combineReducers)({global:r.default,popup:P.default,userCenter:o.default,orderConfirm:i.default,identifySelect:m.default,addressSelect:h.default,shopCart:g.default,searchIndex:v.default,qygSearch:y.default,searchResult:_.default,searchResult3:E.default,orderCancel:f.default,tradeList:c.default,tradeSearch:u.default,groupList:d.default,tradeDetail:p.default,afterSaleList:b.default,afterSaleApply:A.default,afterSaleDetail:N.default,afterSaleLogistics:x.default,consultrecord:k.default,logicompany:w.default,exchangeItem:S.default,minusActivity:M.default,homeIndex:l.default,userLogin:s.default,navigation:O.default,channel:D.default,invoiceSelect:C.default,storeIndex:T.default,itemIndex:L.default,topic:j.default,seckill:B.default,qygIndex:I.default,goodCollection:R.default,goodCollectionSearch:U.default,goodOverdue:F.default});t.default=q},Wkbk:function(e,t,a){"use strict";(function(e){var n=d(a("mvHQ")),r=d(a("fZjL")),o=d(a("Zx67")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createChooseSpec=t.ActiveArea=t.Buy=t.BuyModalButton=t.BuyModalTitle=t.BuyModal=void 0;var p=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=x(m),g=(x(a("O27J")),a("Zfgq")),v=a("rsfq"),y=(a("d2xe"),a("6quk")),_=(a("fw66"),a("8x+B")),E=a("XKGu"),b=x(a("qAHI")),w=a("JmOZ"),k=a("f2t5");a("nztU");a("kjFZ");var A=a("JmOZ"),N=a("6dTp");function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}var T=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,E.PureComponent),f(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"notice-group-price"},h.default.createElement(I,{item:this.props.data,proStatus:this.props.proStatus,promotion:this.props.promotion}),this.props.proStatus&&h.default.createElement(P,p({},this.props.promotion.promotion[0],{intervalT:this.props.intervalT})))}}]),t}(),I=function(e){function t(e){C(this,t);var a=S(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.state={sellPrice:parseFloat((+a.props.item.sell_price).toFixed(2)),marketPrice:parseFloat((+a.props.item.market_price).toFixed(2)),groupPerson:""},a}return M(t,m.Component),f(t,[{key:"componentWillReceiveProps",value:function(e){e.proStatus&&this.setState({sellPrice:e.promotion.promotion[0].rules.group_price,groupPerson:e.promotion.promotion[0].rules.group_person})}},{key:"componentDidMount",value:function(){this.props.proStatus&&this.setState({sellPrice:this.props.promotion.promotion[0].rules.group_price,groupPerson:this.props.promotion.promotion[0].rules.group_person})}},{key:"render",value:function(){var e=this.props.item,t=(e.is_free,e.trade_type,e.tax_rate,this.state),a=t.sellPrice,n=t.marketPrice,r=t.groupPerson;return h.default.createElement("div",{className:"c-cfff"},h.default.createElement("span",{className:"c-fs10 c-dpib c-fl group-person"},r,"人团"),h.default.createElement("span",{className:"c-fs20 c-dpib c-fl"}," ¥",a),n&&n!==a?h.default.createElement("span",{className:"c-dpib c-fl market-price"}," ¥",n):null)}}]),t}(),P=function(e){function t(e){C(this,t);var a=S(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.changeTime=function(){var e=a.props,t=e.start_time,n=e.now_time,r=e.end_time,o=a.state.intervalT;n=new Date(n.replace(/-/g,"/")).getTime()+parseInt(o),t=new Date(t.replace(/-/g,"/")).getTime(),r=new Date(r.replace(/-/g,"/")).getTime(),n<t?a.setState({time:parseInt((t-n)/1e3),startFlag:!0}):a.setState({time:parseInt((r-n)/1e3),startFlag:!1})},a.state={time:0,startFlag:!1,intervalT:a.props.intervalT},a}return M(t,m.Component),f(t,[{key:"componentDidMount",value:function(){this.changeTime(),this.intervalTime()}},{key:"componentWillReceiveProps",value:function(e){e.intervalT!==this.state.intervalT&&this.setState({intervalT:e.intervalT},function(){this.changeTime(),window.clearInterval(this.timer),this.timer=null,this.intervalTime()})}},{key:"intervalTime",value:function(){var e=this;this.timer=setInterval(function(){var t=--e.state.time;t<0?location.reload():(e.state.time=t,e.setState(e.state))},1e3)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.timer),this.timer=null}},{key:"render",value:function(){return h.default.createElement("div",{className:"c-cfff c-fs12 c-fr group-purchase-deadLine",id:"group-purchase-deadLine"},h.default.createElement("div",null,this.state.startFlag?"距开始仅剩":"距结束仅剩"),h.default.createElement("div",null,k.timeCtrl.formatTextTime(this.state.time)))}}]),t}(),O=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data.vip_info;return h.default.createElement("div",{className:"price-area"},h.default.createElement(A.VipArea,{vipInfo:e}),h.default.createElement(D,this.props),h.default.createElement(A.Tag,{item:this.props.data}))}}]),t}(),D=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.title,a=e.sub_title;e.shop;return h.default.createElement("div",null,h.default.createElement("p",{className:"goods-tit"},t),this.props.proStatus&&"Rookie"===this.props.promotion.promotion[0].rules.group_type?h.default.createElement("p",{className:"c-c666 sub-title"},"该商品所有用户均可开团，仅限泰然城购物的新用户参团哦！开团后邀请泰然城新朋友参团吧"):a&&h.default.createElement("p",{className:"c-c666 sub-title"},a))}}]),t}(),L=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.promotion,a=e.location;return h.default.createElement("div",{className:"fight-group-active"},h.default.createElement("div",{className:"c-fs12 fight-group-top"},"支付开团并邀请",h.default.createElement("span",null,t.promotion[0].rules.group_person-1),"人参团，人数不足退款"),h.default.createElement(g.Link,{to:"/pintuan-rules",className:"fight-group-rules"},h.default.createElement("p",{className:"c-fs15 c-cf55 c-mb5"},"拼团玩法"),h.default.createElement("img",{src:"src/img/pintuan/group-rules.png"}),h.default.createElement("img",{className:"direction-right-icon",src:"src/img/pintuan/black-direction-right.png"})),h.default.createElement(j,{promotion:t,location:a}))}}]),t}(),j=function(e){function t(e){C(this,t);var a=S(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.onClickGetMoreGroupData=function(){var e=a.props.location.query,t=e.salesmanId,n=e.item_id,r=t||window.localStorage.getItem("salesmanId");b.default.request(p({},A.pageApi.MoreGroupBuyList,{params:{salesman_id:r,item_id:n}})).then(function(e){a.setState({showMoreGroup:!0,moreGroupData:e.data.data||[]})}).catch(function(e){console.log(e),y.tip.show({msg:e.response&&e.response.data.message||"服务器繁忙"})})},a.state={showMoreGroup:!1,moreGroupData:[]},a}return M(t,m.Component),f(t,[{key:"closeMoreGroup",value:function(){this.setState({showMoreGroup:!1})}},{key:"getDetailList",value:function(){var e=this.props.promotion.groupBuy,t=e.group_info,a=e.group_data,n=this.props.location,r=[];return t&&t.forEach(function(e,t){r.push(h.default.createElement(R,{key:t,data:e,groupData:a,location:n}))}),r}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this,t=this.props,a=t.promotion,n=t.location,r=a.groupBuy,o=r.group_info,i=r.has_more,l=this.state,s=l.showMoreGroup,c=l.moreGroupData,u=this.closeMoreGroup.bind(this);return o?h.default.createElement("div",{className:"fight-group-detail"},o.length?h.default.createElement("div",{className:"moregroup"},h.default.createElement("i",{className:"current-icon"},h.default.createElement("img",{src:"src/img/pintuan/red-current-icon.png",alt:""})),"以下小伙伴正在发起团购，您可以直接参与",i?h.default.createElement("span",{className:"current-icon-more",onClick:function(){e.onClickGetMoreGroupData()}},"更多",h.default.createElement("img",{className:"direction-right-icon",src:"src/img/pintuan/black-direction-right.png"})):null):null,h.default.createElement("ul",{className:"participants"},this.getDetailList()),s?h.default.createElement(B,{promotion:a,location:n,moreGroupData:c,closeMoreGroup:u}):null):null}}]),t}(),B=function(e){function t(e){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return M(t,m.Component),f(t,[{key:"getDetailList",value:function(){var e=this.props.promotion.groupBuy.group_data,t=this.props,a=t.location,n=t.moreGroupData,r=[];return n&&n.forEach(function(t,n){r.push(h.default.createElement(R,{key:n,data:t,groupData:e,location:a}))}),r}},{key:"render",value:function(){var e=this.props.closeMoreGroup;return h.default.createElement("div",{className:"alert-moregrouplist"},h.default.createElement("div",{className:"center-popup"},h.default.createElement("div",{className:"title",onClick:function(){e()}},h.default.createElement("span",{className:"title-world"},"正在开团"),h.default.createElement("img",{src:"src/img/pintuan/close.png",alt:""})),h.default.createElement("ul",{className:"participants"},this.getDetailList()),h.default.createElement("div",{className:"bottom"},"最多显示10个团")))}}]),t}(),R=function(e){function t(e){C(this,t);var a=S(this,(t.__proto__||(0,o.default)(t)).call(this,e)),n=a.props.location.query.user_id;return a.state={user_id:n},a}return M(t,m.Component),f(t,[{key:"componentWillMount",value:function(){var e=this.props.data,t=e.expire_time,a=e.now_time;t=new Date(t.replace(/-/g,"/")).getTime(),(a=new Date(a.replace(/-/g,"/")).getTime())>t&&(this.state.unUpdate=!0)}},{key:"componentDidMount",value:function(){var e=this.props.data,t=e.expire_time,a=e.now_time;t=new Date(t.replace(/-/g,"/")).getTime(),a=new Date(a.replace(/-/g,"/")).getTime(),this.unUpdate||(this.state.time=(t-a)/1e3,this.intervalTime())}},{key:"intervalTime",value:function(){var e=this;this.timer=setTimeout(function(){var t=--e.state.time;t<0?e.state.unUpdate=!0:(e.state.time=t,e.intervalTime()),e.setState(e.state)},1e3)}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timer),this.timer=null}},{key:"getTime",value:function(){if(this.state.unUpdate)return"团已过期";var e=this.state.time?this.state.time:0;return k.timeCtrl.formatTime(e)}},{key:"getName",value:function(e,t){return e?e.length>2?e.substring(0,1)+"**"+e.substring(e.length-1):e:t&&t.replace(/(\d{3})\d{5}(\d{3})/,"$1*****$2")}},{key:"render",value:function(){var e=this.props.data,t=this.state.user_id;return h.default.createElement("li",null,h.default.createElement("div",{className:"list-detail"},h.default.createElement("div",{className:"list-left"},h.default.createElement("div",{className:"participants-name"},this.getName(e.nickname,e.name)),h.default.createElement("div",{className:"group-info"},h.default.createElement("div",{className:"group-info-residue"},"还差",e.required_person-e.current_person,"人成团"),h.default.createElement("div",{className:"group-info-time"},this.getTime()))),h.default.createElement(A.LinkChange,{className:"list-right",to:t?"/groupDetail?object_id="+e.id+"&user_id="+t+"&itemFlag=true":"/groupDetail?object_id="+e.id+"&itemFlag=true"},"去参团",h.default.createElement("i",{className:"group-direction-right"}))),h.default.createElement("img",{className:"participants-avatar",src:e.avatar||"/src/img/icon/avatar/default-avatar.png",alt:"头像"}))}}]),t}(),U=t.BuyModal=function(e){function t(e){C(this,t);var a=S(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.judgeSingleSku=function(){var e=a.props.promotion.info.skus,t=[],n=(0,r.default)(e);return n.map(function(a){0!==e[""+a].store&&t.push(e[""+a])}),1===n.length||1===t.length},a.changeBusinessPrice=function(){var e=a.props.retState,t=(e.num,e.nowPrice),n=e.nowSkuId,o=e.storeNum,i=e.selectArr,l=e.specKey,s=e.originalPrice,c=a.props.promotion.info.skus,u=a.props.promotion.info.specs,d=(0,r.default)(c),f=void 0;d.map(function(e){0!==c[""+e].store&&(f=e)}),f=f||d[0],t=c[f].price,s=c[f].price,n=c[f].sku_id,o=c[f].store,i=f.split("_"),l=(0,r.default)(u);var m=p({},a.props.retState,{nowPrice:t,nowSkuId:n,storeNum:o,selectArr:i,specKey:l,originalPrice:s});a.props.InitState(m)},a.addMinNum=function(e){var t=a.props.retState,n=t.num,r=t.nowPrice;t.nowSkuId,t.selectArr;n=n+e;var o=p({},a.props.retState,{num:n,nowPrice:r});a.props.InitState(o)},a.purchaseLimit=function(){var e=a.props.data.trade_type;if(a.props.retState.num>1&&a.props.retState.nowSkuId&&(0,v.PurchaseLimit)(e))return a.props.retState.num*a.props.retState.nowPrice>2e3},a.getActionData=function(e){var t=a.props,n=t.retState,r=t.promotion,o=t.areaData,i=t.data,l=i.shop_id,s=(i.shop.attr,t.itemId),c=[],u=a.props.location.query.user_id,d=a.props.mix&&a.props.mix.addrList;d&&(d.recent_addr.length>0&&d.recent_addr[0].addr_id||d.default_addr&&d.default_addr.addr_id);r.promotion&&r.promotion.map(function(e,t){c.push({promotion_id:e.id,role:"main_good",type:e.type})});var f=window.localStorage.getItem("commissionUcenterId"),m=window.localStorage.getItem("salesmanId"),h={subscribe:[{quantity:1,cart_id:0,sku_id:n.nowSkuId,item_id:s,created_at:(new Date).getTime(),extra:{group_buy_params:{type:r.promotion[0].rules.group_type,object_id:a.props.data.object_id||0,mode:a.props.data.object_id?"join":"open"},promotion:c,commission_user_id:u,name_card_salesman_id:m,commission_ucenter_id:f}}]};return h=e?p({},h,{buyMode:"fast_buy",bizMode:"online",bizAttr:"trmall",address:o.addressData}):{item_id:s,sku_id:n.nowSkuId,quantity:n.num||1,shop_id:l,extra:{price:n.originalPrice,commission_user_id:u,name_card_salesman_id:m,commission_ucenter_id:f}}},a.isHasStore=function(e,t,a){return t&&t.some(function(t,n){if(t.ids[e.index]==e.spec){var r=a.slice();return r[e.index]&&delete r[e.index],!!r.every(function(e,n){return a[n]==t.ids[n]})&&t.skus.store>0}return!1})},a.specSelect=function(e,t,n){var r,o=a.props.retState,i=a.props.promotion.info.skus,l=a.props.promotion,s=l.realStore,c=(l.activity_type,o.selectArr),u=o.specKey,d=o.nowSku,f=o.storeNum,m=o.newData,h=o.nowSkuId,g=o.nowPrice,v=o.num,y=o.deductPrice,_=o.originalPrice;(c=c.slice())[t]===e?(delete c[t],delete u[t]):(c[t]=e,u[t]=n),r=c.join("_"),c.length==m[0].ids.length&&i[r]?(d=i[r],h=i[r].sku_id,g=i[r].price,f=i[r].store,_=i[r].price,v=v<f?v:f,y=i[r].deduct_price):(g=(0,A.rangePrice)(a.props.promotion,!0),f=s,h="",d="",y="",_="");var E=p({},a.props.retState,{nowSku:d,selectArr:c,specKey:u,nowSkuId:h,nowPrice:g,num:v,storeNum:f,deductPrice:y,originalPrice:_});a.props.InitState(E)},a.importNum=function(e){var t=e.target.value,n=a.props.retState,r=n.num,o=n.storeNum;if(!t){r=a.preNum||o;var i=p({},a.props.retState,{num:r});a.props.InitState(i)}},a.changeNum=function(e){var t=a.props.retState,n=t.num,r=(t.nowSku,t.storeNum),o=e.target.value;a.preNum=n,n=+(o=o.replace(/[^\d]/g,""))?+o>r?n:+o:"";var i=p({},a.props.retState,{num:n});a.props.InitState(i)},a.onClickBuy=function(e){var t=a.props,r=t.itemId,o=t.data.object_id,i=t.promotion;if(a.checkSpec())y.tip.show({msg:"请选择规格"});else{var l=!("groupBuy"!==e&&!a.props.active);if(l)b.default.request(p({},A.pageApi.CheckGroupBuy,{params:{promotion_id:i.promotion[0].id,object_id:o||0,group_type:i.promotion[0].rules.group_type}})).then(function(){var t=a.getActionData(l);sessionStorage.setItem("fast_buy",(0,n.default)(t)),a.props.UpdateBuyModal({buyModal:!a.props.active,buyActive:a.props.active?"":e}),g.browserHistory.push("/orderConfirm?item_id="+r)}).catch(function(e){console.log(e),y.tip.show({msg:e.response&&e.response.data.message||"服务器繁忙"})});else{var s=a;s.setState({toCartClick:!1}),b.default.request(p({},A.pageApi.toCart,{params:a.getActionData()})).then(function(e){s.setState({toCartClick:!0}),s.props.UpdateCartInfo(e.data.data),(0,A.flyToCart)(),s.props.closeModal();var t=a.getActionData(),n=t.item_id,r=t.quantity,o=t.sku_id,i=(0,N.setExtraInfoGwc)(title,n,o,r,e.status,e.data.code,"加入购物车成功");sdk.dispatch("click",document.getElementById("add-package"),i)}).catch(function(e){var t=e.response,n=t.status,r=t.data;y.tip.show({msg:r.message||"服务器繁忙"}),s.setState({toCartClick:!0});var o=a.getActionData(),i=o.item_id,l=o.quantity,c=o.sku_id,u=(0,N.setExtraInfoGwc)(title,i,c,l,n,r.code,r.message);sdk.dispatch("click",document.getElementById("add-package"),u)})}}},a.state={toCartClick:!0},a}return M(t,m.Component),f(t,[{key:"componentWillMount",value:function(){this.judgeSingleSku()&&this.changeBusinessPrice()}},{key:"checkSpec",value:function(){var e=this.props.retState,t=e.specKey,a=e.nowSkuId,n=this.props.promotion.info.specs;return!a&&((0,r.default)(n).filter(function(e,a){return+e!==t[a]}),!0)}},{key:"render",value:function(){var e=p({addMinNum:this.addMinNum,changeNum:this.changeNum,importNum:this.importNum,isHasStore:this.isHasStore,specSelect:this.specSelect,judgeSingleSku:this.judgeSingleSku,onClickBuy:this.onClickBuy,purchaseLimit:this.purchaseLimit},this.state,this.props);return h.default.createElement(_.NewModal,{isOpen:this.props.buyModal,onClose:this.props.closeModal},h.default.createElement("div",{className:"action-buy-modal",style:(0,k.judgeIphoneX)()?{paddingBottom:"34px"}:{}},h.default.createElement(F,e),h.default.createElement(H,e),h.default.createElement(q,e)))}}]),t}(),F=t.BuyModalTitle=function(t){function a(){C(this,a);var e=S(this,(a.__proto__||(0,o.default)(a)).call(this));return e.state={isLarge:!1},e}return M(a,m.Component),f(a,[{key:"componentDidUpdate",value:function(){if(this.state.isLarge){var e={newTime:0,oldTime:0,enlarge:!1,relativeX:0,relativeY:0,x1:0,x2:0,y1:0,startX:0,endX:0,wid:0,hei:0,lef:0,to:0,timerScale:null,self:this,isLarge:this.state.isLarge};(0,A.scaleImg)(".ui-table-view-large-wrapper",null,e)}}},{key:"getImg",value:function(){var e=this.props.data,t=this.props.retState,a=t.specKey,n=t.selectArr,r=this.props.promotion.info,o=void 0,i=void 0;return a&&a.some(function(e,t){return i=r.specs[e].values.filter(function(e,a){return e.spec_value_id==n[t]}),o=i[0].image}),o||e.primary_image}},{key:"render",value:function(){var t=this,a=this.props,n=(a.data,a.retState),r=a.promotion,o=a.buyActive,i=r.info.specs,l=(0,A.chooseSpec)(n,i),s=parseFloat(parseFloat(n.groupPrice).toFixed(2));return h.default.createElement("div",null,this.state.isLarge&&h.default.createElement("div",{className:"ui-table-view-large-img",style:{height:e(window).height(),top:e(".action-buy-modal").height()}},h.default.createElement("div",{className:"buy-shady",onClick:function(){t.setState({isLarge:!1})}}),h.default.createElement("div",{className:"ui-table-view-large-wrapper",style:{height:e(window).height()}},h.default.createElement("img",{src:(0,k.addImageSuffix)(this.getImg(),"_l")}))),h.default.createElement("ul",{className:"ui-table-view"},h.default.createElement("li",{className:"ui-table-view-cell"},h.default.createElement("span",{className:"posit-img"},h.default.createElement("img",{className:"ui-media-object ui-pull-left",src:this.getImg()?(0,k.addImageSuffix)(this.getImg(),"_s"):"/src/img/item/no-img.png",width:"80",height:"80",onClick:function(){t.setState({isLarge:!0})}})),h.default.createElement("div",{className:"ui-media-body window-head"},h.default.createElement("div",{className:"price-tag"},h.default.createElement("p",{className:"ui-ellipsis text-price action-update-price"},"¥","buy"===o?n.nowPrice:s)),!(i instanceof Array)&&l.length>0&&h.default.createElement("p",{className:"text-price-sel",style:{display:"block"}}," 已选 ",l," ")))))}}]),a}(),H=function(e){function t(){var e,a,n;C(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=n=S(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),n.initList=function(){var e=n.props.promotion.info.specs;return(0,r.default)(e).map(function(t,a){return h.default.createElement(A.Specs,p({specs:e[t],index:a},n.props,{key:a}))})},n.getLimit=function(){var e=n.props.data.activity_type,t=n.props.promotion.itemRules;return"groupBuy"==e?h.default.createElement("span",{className:"limit_buy"},"限购",t.user_buy_limit,"件 (已购",t.purchased_quantity,"件)"):null},S(n,a)}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.addMinNum,a=e.changeNum,n=e.importNum,r=e.buyActive,o=(this.props.promotion.itemRules,this.props.retState),i=o.num,l=o.storeNum;return h.default.createElement("div",{className:"attr-wrap"},h.default.createElement("div",{className:"standard-area stable-standard cur"},h.default.createElement("div",{className:"standard-info"},this.initList())),h.default.createElement("div",{className:"buy-amount"},h.default.createElement("span",{className:"amount-tit"},"数量："),"buy"===r?h.default.createElement("span",{className:"number-increase-decrease"},h.default.createElement("span",{className:"btn btn-action action-decrease "+(1===i||""===i?"dis-click":""),onTouchTap:1===i||""===i?"":function(){return t(-1)}},"－"),h.default.createElement("input",{type:"number",className:"action-quantity-input",value:i,onBlur:n,onChange:a}),h.default.createElement("span",{className:"btn btn-action action-increase "+(i===l||""===i||0===l?"dis-click":""),onTouchTap:i===l||""===i||0===l?"":function(){return t(1)}},"＋")):h.default.createElement("span",{className:"number-increase-decrease"},h.default.createElement("span",{className:"btn btn-action action-decrease dis-click"},"－"),h.default.createElement("input",{type:"text",className:"action-quantity-input",readOnly:!0,value:"1"}),h.default.createElement("span",{className:"btn btn-action action-increase dis-click"},"＋")),h.default.createElement("span",{className:"store_buy"},"库存",l,"件"),this.getLimit(),h.default.createElement("div",{className:"clearfix"})),h.default.createElement(A.ExpectTax,this.props))}}]),t}(),q=t.BuyModalButton=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.onClickBuy,a=(e.purchaseLimit,e.toCartClick),n=e.buyActive,r=(e.singleBuy,e.active),o=e.intervalT,i=e.promotion,l=0,s=0;i.promotion[0]&&(s=i.promotion[0].now_time,l=i.promotion[0].start_time,s=new Date(s.replace(/-/g,"/")).getTime()+parseInt(o),l=new Date(l.replace(/-/g,"/")).getTime());return h.default.createElement("div",{className:"buy-option-btn",style:(0,k.judgeIphoneX)()?{height:"85px"}:{}},s<l&&"groupBuy"===n?h.default.createElement("div",{className:"c-bgfc15",onClick:function(){y.tip.show({msg:"拼团还未开始，请耐心等待哦~"})}},"即将开始"):h.default.createElement("div",null,null,h.default.createElement("div",{className:"btn-tobuy btn-group",style:{width:"100%"},onTouchTap:function(){"groupBuy"===n?t(n):a&&t()}},r?"确定":"groupBuy"===n?"立即开团":"确定")))}}]),t}(),z=t.Buy=function(e){function t(){var e,a,n;C(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=S(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.active=function(e,t){t&&n.setState({singleBuy:!0}),n.props.UpdateBuyModal({buyModal:!0,buyActive:e})},S(n,a)}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props.proStatus&&this.props.promotion.promotion[0],a=t.rules,n=t.now_time,r=t.start_time;n=n&&new Date(n.replace(/-/g,"/")).getTime()+parseInt(this.props.intervalT),r=r&&new Date(r.replace(/-/g,"/")).getTime();var o=this.props,i=o.promotion,l=o.data,s=this.props.proStatus&&(0,A.rangePrice)(this.props.promotion,!0);return this.props.mixStatus&&this.props.proStatus?h.default.createElement("div",null,this.props.choose?h.default.createElement(A.LinkChange,{className:"choose-btn",onClick:function(){e.active("groupBuy")}}," "):"SHELVING"===l.status?i.realStore?h.default.createElement("div",{className:"pintuan-btn-group"},n<r?h.default.createElement(A.LinkChange,{className:"fight-group-start"},h.default.createElement("div",{id:"person-price"},"￥",parseFloat((+a.group_price).toFixed(2))),h.default.createElement("div",{onClick:function(){y.tip.show({msg:"拼团还未开始，请耐心等待哦~"})}},"即将开始")):h.default.createElement(A.LinkChange,{className:"fight-group-purchase",onClick:function(){return e.active("groupBuy")}},h.default.createElement("div",{id:"group-price"},"￥",parseFloat((+a.group_price).toFixed(2))),h.default.createElement("div",null,a.group_person,"人团")),h.default.createElement(A.LinkChange,{className:"buy-separately-btn",onClick:function(){return e.active("buy",!0)}},h.default.createElement("div",{id:"person-price"},"￥",s),h.default.createElement("div",null,"加入购物袋"))):h.default.createElement("div",{className:"pintuan-btn-group action-btn-group"},h.default.createElement(A.LinkChange,{type:"button",className:"ui-btn action-disable"},"已售罄")):h.default.createElement("div",{className:"pintuan-btn-group action-btn-group"},h.default.createElement(A.LinkChange,{type:"button",className:"ui-btn action-disable"},"已下架"))):h.default.createElement("div",{className:"action-btn-group c-fr"},h.default.createElement("span",{className:"ui-btn  action-addtocart c-fl incomplete-addtocart"},"加入购物袋"),h.default.createElement("span",{className:"ui-btn  action-buy-now c-fl incomplete-buy-now"},"立即购买"))}}]),t}(),G=(0,A.createBuyAction)({Buy:z}),W=t.ActiveArea=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"active-area"},h.default.createElement(A.CouponWrap,this.props))}}]),t}(),J=(t.createChooseSpec=function(e){var t=e.Buy;return function(e){function a(){return C(this,a),S(this,(a.__proto__||(0,o.default)(a)).apply(this,arguments))}return M(a,E.PureComponent),f(a,[{key:"render",value:function(){var e=this.props,a=e.data,n=e.promotion,r=e.retState,o=n.info.specs,i=(0,A.chooseSpec)(r,o);return o instanceof Array?null:h.default.createElement("div",{className:"choose-col"},h.default.createElement("div",{className:"choose-spec c-fs13"},h.default.createElement("span",{className:"c-mr15"},i.length>0?"已选择 ":"选择 "),i.length>0&&(0,A.chooseSpec)(r,o),h.default.createElement("i",{className:"icon icon-forward vertical-middle"},h.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-icon.png"}))),"SHELVING"===a.status&&n.realStore?h.default.createElement(t,p({},this.props,{choose:!0})):null,h.default.createElement("div",{className:"gap bgf4"}))}}]),a}()})({Buy:z}),X=function(e){function t(e){C(this,t);var a=S(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.closeModal=function(){a.props.UpdateBuyModal({buyModal:!1})},a.state={singleBuy:!1},a}return M(t,E.PureComponent),f(t,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.data,n=e.mix,r=e.rate,o=e.recommend,i=e.promotion,l=e.cartNum,s=e.isLogin,c=e.pending,u=e.mixStatus,d=e.rateStatus,f=e.recommendStatus,m=e.proStatus,g=e.cartInfoStatus,v=e.retState,y=e.areaData,_=e.UpdateBuyModal,E=e.InitState,b=e.UpdateCartInfo,N=e.buyModal,x=e.buyActive,C=e.intervalT,S=a.item_id,M={itemId:S,location:t,retState:v,data:a,mix:n,promotion:i,mixStatus:u,proStatus:m,buyModal:N,buyActive:x,UpdateBuyModal:_,InitState:E,UpdateCartInfo:b,singleBuy:this.state.singleBuy,closeModal:this.closeModal,areaData:y,intervalT:C},I=m&&i.groupBuy.group_data,P=window.localStorage.getItem("commissionUcenterLoginType");return h.default.createElement("div",{"data-page":"item-detail",id:"item-details",ref:"details"},h.default.createElement(w.BarrageStripConnnect,null),h.default.createElement(A.ItemNav,null),u&&m&&h.default.createElement(U,M),h.default.createElement("div",null,h.default.createElement(A.ScrollImageState,{data:a,group_data:I,ref:"scrollImage"}),h.default.createElement(T,{data:a,proStatus:m,promotion:i,intervalT:C}),h.default.createElement(O,{data:a,proStatus:m,promotion:i}),h.default.createElement("div",{className:"gap bgf4"}),m&&h.default.createElement(L,{promotion:i,location:t}),m&&h.default.createElement(W,{promotion:i,shop:a.shop}),h.default.createElement("div",{className:"gap bgf4"}),u&&m&&h.default.createElement(J,M),u&&h.default.createElement(A.SeverArea,{mix:n,data:a,retState:v,areaData:y,isLogin:s,pending:c}),h.default.createElement("div",{className:"gap bgf4"})),h.default.createElement("div",{className:"screen-rate"},d&&h.default.createElement(A.EvaluateArea,{rate:r,itemId:S}),h.default.createElement("div",{className:"gap bgf4"}),f&&k.hideFlag&&h.default.createElement(A.RecommendArea,{recommend:o.data}),k.hideFlag&&h.default.createElement("div",{className:"gap bgf4"}),k.hideFlag&&h.default.createElement(A.ShopArea,{shop:a.shop})),h.default.createElement("div",{className:"screen-detail"},h.default.createElement(A.GoodsDetail,{data:a})),h.default.createElement(G,p({cartNum:l,cartInfoStatus:g},M)),"true"===P&&!!i.commission_income&&h.default.createElement(A.SharingMakes,{item_id:S,commission_income:i.commission_income,commission_min_price:i.commission_min_price}))}}]),t}();t.default=X}).call(this,a("OOjC"))},Wu4U:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={cartNum:0};t.default=(0,l.default)("navigation",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"setCartNum":return i({},e,{cartNum:t.num});default:return e}},s)},"X+a7":function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d,p=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=b(a("U7vG")),h=b(a("211U")),g=b(a("D1KD")),v=a("d2xe"),y=a("wj5X"),_=(a("f2t5"),a("TB1E")),E=a("Zfgq");function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var N=(0,h.default)(g.default,{allowMultiple:!0})(u=function(e){function t(e){w(this,t);var a=k(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.onSure=function(){a.setState({show:!1}),setTimeout(function(){a.props.close()},200)},a.state={show:!1},a}return A(t,y.PureComponent),f(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({show:!0})})}},{key:"render",value:function(){var e=this;return m.default.createElement("div",{onClick:this.onSure},m.default.createElement(v.Shady,null),m.default.createElement("div",{styleName:"popupCoupon "+(this.state.show?"active":""),onClick:function(e){e.stopPropagation()}},m.default.createElement("div",{styleName:"header"},"领取优惠券",m.default.createElement("div",{styleName:"iconGrid"},m.default.createElement("i",{styleName:"blackCloseIcon",onClick:this.onSure}," "))),m.default.createElement("div",{styleName:"body"},this.props.data.coupons.length>0?this.props.data.coupons.map(function(t,a){return m.default.createElement(x,{key:a,data:p({},t,{shop_name:e.props.shopName,isBiz:e.props.isBiz}),couponHandle:e.props.couponHandle})}):m.default.createElement(_.NoCoupon,null))))}}]),t}())||u;t.default=N;var x=(0,h.default)(g.default,{allowMultiple:!0})(d=function(e){function t(e){w(this,t);var a=k(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.receiveCoupon=function(){a.props.couponHandle(a.props.data,function(){a.setState({receive:!1})})},a.getPrice=function(e){var t=(e=parseFloat(e)).toString().split(".");return 1===t.length?e=m.default.createElement("span",null,t[0],m.default.createElement("span",{className:"c-fs14"},".00")):t.length>1?e=t[1].length<2?m.default.createElement("span",null,t[0],m.default.createElement("span",{className:"c-fs14"},".",t[1],"0")):m.default.createElement("span",null,t[0],m.default.createElement("span",{className:"c-fs14"},".",t[1])):void 0},a.state={receive:!0},a}return A(t,y.PureComponent),f(t,[{key:"platformApply",value:function(e){var t={pc:"PC端",wap:"WAP端",all:"ALL端"};return e.split(",").map(function(e,a){return t[e]}).join("、")}},{key:"render",value:function(){var e=this.props.data,t=e.isset_limit_money?"couponRed":"couponYellow";return m.default.createElement("div",{styleName:"oneCoupon "+t},m.default.createElement("div",{styleName:"couponLeft"},m.default.createElement("p",{styleName:"leftOne"},"¥",m.default.createElement("b",null,4==e.type?this.getPrice(e.price):parseInt(e.deduct_money))),m.default.createElement("p",{styleName:"leftTwo"},4==e.type?"原价"+parseFloat(e.market_price):"满"+e.limit_money+"使用")),m.default.createElement("div",{styleName:"couponRight"},this.state.receive?m.default.createElement("div",{styleName:"receive-btn",onClick:this.receiveCoupon},"立即领取"):m.default.createElement(E.Link,{styleName:"use-btn",to:"/searchResult?coupon_id="+e.coupon_id},"去使用 ",m.default.createElement("i",{styleName:t+"Icon"}," ")),m.default.createElement("p",{styleName:"rightOne"},m.default.createElement("span",{className:"c-fs16 c-c35"},4==e.type?"免单券":0==e.type?"店铺券":1==e.type?"跨店券":"平台券")),m.default.createElement("p",{styleName:"rightTwo"},e.apply_text),m.default.createElement("p",{styleName:"rightThree"},e.use_start_time.substr(2),"至",e.use_end_time.substr(2))))}}]),t}())||d},XKGu:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("fZjL")),o=c(a("kiBT")),i=c(a("OvRC")),l=c(a("pFYg")),s=c(a("C4MV"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PureComponent=void 0;var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG");function p(e,t){if(e===t)return!0;var a=(0,r.default)(e),n=(0,r.default)(t);return a.length===n.length&&a.every(function(a){return e[a]===t[a]})}t.PureComponent=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!p(this.props,e)||!p(this.state,t)}}]),t}()},XSP4:function(e,t,a){e.exports={mask:"_2qI4xAoOjtDUtWzdkg3nQc","mask-load":"_3MB5waMloANAJkIfLleUZw"}},YYe9:function(e,t,a){},ZA1r:function(e,t,a){"use strict";var n=o(a("gRE1")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG"));function s(e){return e&&e.__esModule?e:{default:e}}var c={errorState:!0,from:"",filterUpdate:!0,windowHeight:0,load:!1,init:!1,isQuickSelect:!1,prompt:{show:!1,msg:""},keyWord:"",param:{},searchData:"",currentPage:"",totalPage:"",categoriesList:[]};t.default=(0,l.default)("goodCollectionSearch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"isError":return i({},e,{errorState:t.errorState});case"setFrom":return i({},e,{from:t.from});case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});case"setFilterUpdate":return i({},e,{filterUpdate:t.filterUpdate});case"windowHeight":return i({},e,{windowHeight:t.windowHeight});case"setInit":return i({},e,{init:t.init});case"resetState":return i({},c,{keyWord:t.keyWord,searchType:t.searchType});case"setInitItem":return i({},e,{categoriesList:t.result.data.statistics?(0,n.default)(t.result.data.statistics):[]});case"isLoad":return i({},e,{load:t.load});case"setData":return function(e,t,a){var o=(0,r.default)({},i({},e),{load:!0,goodsList:t.data.item_list});return a&&t.data.statistics&&(o=(0,r.default)({},o,{categoriesList:(0,n.default)(t.data.statistics)||[]})),o}(e,t.result,t.filterUpdate);case"setSearch":return function(e,t){var a=i({},e.searchData,t);return i({},e,{searchData:a})}(e,t.searchData);case"concatData":return function(e,t){return e.goodsList=e.goodsList.concat(t.data.item_list),e}(e,t.result);case"setCurrentPage":return i({},e,{currentPage:t.current});case"setTotalPage":return i({},e,{totalPage:t.total});case"toggleQuickSelect":return i({},e,{isQuickSelect:t.isQuickSelect});default:return e}},c)},ZFXA:function(e,t,a){"use strict";var n=o(a("C4MV")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,l=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a("GHKy"),c=(i=s)&&i.__esModule?i:{default:i};var u={load:!0,data:""};t.default=(0,c.default)("consultrecord",function(){var e,t,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,o=arguments[1];switch(o.type){case"resetData":return u;case"getDataSuccess":return l({},r,{load:!1,data:o.result.data});case"ctrlModal":return l({},r,(e={},t=o.modal,a=o.status,t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e));default:return r}},u)},ZdiO:function(e,t,a){"use strict";(function(e){var n=u(a("mvHQ")),r=u(a("Zx67")),o=u(a("kiBT")),i=u(a("OvRC")),l=u(a("pFYg")),s=u(a("C4MV")),c=u(a("woOf"));function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChooseAddress=t.default=void 0;var d,p,f,m=c.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a("U7vG"),v=x(g),y=(x(a("O27J")),a("Zfgq")),_=a("6quk"),E=a("4n+p"),b=a("d2xe"),w=a("fw66"),k=a("f2Hk"),A=x(a("qAHI")),N=a("5qLU");function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}a("6RO1");var T={addressList:{url:N.WXAPI+"/user/getAddressList",method:"get"},getAddressDetail:{url:N.WXAPI+"/user/getAddressDetail",method:"get"},setDefaultAddress:{url:N.WXAPI+"/user/setDefaultAddress",method:"get"},removeAddress:{url:N.WXAPI+"/user/removeAddress",method:"get"},modifyAddress:{url:N.WXAPI+"/user/modifyAddress",method:"post"},addAddress:{url:N.WXAPI+"/user/addAddress",method:"post"}},I=void 0,P=e(window).height(),O=(0,k.concatPageAndType)("orderConfirm"),D=(0,E.connect)(null,R)((p=function(e){function t(e){C(this,t);var a=S(this,(t.__proto__||(0,r.default)(t)).call(this,e));f.call(a);var n=e.location.query,o=n.id,i=n.from;n.name;return a.state={addrId:o,update:!1,addressData:[],isAdd:"",editorData:"",from:i},a.showMsg="",a}return M(t,g.Component),h(t,[{key:"componentWillMount",value:function(){var e=this,t=e.state.addrId;t?A.default.request(m({},T.getAddressDetail,{params:{address_id:t}})).then(function(t){var a=t.data;e.handleEditorPage(!1,a.data)}).catch(function(e){console.log(e),_.tip.show({msg:e.response.data.message||"服务器繁忙"})}):this.getAddressList()}},{key:"render",value:function(){var e=this.state,t=e.update,a=e.addressData,n=e.isAdd,r=e.editorData,o=e.addrId,i=e.from,l=(this.props.location.query||"").name;return document.title=i?"2"===i?"添加收货地址":n&&"1"===i?"选择收货地址":"编辑收货地址":"地址管理",t?v.default.createElement("div",{"data-page":"address-manage"},v.default.createElement("section",{id:"address-manage",ref:"address-manage"},("2"===i?n=!1:n)?v.default.createElement("div",null,v.default.createElement(L,{addressData:a,fn:this.handleEditorPage,getList:this.getAddressList,from:i,name:l}),v.default.createElement("button",{className:"add-address",onClick:this.addAddress},"添加收货地址")):v.default.createElement(F,{editorData:r,addrId:o,fn:this.getAddressList,changeFrom:this.changeFrom,from:i,addressData:a}))):v.default.createElement(b.LoadingRound,null)}}]),t}(),f=function(){var t=this;this.getAddressList=function(){var a=t,n=t.props.location,r=n.pathname,o=n.search,i=n.query.name;A.default.request(m({},T.addressList)).then(function(t){var n=t.data;1===n.data.data.length&&"1"===a.state.from&&a.state.goFlag&&a.props.listSelect(n.data.data[0],a.state.from,!1,i),a.setState({update:!0,addressData:n.data,isAdd:!0}),e("#address-manage").css({minHeight:e(window).height()})}).catch(function(e){console.log(e),401!==e.response.status?_.tip.show({msg:e.response.data.message||"服务器繁忙"}):y.browserHistory.replace(N.DIR+"/login?redirect_uri="+encodeURIComponent(r+o))})},this.addAddress=function(){var e=t.state.addressData;e.count<e.limitCount?t.setState({isAdd:!1,editorData:""}):_.tip.show({msg:"亲~地址不能超过20条哦！"})},this.handleEditorPage=function(e,a){t.setState({update:!0,isAdd:e,editorData:a})},this.changeFrom=function(){t.setState({from:"1",isAdd:!0,goFlag:!0})}},d=p))||d;t.default=D;var L=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,g.Component),h(t,[{key:"render",value:function(){var e=this.props,t=e.addressData,a=e.fn,n=e.getList,r=e.from,o=e.name,i=t.data.map(function(e,t){return v.default.createElement("div",{key:e.address_id},v.default.createElement(U,{item:e,fn:a,key:t,getList:n,from:r,name:o}))});return t.count?v.default.createElement("div",{className:"goods-address"},v.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/trBgStriae.png"}),i):v.default.createElement("div",{className:"goods-addressImg"},v.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/trGoodsAddress.png"}))}}]),t}(),j=function(e){function t(e){C(this,t);var a=S(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.delateAddress=function(e){a.setState({showModal:!0})},a.handleDefaultAddress=function(e){e.currentTarget;var t=a.props,n=t.item,r=t.getList;A.default.request(m({},T.setDefaultAddress,{params:{address_id:n.address_id}})).then(function(e){e.data;r()}).catch(function(e){console.log(e),_.tip.show({msg:e.response.data.message||"服务器繁忙"})})},a.editorAddress=function(e){var t=a.props,n=t.item,r=t.fn;e.stopPropagation(),A.default.request(m({},T.getAddressDetail,{params:{address_id:n.address_id}})).then(function(e){var t=e.data;r(!1,t.data)}).catch(function(e){console.log(e),_.tip.show({msg:e.response.data.message||"服务器繁忙"})})},a.closeModal=function(){a.setState({showModal:!1})},a.sureCloseModal=function(){var e=a,t=e.props,n=t.item,r=t.getList;A.default.request(m({},T.removeAddress,{params:{address_id:n.address_id}})).then(function(t){t.data;e.setState({showModal:!1}),r()}).catch(function(e){console.log(e),_.tip.show({msg:e.response.data.message||"服务器繁忙"})})},a.state={showModal:!1,defaultC:!0},a.showMsg="",a}return M(t,g.Component),h(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.from,r=t.listSelect,o=t.name,i=this.state,l=i.showModal,s=i.defaultC;return v.default.createElement("div",null,n?v.default.createElement(B,{data:a,from:n,listSelect:r,editorAddress:this.editorAddress,name:o}):v.default.createElement("div",{className:"wrapper"},v.default.createElement("div",{className:"c-fs14 c-c35 address-info"},v.default.createElement("span",{className:"name"},a.name),v.default.createElement("span",{className:"phone-number"},a.mobile),v.default.createElement("p",{className:"c-mb15 detail-address"},a.detail_address)),v.default.createElement("div",{style:{position:"relative"}},v.default.createElement("div",{className:a.is_default?"ctrl-btn bg1":"ctrl-btn bg2",onClick:function(t){t.stopPropagation(),s&&e.handleDefaultAddress(t)}},v.default.createElement("span",{className:"c-fs12 c-c666 default-address"},"默认地址")),v.default.createElement("span",{className:"btn"},v.default.createElement("button",{onClick:this.editorAddress},"编辑"),v.default.createElement("button",{className:"delate-btn",onClick:function(t){t.stopPropagation(),e.delateAddress(t)}},"删除"))),v.default.createElement(w.PopupModal,{active:l,msg:"确认删除地址？",onClose:this.closeModal,onSure:this.sureCloseModal})))}}]),t}(),B=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,g.Component),h(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.from,r=t.name;return v.default.createElement("div",{className:"one-list"},v.default.createElement("div",{className:"list-info",onClick:function(){e.props.listSelect(a,n,!1,r)}},v.default.createElement("div",{className:"top"},v.default.createElement("span",null,a.name)," ",a.mobile),v.default.createElement("div",{className:"text"},a.is_default?v.default.createElement("span",null,"默认"):""," ",a.detail_address)),v.default.createElement("button",{className:"edit",onClick:this.props.editorAddress},v.default.createElement("i",{className:"edit-icon"}," ")))}}]),t}();function R(e,t){return{listSelect:function(t,a,n,r){"1"!==a&&"2"!==a||(e(O("selectAddress",{data:t,from:"address",name:r})),!n&&y.browserHistory.goBack())}}}var U=(0,E.connect)(null,R)(j),F=function(t){function a(t){C(this,a);var o=S(this,(a.__proto__||(0,r.default)(a)).call(this,t));return o.chooseAddress=function(){o.setState({animalStatus:!0,slideIn:!0})},o.handleDefaultAddress=function(){o.setState({isDefaultAddress:!o.state.isDefaultAddress})},o.confirmAnimal=function(e,t,a,n,r,i){a?o.setState({chooseedAddress:e+" "+t+" "+a,provinceId:n,cityId:r,countyId:i}):o.setState({chooseedAddress:e+" "+t,provinceId:n,cityId:r}),o.setState({animalStatus:!1,slideIn:!1})},o.saveNewAddress=function(){var t=o,a=e(".people").val(),r=e(".phone").val(),i=e(".address").val(),l=t.state,s=l.chooseedAddress,c=l.provinceId,u=l.cityId,d=l.countyId,p=l.isDefaultAddress,f=l.isEditor,h=l.address_id,g=(l.rightName,l.rightNumber,l.rightaddress,t.props.addrId),v=s.split(" "),y={};y=d?{province:{code:c,text:v[0]},city:{code:u,text:v[1]},district:{code:d,text:v[2]}}:{province:{code:c,text:v[0]},city:{code:u,text:v[1]}};var E=void 0;E=p?1:0,!/^[\u4E00-\u9FA5]+(·[\u4E00-\u9FA5]+)*$/.test(a)||a.length<2?_.tip.show({msg:"请输入正确的名字"}):/\d{11}/.test(r)?0===s.length?_.tip.show({msg:"请选择所在区域"}):i.length<5||i.length>60?_.tip.show({msg:"详细地址最少5个字，最多不能超多60个字"}):A.default.request(f?m({},T.modifyAddress,{data:{address_id:h,name:a,mobile:r,area:(0,n.default)(y),address:i,is_default:E}}):m({},T.addAddress,{data:{address_id:"",name:a,mobile:r,area:(0,n.default)(y),address:i,is_default:E}})).then(function(e){e.data;g?setTimeout(function(){window.history.go(-1)},1e3):setTimeout(function(){t.props.fn()},1e3),t.props.from&&t.props.changeFrom()}).catch(function(e){console.log(e),_.tip.show({msg:e.response.data.message||"服务器繁忙"})}):_.tip.show({msg:"您输入的手机号有误"})},o.handleEditorData=function(){var t=o.props.editorData,a=t.area,n=a.province,r=a.city,i=a.district;o.setState({address_id:t.address_id,chooseedAddress:n.text+" "+r.text+" "+i.text,isDefaultAddress:t.is_default,provinceId:n.code,cityId:r.code,countyId:i.code,isEditor:!0}),e(".phone").val(t.mobile),e(".address").val(t.address),e(".people").val(t.name)},o.state={isDefaultAddress:!0,animalStatus:!1,slideIn:!1,chooseedAddress:"",addSucMsg:"",isEditor:!1,rightName:!1,rightNumber:!1,rightaddress:!1},o.showMsg="",o}return M(a,g.Component),h(a,[{key:"componentDidMount",value:function(){var t=this;t.props.editorData&&t.handleEditorData(),e(".shady").click(function(e){t.setState({animalStatus:!1,slideIn:!1})})}},{key:"render",value:function(){var t=this.state,a=t.isDefaultAddress,n=t.animalStatus,r=t.slideIn,o=t.chooseedAddress,i=this.props,l=i.editorData,s=i.addressData;return v.default.createElement("div",{id:"address-editor",ref:"address-editor",style:{overflow:"hidden",position:"relative",height:P}},v.default.createElement("div",{className:"shady",style:{display:r?"block":"none",height:e(window).height()}}),v.default.createElement(H,{animalStatus:n,slideIn:r,confirm:this.confirmAnimal}),v.default.createElement("div",null,v.default.createElement("div",{className:"editor-info c-fs14"},v.default.createElement("span",{className:"title"},"收货人"),v.default.createElement("input",{type:"text",maxLength:"12",className:"people"})),v.default.createElement("div",{className:"editor-info c-fs14"},v.default.createElement("span",{className:"title"},"联系电话"),v.default.createElement("input",{type:"text",className:"phone",maxLength:"11"})),v.default.createElement("div",{className:"editor-info c-fs14",onClick:this.chooseAddress},v.default.createElement("span",{className:"title"},"所在地区"),v.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/trArror.png",className:"chooseImg"}),v.default.createElement("p",{className:"choose-addressA"},o)),v.default.createElement("div",{className:"editor-info c-fs14"},v.default.createElement("textarea",{placeholder:"如街道、小区、楼栋号、单元室等",className:"address"})),l.is_default?"":v.default.createElement("div",{className:"default-choose"},v.default.createElement("img",{src:a?"../src/img/addressAndIdentityInfo/trChoose.png":"../src/img/addressAndIdentityInfo/trUnChoose.png",onClick:!!s.count&&this.handleDefaultAddress}),v.default.createElement("span",{className:"c-fs14 c-c666 c-ml30"},"设为默认地址")),v.default.createElement("button",{className:"address-save",onClick:this.saveNewAddress},"保存")))}}]),a}(),H=t.ChooseAddress=function(t){function a(t){C(this,a);var n=S(this,(a.__proto__||(0,r.default)(a)).call(this,t));return n.clickNavProvince=function(t){var a=e(t.target).attr("id");e(t.target).hasClass("active-one")||(I.slideTo(a,300),e(t.target).addClass("active-one").siblings().removeClass("active-one"))},n.clickNavCity=function(t){var a=e(t.target).attr("id");n.state.cityClickAble&&(e(t.target).hasClass("active-one")||(I.slideTo(a,300),e(t.target).addClass("active-one").siblings().removeClass("active-one")))},n.clickNavCounty=function(t){var a=e(t.target).attr("id");n.state.countyClickAble&&(e(t.target).hasClass("active-one")||(I.slideTo(a,300),e(t.target).addClass("active-one").siblings().removeClass("active-one")))},n.handleActiveClass=function(t){e("#"+t).hasClass("active-one")||e("#"+t).addClass("active-one").siblings().removeClass("active-one")},n.getCity=function(e){for(var t=0;t<addressData.length;t++)if(addressData[t].value==e)return addressData[t].children},n.getCounty=function(e){var t=n.state.cityData;if(t[0].children){for(var a=0;a<t.length;a++)if(t[a].value==e)return t[a].children}else n.setState({countyTxt:""})},n.clickCity=function(t){var a=n.state.cityData[0].parentId,r=t.target.innerText,o=e(t.target).attr("id");e(t.target).addClass("active-one").siblings().removeClass("active-one");var i=n.getCounty(r);i?n.setState({isCounty:!0},function(){I.update(),I.slideTo(2,300)}):n.setState({confirmClickAble:!0,isCounty:!1},function(){this.confirm()}),n.setState({cityTxt:r,cityId:o,countyData:i,countyClickAble:!0,countyTxt:"",parentId:a}),e(".each-countyaddress").removeClass("active-one")},n.clickCounty=function(t){var a=t.target.innerText,r=e(t.target).attr("id");e(t.target).addClass("active-one").siblings().removeClass("active-one"),n.setState({countyTxt:a,countyId:r},function(){this.confirm()})},n.confirm=function(){var e=n.state,t=e.provincetxt,a=e.cityTxt,r=e.countyTxt,o=e.provinceId,i=e.cityId,l=e.countyId;(e.confirmClickAble||r)&&n.props.confirm(t,a,r,o,i,l)},n.state={provincetxt:"",cityData:[],cityTxt:"",countyData:[],countyTxt:"",cityClickAble:!1,countyClickAble:!1,confirmClickAble:!1,isCounty:!0},n}return M(a,g.Component),h(a,[{key:"componentWillMount",value:function(){var e=this.getCity("北京市");this.setState({provincetxt:"北京市",cityData:e,cityClickAble:"true",isCounty:!1})}},{key:"componentDidMount",value:function(){var t=this;e("#110100").addClass("active-one").siblings().removeClass("active-one"),I=new Swiper(".swiper-container-address",{preventClicks:!0,onSlideChangeStart:function(e){t.handleActiveClass(e.activeIndex)}}),e(".each-address").click(function(a){var n=this.innerText,r=e(this).attr("id");e(this).addClass("active-one").siblings().removeClass("active-one"),I.slideTo(1,300);var o=t.getCity(n);t.setState({isCounty:!1,countyData:[]}),I.update(),"北京市"===n||"天津市"===n||"上海市"===n||"重庆市"===n||"澳门"===n?(t.setState({isCounty:!1}),I.update()):t.setState({isCounty:!0}),t.setState({provincetxt:n,provinceId:r,cityData:o,cityClickAble:!0,countyClickAble:!1,cityTxt:"",countyTxt:"",confirmClickAble:!1}),e(".each-cityaddress").removeClass("active-one"),e(".each-countyaddress").removeClass("active-one")})}},{key:"render",value:function(){var e=this.props,t=e.animalStatus,a=e.slideIn,n=this.state,r=n.provincetxt,o=n.cityData,i=n.cityTxt,l=n.countyTxt,s=n.countyData,c=n.cityClickAble,u=n.countyClickAble,d=n.confirmClickAble,p=n.isCounty,f=addressData.map(function(e,t){return v.default.createElement("p",{key:t,className:"each-address",id:e.id},e.value)});return v.default.createElement("div",{className:"animal-address"},v.default.createElement("div",{className:"choose-address "+(t?a?"animal1":"animal2":"")},v.default.createElement("ul",{className:"nav"},v.default.createElement("li",{className:"active-one",id:"0",onClick:this.clickNavProvince},r||"省份"),v.default.createElement("li",{id:"1",onClick:this.clickNavCity,style:{color:c?"":"#c9c9c9"}},i||"城市"),p?v.default.createElement("li",{id:"2",onClick:this.clickNavCounty,style:{color:u?"":"#c9c9c9"}},l||"区县"):"",v.default.createElement("li",{className:"confirm",onClick:this.confirm,style:{color:d||l?"":"#c9c9c9"}},"完成")),v.default.createElement("div",{className:"address-content","data-plugin":"swiper"},v.default.createElement("div",{className:"swiper-container swiper-container-address"},v.default.createElement("div",{className:"swiper-wrapper "},v.default.createElement("div",{className:"swiper-slide each-list"},f),v.default.createElement("div",{className:"swiper-slide each-list"},v.default.createElement(q,{data:o,fn:this.clickCity})),p?v.default.createElement("div",{className:"swiper-slide each-list"},v.default.createElement(z,{data:s||[],fn:this.clickCounty})):"")))))}}]),a}(),q=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,g.Component),h(t,[{key:"render",value:function(){var e=this,t=this.props.data.map(function(t,a){return v.default.createElement("p",{key:a,className:"each-cityaddress",onClick:e.props.fn,id:t.id},t.value)});return v.default.createElement("div",null,t)}}]),t}(),z=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,g.Component),h(t,[{key:"render",value:function(){var e=this,t=this.props.data.map(function(t,a){return v.default.createElement("p",{key:a,className:"each-countyaddress",onClick:e.props.fn,id:t.id},t.value)});return v.default.createElement("div",null,t)}}]),t}()}).call(this,a("OOjC"))},Zpg5:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OneItem=void 0;var u,d=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=(u=f)&&u.__esModule?u:{default:u},h=a("Zfgq"),g=a("4n+p"),v=(a("d2xe"),a("f2Hk")),y=a("f2t5");function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("jfES");(0,v.concatPageAndType)("orderConfirm"),(0,v.actionAxios)("orderConfirm");var w=function(t){function a(){return _(this,a),E(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return b(a,f.Component),p(a,[{key:"componentDidMount",value:function(){e(window).scrollTop(0)}},{key:"render",value:function(){var t=this.props.invalidSupplyGoods;return m.default.createElement("div",{"data-page":"order-confirm",ref:"orderPage",style:{minHeight:e(window).height(),padding:"10px"}},m.default.createElement(k,{data:t}),m.default.createElement("button",{className:"sureButton",onClick:function(){h.browserHistory.goBack()}},"知道了"))}}]),a}(),k=function(e){function t(){return _(this,t),E(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return b(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data,t=e&&e.map(function(e,t){return m.default.createElement(A,{key:"item"+t,data:e})});return e.length?m.default.createElement("div",{className:"invaild-item",style:{marginBottom:"45px"}},m.default.createElement("p",{className:"title c-cdred c-fs14"},"以下您所购买的商品，供应商反馈缺货"),m.default.createElement("div",null,t)):null}}]),t}(),A=t.OneItem=function(e){function t(){return _(this,t),E(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return b(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data;return m.default.createElement("div",{className:"one-item-grid"},m.default.createElement("div",{className:"one-item inval"},m.default.createElement("div",{className:"item-img"},m.default.createElement("img",{src:(0,y.addImageSuffix)(e.primary_image,"_s")})),m.default.createElement("div",{className:"item-info"},m.default.createElement("div",{className:"info-title c-fb"},e.title),m.default.createElement("div",{className:"info-spec c-c999"},e.spec_text),m.default.createElement("div",{className:"invalid-message c-fs12 c-c35 c-fb"},"商品已不能购买"),m.default.createElement("div",{className:"info-btm c-fs13"},"×",e.quantity))))}}]),t}();t.default=(0,g.connect)(function(e,t){return d({},e.orderConfirm,e.global)})(w)}).call(this,a("OOjC"))},a6aF:function(e,t,a){},a8YF:function(e,t){e.exports="data:image/png;base64,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"},a8io:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=_(a("U7vG")),p=_(a("211U")),f=_(a("zZzN")),m=a("wj5X"),h=_(a("B6QQ")),g=a("Zfgq"),v=a("5qLU"),y=a("qeJi");function _(e){return e&&e.__esModule?e:{default:e}}var E=(0,p.default)(f.default,{allowMultiple:!0})(c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,m.PureComponent),u(t,[{key:"activityTime",value:function(){var e=this.props.data.promotion_single;if(!e)return"";var t=(new Date).getTime()>new Date(e.start_time).getTime();return y.timeUtils.cnFormat(t?new Date(e.end_time).getTime():new Date(e.start_time).getTime())+e.name+(t?"结束":"开始")}},{key:"render",value:function(){var e=this.props,t=e.edit,n=e.data,r=e.invalid,o=e.hiddenDelete,i=(n.promotion_single,n.item_id);return d.default.createElement("div",{styleName:"invalidItem"},d.default.createElement("div",{styleName:"checkbox"},d.default.createElement(h.default,{handleCheck:this.props.handleCheck,invalid:r,isCheck:n.is_checked,disable:"exchange"===n.obj_type})),d.default.createElement("div",{styleName:"itemInfo","data-item-info":!0},d.default.createElement(g.Link,{styleName:"itemImg",to:v.DIR+"/item?item_id="+i,onClick:function(e){return t&&e.preventDefault()}},d.default.createElement("img",{src:n.image?n.image:a("VM8K"),width:"70",height:"70"})),d.default.createElement("div",{styleName:"itemDetail"},d.default.createElement("div",{styleName:"title"},d.default.createElement("span",{style:{verticalAlign:"top"}},n.title)),d.default.createElement("div",{styleName:"itemCtrl"},d.default.createElement("div",{styleName:"text"},d.default.createElement("div",{styleName:"textDetail"},n.unable_text)),d.default.createElement("div",null,t?o?"":d.default.createElement("div",{styleName:"delete",onClick:this.props.handleDelete},d.default.createElement("img",{src:a("gNAs")})):d.default.createElement("div",{styleName:"collect",onClick:this.props.handleCollect},"移入收藏"))))))}}]),t}())||c;t.default=E},aLBt:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy")),s=a("Zfgq");var c={load:!0,data:"",modal:{show:!1,msg:"",modalSure:""},payPopupMsg:{show:!1,Msg:""},PopupCancelMsg:{show:!1,Msg:""},cancel_reason:"",modalAS:{show:!1,msg:""}};t.default=(0,l.default)("tradeDetail",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"resetData":return c;case"getDataSuccess":return 401===t.result.code?(s.browserHistory.replace("/login?redirect_uri="+encodeURIComponent(t.cbData)),e):i({},e,{load:!1,data:t.result});case"ctrlModal":return i({},e,{modal:i({},t.modal)});case"payPopup":return i({},e,{payPopupMsg:i({},t.status)});case"cancelPopup":return i({},e,{PopupCancelMsg:i({},t.status)});case"changeReason":return i({},e,{cancel_reason:t.reason});case"ctrlModalapply":return i({},e,{modalAS:i({},t.modalAS)});default:return e}},c)},akpK:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={load:!0,data:"",modal:{show:!1,msg:"",modalSure:""},btnFlag:!0};t.default=(0,l.default)("afterSaleDetail",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"resetData":return s;case"getDataSuccess":return i({},e,{load:!1,data:t.result.data});case"ctrlModal":return i({},e,{modal:i({},t.modal)});case"changebtnFlag":return i({},e,{btnFlag:t.btnFlag});default:return e}},s)},anlr:function(e,t,a){},bhYP:function(e,t,a){e.exports={shady:"igpwK6JRam1rKPGXleStb",animationModal:"_3FpO11SqbtZesZ5VvHQaaE",active:"_2E6xE1QHpxQOoQAKfH8e2",title:"_2chFzR_tMW2iPvPv65nArl",closeBtn:"_27spKdzTKfQwobr0Cw83vH"}},bv6F:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(3),a.e(13)]).then(function(e){a("aR0x"),t(null,a("67yC").default)}.bind(null,a)).catch(a.oe)}},bzLZ:function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=p(u);p(a("O27J"));function p(e){return e&&e.__esModule?e:{default:e}}a("6RO1");var f=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,u.Component),c(a,[{key:"componentWillMount",value:function(){document.title="身份证照片示例"}},{key:"componentDidMount",value:function(){e("#identity-example").css({minHeight:e(window).height()})}},{key:"render",value:function(){return d.default.createElement("div",{"data-page":"identity-example"},d.default.createElement("div",{id:"identity-example",ref:"identity-example"},d.default.createElement("div",{className:"wrapper correctEx"},d.default.createElement("h1",null,"身份证照片正确示例"),d.default.createElement("h3",null,"人面像"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/right1.png",alt:""})),d.default.createElement("h3",{style:{marginTop:"20px"}},"非人面像"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/right2.png",alt:""}))),d.default.createElement("div",{className:"wrapper errorEx"},d.default.createElement("h1",null,"身份证照片错误示例"),d.default.createElement("h3",null,"1、非收货人本人身份证照片"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error1.png",alt:""})),d.default.createElement("h3",null,"2、身份证姓名、身份证号码被遮挡或者拍摄反光，无法清晰辨认"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error2.png",alt:""})),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error3.png",alt:""})),d.default.createElement("h3",null,"3、拍摄身份证太小，拍摄时倾斜等导致姓名、身份证号码无法清晰辨认"),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error4.png",alt:""})),d.default.createElement("p",null,d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error5.png",alt:""})),d.default.createElement("h3",null,"4、身份证照片人为修改，处理"),d.default.createElement("p",{style:{marginBottom:"40px"}},d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/error6.png",alt:""})))))}}]),a}();t.default=f}).call(this,a("OOjC"))},c5ru:function(e,t,a){e.exports={returnTop:"_3tosjoudA5np9S8D9wWdA6"}},c6H4:function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=(c=d)&&c.__esModule?c:{default:c};a("wcup");var f=function(t){function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,d.Component),u(a,[{key:"componentDidMount",value:function(){e(this.refs.page).css({minHeight:e(window).height()})}},{key:"render",value:function(){return p.default.createElement("div",{"data-page":"after-sale",ref:"page"},this.props.children)}}]),a}();t.default=f}).call(this,a("OOjC"))},d2xe:function(e,t,a){"use strict";(function(e){var n,r,o=p(a("mvHQ")),i=p(a("fZjL")),l=p(a("Zx67")),s=p(a("kiBT")),c=p(a("OvRC")),u=p(a("pFYg")),d=p(a("C4MV"));function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FastGuide=t.scaleImg=t.getJSApi=t.ShareConfig=t.CustomerService=t.Scroll=t.Totop=t.ShareAndTotop=t.SearchBarA=t.EmptyPageLink=t.EmptyPage=t.TransShady=t.Shady=t.NetError=t.FilterNone=t.SearchNone=t.NoMorePage=t.AllNoMoreOrder=t.NoMoreOrderInfo=t.NoMoreOrder=t.LoadingImg=t.LoadingRound=t.NoMore=void 0;var f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,d.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=A(m),g=a("Zfgq"),v=A(a("rqUH")),y=A(a("4GUf")),_=a("5qLU"),E=a("nztU"),b=A(a("mtWM")),w=(A(a("1H2n")),a("Hl9d")),k=a("f2t5");function A(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,u.default)(t))&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,u.default)(t)));e.prototype=(0,c.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}t.NoMore=function(){return h.default.createElement("div",{className:"no-more c-fs14 c-cc9 c-tc",style:{height:"30px",lineHeight:"30px"}},"别拉了，我是有底线的~")},t.LoadingRound=v.default,t.LoadingImg=function(){return h.default.createElement(v.default,{style:{padding:0}})},t.NoMoreOrder=function(){return h.default.createElement("div",{className:"no-more-order c-tc",style:{paddingTop:"2.8rem",width:"100%"}},h.default.createElement("img",{src:"/src/img/icon/order-menu-icon.png",width:"100",height:"80"}),h.default.createElement("div",{className:"c-fs14 c-cc9",style:{padding:"0.35rem 0"}},"暂无相关订单哦~"))},t.NoMoreOrderInfo=function(){return h.default.createElement("div",{className:"no-more-order c-tc",style:{paddingTop:"2.8rem",width:"100%"}},h.default.createElement("img",{src:"/src/img/icon/order-menu-icon.png",width:"100",height:"80"}),h.default.createElement("div",{className:"c-fs14 c-cc9",style:{padding:"0.35rem 0"}},"暂无订单信息哦~"))},t.AllNoMoreOrder=function(){return h.default.createElement("div",{className:"no-more-order c-tc",style:{paddingTop:"2.8rem",width:"100%"}},h.default.createElement("img",{src:"/src/img/icon/order-menu-icon.png",width:"100",height:"80"}),h.default.createElement("div",{className:"c-fs14 c-cc9",style:{padding:"0.35rem 0"}},"一个订单都还没有哦~"),h.default.createElement("a",{onClick:function(e){e.preventDefault(),(0,w.miniProgramLogin)()},style:{background:"#e60a30",color:"#fff",padding:"0.2rem 1.1rem 0.2rem 1.1rem",fontSize:"0.4rem",borderRadius:"25px",display:"inline-block"}},"去商城逛逛"))},t.NoMorePage=function(e){var t=e.text;return h.default.createElement("div",{className:"no-more-order c-tc",style:{paddingTop:"2.8rem",width:"100%"}},h.default.createElement("img",{src:"/src/img/icon/order-menu-icon.png",width:"100",height:"80"}),h.default.createElement("div",{className:"c-fs14 c-cc9",style:{padding:"0.35rem 0"}},t))},t.SearchNone=function(){return h.default.createElement("div",{className:"c-tc",style:{paddingTop:"80px"}},h.default.createElement("img",{src:"/src/img/search/search-none.png",width:"58",height:"56"}),h.default.createElement("p",{className:"c-fs14 c-mt10"},"抱歉，暂无相关商品"),h.default.createElement("p",{className:"c-cc9"},"换个关键词试试吧~"))},t.FilterNone=function(){return h.default.createElement("div",{className:"c-tc",style:{paddingTop:"80px"}},h.default.createElement("img",{src:"/src/img/search/search-none.png",width:"58",height:"56"}),h.default.createElement("p",{className:"c-fs14 c-mt10"},"没有相关商品"))},t.NetError=function(){return h.default.createElement("div",{className:"c-tc",style:{paddingTop:"50px"}},h.default.createElement("img",{src:"/src/img/search/net-error.png",width:"78",height:"104"}),h.default.createElement("p",{className:"c-cc9"},"网络异常，点击重试~"),h.default.createElement("p",{className:"reload-container"},h.default.createElement("div",{className:"reload-button",onClick:function(){window.location.reload()}},"重新加载")))};var S=t.Shady=function(e){var t=e.options,a=e.clickHandle,n=t&&t.zIndex||100,r=t&&t.bgColor||"#000",o={zIndex:n,opacity:t&&t.opacity||"0.5",background:r,top:0,left:0,position:"fixed",width:"100%",height:"100%"};return h.default.createElement("div",{style:o,onClick:function(e){a&&a()},onTouchMove:function(e){e.preventDefault()}})};t.TransShady=function(e){var t=e.options,n=e.clickHandle,r={zIndex:t&&t.zIndex||105,opacity:.5,background:"transparent",top:0,left:0,position:"fixed",width:"100%",height:"100%"};return h.default.createElement("div",{className:"c-tc",style:r,onTouchStart:function(e){n&&n()},onTouchMove:function(e){e.preventDefault()}},h.default.createElement("img",{src:a("Vi7z"),width:"24",height:"24",style:{position:"absolute",top:"50%",marginTop:"-12px"}}))},t.EmptyPage=function(e){var t=e.config;return h.default.createElement("div",{"data-comp":"empty-page"},h.default.createElement("div",{className:"empty-bg",style:{background:"url("+t.bgImgUrl+") center top no-repeat transparent",backgroundSize:"57px"}},h.default.createElement("p",{className:"c-fs13 c-cc9"},t.msg),t.noBtn?null:h.default.createElement(g.Link,{className:"red-btn",onClick:function(e){e.preventDefault(),t.isH5?g.browserHistory.push(t.link):(0,w.miniProgramLogin)(t.link)}},t.btnText)))},t.EmptyPageLink=function(e){var t=e.config;return h.default.createElement("div",{"data-comp":"empty-page-link"},h.default.createElement("div",{className:"empty-bg",style:{background:"url("+t.bgImgUrl+") center top no-repeat transparent",backgroundSize:"125px 100px"}},h.default.createElement("p",{className:"c-fs13 c-cc9"},t.msg),t.noBtn?null:h.default.createElement("div",{className:t.redBtn?"red-btn":"pink-btn",onClick:t.btnClick},t.btnText)))},t.SearchBarA=function(e){function t(e){N(this,t);var a=x(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.changeHandle=function(e){var t=e.target.value;void 0!==a.props.value?a.props.onChange&&a.props.onChange(t):a.setState({innerValue:t})},a.clearHandle=function(e){a.props.value?a.props.onChange&&a.props.onChange(""):a.setState({innerValue:""})},a.getTerraceHost=function(){var e="m";return navigator.userAgent.indexOf("51gjj")>-1?e="51af-m":"mall"==document.cookie.platform?e="m":"finance"==document.cookie.platform?e="jr-m":document.cookie.origin||(e="wx"),e},a.getLinkByTerrace=function(e){return e&&e.indexOf("tairanmallhost")>-1?e.replace("tairanmallhost",a.getTerraceHost()):e},a.state={innerValue:e.defaultValue},a}return C(t,m.Component),f(t,[{key:"isResultPage",value:function(e){return e.shop||e.coupon_id}},{key:"componentDidMount",value:function(){var e=this.props.isMount;e&&e.call(this)}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.listStyle,r=t.placeHolder,o=t.param,i=this.state.innerValue;return h.default.createElement("form",{"data-comp":"search-bar-a",className:"g-row-flex",onSubmit:function(t){t.preventDefault(),e.refs.search.value.trim()?e.props.onSearch(e.refs.search.value.trim(),null,o):e.props.onSearch(!e.isResultPage(o)&&r?r.word:"",e.getLinkByTerrace(r?r.link:""),o)}},h.default.createElement("label",{className:"g-col-1 search-label",ref:"label"},h.default.createElement("input",{ref:"search",value:void 0!==a?a:i,type:"search",placeholder:o.shop||o.coupon_id?"在结果中搜索":r&&r.word||"搜索：商品 分类 品牌 国家",onChange:this.changeHandle,onFocus:this.props.onFocus,className:"search-input"}),""!==(void 0!==a?a:i)&&h.default.createElement("i",{ref:"clear",onTouchTap:this.clearHandle,className:"close-x-icon"}," "),h.default.createElement("i",{className:"search-icon"}," ")),this.props.changeType?h.default.createElement("div",{className:"change-container",onClick:this.props.changeType},h.default.createElement("i",{className:1==n?"list-style1-icon":"list-style2-icon"}," ")):h.default.createElement("button",{type:"submit",className:"search-btn"},"搜索"))}}]),t}(),t.ShareAndTotop=function(t){function a(){return N(this,a),x(this,(a.__proto__||(0,l.default)(a)).apply(this,arguments))}return C(a,m.Component),f(a,[{key:"componentDidMount",value:function(){var t=e(window),a=(t.height(),e(".toTop")),n=void 0;a.on("click",function(){var e=t.scrollTop();n=setInterval(function(){e-=10,t.scrollTop(e),e<=0&&clearInterval(n)},1)}),t.scroll(function(){e(this).scrollTop()>35?a.show():a.hide()})}},{key:"render",value:function(){return h.default.createElement("div",{className:"share-toTop","data-comp":"share-label"},h.default.createElement("ul",null,h.default.createElement("li",{className:"toTop"})))}}]),a}(),t.Totop=function(t){function a(e){N(this,a);var t=x(this,(a.__proto__||(0,l.default)(a)).call(this,e));return t.state={click:!0},t}return C(a,m.Component),f(a,[{key:"componentDidMount",value:function(){var t=e(window),a=(t.height(),e(".toTop"));a.hide(),t.bind("scroll.scrollfn",function(){e(this).scrollTop()>300?a.show():a.hide()})}},{key:"componentWillUnmount",value:function(){e(window).unbind("scroll.scrollfn")}},{key:"clearTime",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"handleClick",value:function(){var t=this;this.setState({click:!1});var a=e(".toTop"),n=e(window).scrollTop();a.hide(),this.clearTime(),this.timer=setInterval(function(){n-=20,e(window).scrollTop(n),n<=0&&(t.clearTime(),t.setState({click:!0}))},1)}},{key:"render",value:function(){var e=this,t=this.state.click;return h.default.createElement("div",{className:"share-toTop home","data-comp":"share-label"},h.default.createElement("ul",null,h.default.createElement("li",{className:"toTop",onClick:function(){t&&e.handleClick.bind(e)()}})))}}]),a}(),t.Scroll=(r=n=function(e){function t(e){N(this,t);var a=x(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.state={},a._props=a.clone({locked:!1},t.contentsProps,e),a.createMapState(),a}return C(t,m.Component),f(t,[{key:"createMapState",value:function(){var e=this._props.domDown;this.mapState={INIT:{dom:e.domInit,fn:this.getData},REFRESH:{dom:e.domRefresh},LOAD:{dom:e.domLoad,fn:this.getData},NODATA:{dom:e.domNoData}}}},{key:"stateInit",value:function(){this.changeState("INIT")}},{key:"stateRefresh",value:function(){this.changeState("REFRESH")}},{key:"stateLoad",value:function(){this.changeState("LOAD")}},{key:"stateNodata",value:function(){this.changeState("NODATA")}},{key:"unLocked",value:function(e){this._props.locked=!!e}},{key:"clone",value:function(e){var t=this;if(arguments.length<=1||!(arguments.length-1))return e;for(var a=void 0,n=void 0,r=-1;o=++r+1,a=arguments.length<=o?void 0:arguments[o];){var o;(0,i.default)(a).forEach(function(r,o){"Object"==typeof a[r]?(n=e[r]||a[r].length?[]:{},t.clone(n,a[r])):n=a[r],e[r]=n})}return e}},{key:"changeState",value:function(e){var t=this.mapState[e];t.nowState=e,this.setState(t),t.fn&&t.fn.call(this)}},{key:"getData",value:function(){this.unLocked(!0),this.props.getData(this)}}]),f(t,[{key:"componentWillReceiveProps",value:function(e){"INIT"==e.nowState&&this.stateInit()}},{key:"componentWillMount",value:function(){this.changeState(this._props.nowState)}},{key:"componentDidMount",value:function(){this.unmout=this.onMount()}},{key:"componentWillUnmount",value:function(){this.unmout&&this.unmout()}},{key:"onMount",value:function(){var e=this,t=this.refs.anchor,a=this;return a.mount=function(){"NODATA"==a.state.nowState||a._props.locked||window.innerHeight>t.offsetTop-window.scrollY&&a.changeState("LOAD")},this._props.scrollArea.addEventListener("scroll",a.mount),function(){return e._props.scrollArea.removeEventListener("scroll",a.mount)}}},{key:"render",value:function(){var e=this._props.classfix;return h.default.createElement("div",{className:e},this.props.children,h.default.createElement("div",{ref:"anchor",id:"test"},this.state.dom()))}}]),t}(),n.contentsProps={classfix:"scroll-wrap",nowState:"INIT",scrollArea:window,domDown:{domInit:function(){return h.default.createElement("div",{className:"dropload-load"},"初始化中")},domRefresh:function(){return h.default.createElement("div",{className:"dropload-load"},"上拉加载更多")},domLoad:function(){return h.default.createElement("div",{className:"dropload-load"},"加载中")},domNoData:function(){return h.default.createElement("div",{className:"dropload-load"},"别拉了，我是有底线的~")}},getData:function(){}},r),t.CustomerService=function(e){function t(){var e,a,n;N(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=x(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(o))),n.getServiceUrl=function(e,t,a){return _.SERCVICEURL+"?from=chat&queue="+e+"&loginName="+t+"&password=&device=mobile&visit="+a},n.toCustomService=function(){var e={1:3101,2:3201},t=n.props.shopAttr;t=2==t?2:1;var a=sdk?sdk.getDeviceId():"",r=n.getServiceUrl(e[t],a,1),o=(0,E.getCookie)("token");o?b.default.request({url:_.UCENTER+"/user",headers:{Authorization:"Bearer "+o},params:{needPhone:!0}}).then(function(a){var o=a.data;"200"===o.code?location.href=n.getServiceUrl(e[t],o.body.phone,0):location.href=r}).catch(function(e){console.log(e),location.href=r}):location.href=r},x(n,a)}return C(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("a",{className:this.props.className,onClick:this.toCustomService},this.props.children)}}]),t}(),t.ShareConfig=function(e){var t={title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl,type:"",dataUrl:"",success:function(){},cancel:function(){}};wx.ready(function(){wx.onMenuShareTimeline(t),wx.onMenuShareAppMessage(t),wx.onMenuShareQQ(t),wx.onMenuShareQZone(t)})},t.getJSApi=function(e){b.default.request({url:"/wxapi/getJSApi?url="+encodeURIComponent(e)}).then(function(e){var t=e.data;wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),wx.error(function(e){console.log("wx.error",(0,o.default)(e))})}).catch(function(e){console.log(e),y.default.MsgTip({msg:e.response.data.message||"服务器繁忙"})})},t.scaleImg=function(t,a){var n,r,o,i,l=null,s=0,c=!1,u=0,d=0,p=0,f=0,m=0,h=0;t.preventDefault(),i=t.touches[0].pageX,2==t.touches.length&&(u=t.touches[1].pageX,d=Math.abs(i-u),f=e(t.target).width(),e(t.target).height(),m=e(t.target).offset().left,h=e(t.target).offset().top-e(window).scrollTop()),r=i-e(t.target).offset().left,o=t.touches[0].pageY-(e(t.target).offset().top-e(window).scrollTop()),clearTimeout(l),n=s,s=(new Date).getTime();var g=e(t.target),v=g.attr("id");l=setTimeout(function(){s-n>300?(g.css({width:"100%"}),g.parent().parent().parent().parent().css({display:"none"}),c=!1):!1===c?(g.css({width:"200%",left:-r+"px",top:0,margin:0}),c=!0):(g.css({width:"100%",top:0,left:0,right:0,bottom:0,margin:"auto"}),c=!1)},300);var y=document.getElementById(v),_=function(t){if(t.preventDefault(),1==t.targetTouches.length){var a=t.targetTouches[0];c&&(g.css({margin:0}),y.style.left=a.pageX-r+"px",y.style.top=a.pageY-o+"px"),Math.abs(a.pageX-i)>2&&clearTimeout(l)}else if(2==t.targetTouches.length){clearTimeout(l);var n=t.targetTouches[0],s=t.targetTouches[1];p=Math.abs(n.pageX-s.pageX);var u=f+(p-d),v=e(window).width();(u=(u=u>2*v?2*v:u)<v?v:u)>v?(g.css({margin:0}),c=!0):c=!1,g.css({width:u+"px",left:m-(p-d)/2,top:h-(p-d)/2})}};y.addEventListener("touchmove",_,!1),e(y).on("touchend",function(t){y.removeEventListener("touchmove",_,!1),g.width()==e(window).width()&&g.css({width:"100%",top:0,left:0,right:0,bottom:0,margin:"auto"})})},t.FastGuide=function(e){function t(e){N(this,t);var a=x(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.handleButton=function(){a.setState({show:!a.state.show})},a.state={show:!0},a}return C(t,m.Component),f(t,[{key:"render",value:function(){var e=this.state.show,t=this.props.orderPage,a=void 0;return a=t?e?{top:"459px"}:{top:"337"}:e?{top:"459px"}:{top:"283px"},h.default.createElement("div",{"data-comp":"fast-guide"},h.default.createElement("div",{className:"fast-guide",style:a},e?h.default.createElement("img",{className:"guide",src:"/src/img/icon/common/trc_guid.png",onClick:this.handleButton}):h.default.createElement("div",{className:"guide-wraper"},!t&&h.default.createElement("div",null,"我的订单",h.default.createElement("img",{src:"/src/img/icon/common/trc_order.png",onClick:function(){g.browserHistory.push("/tradeList/0")}})),k.hideFlag&&h.default.createElement("div",null,"购物袋",h.default.createElement("img",{src:"/src/img/icon/common/trc_shop_cart.png",onClick:function(){(0,w.miniProgramShopCart)()}})),h.default.createElement("div",null,"首页",h.default.createElement("img",{src:"/src/img/icon/common/trc_home.png",onClick:function(){(0,w.miniProgramMall)()}})),h.default.createElement("div",{className:"close"},h.default.createElement("img",{src:"/src/img/icon/common/trc_close.png",onClick:this.handleButton})))),!e&&h.default.createElement(S,null))}}]),t}()}).call(this,a("OOjC"))},dDPM:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={load:!0,data:"",from:""};t.default=(0,l.default)("addressSelect",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"resetState":return s;case"setFrom":return i({},e,{from:t.from});case"initialDataSuccess":return function(e,t){return i({},e,{load:!1,data:t})}(e,t.result.list);default:return e}},s)},dmKM:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=h(u),p=a("Zfgq"),f=h(a("6KBI")),m=(a("5qLU"),a("Hl9d"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=g(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.replaceUrl=function(e,t){t.preventDefault(),p.browserHistory.replace(e)},g(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"render",value:function(){return d.default.createElement("div",{className:f.default.navigation},d.default.createElement(p.Link,{onClick:function(e){e.preventDefault(),(0,m.miniProgramMall)()},activeClassName:f.default.navActive,className:f.default.navLink},d.default.createElement("div",{className:f.default.navIcon+" "+f.default.navHome}),d.default.createElement("div",{className:f.default.navText},"首页")),d.default.createElement(p.Link,{onClick:function(e){e.preventDefault(),(0,m.miniProgramGroup)()},activeClassName:f.default.navActive,className:f.default.navLink},d.default.createElement("div",{className:f.default.navIcon+" "+f.default.navGroup}),d.default.createElement("div",{className:f.default.navText},"拼团")),d.default.createElement(p.Link,{onClick:function(e){e.preventDefault(),(0,m.miniProgramBags)()},activeClassName:f.default.navActive,className:f.default.navLink},d.default.createElement("div",{className:f.default.navIcon+" "+f.default.navCart}),d.default.createElement("div",{className:f.default.navText,style:{color:"#e60a30"}},"购物袋")),d.default.createElement(p.Link,{onClick:function(e){e.preventDefault(),(0,m.miniProgramMine)()},activeClassName:f.default.navActive,className:f.default.navLink},d.default.createElement("div",{className:f.default.navIcon+" "+f.default.navUser}),d.default.createElement("div",{className:f.default.navText},"我的")))}}]),t}();t.default=v},e2ZG:function(e,t,a){"use strict";(function(e){var n=p(a("mvHQ")),r=p(a("Zx67")),o=p(a("kiBT")),i=p(a("OvRC")),l=p(a("C4MV")),s=p(a("Zzip")),c=p(a("pFYg")),u=p(a("5QVw")),d=p(a("woOf"));function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var f,m,h=d.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g="function"==typeof u.default&&"symbol"===(0,c.default)(s.default)?function(e){return void 0===e?"undefined":(0,c.default)(e)}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":void 0===e?"undefined":(0,c.default)(e)},v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a("U7vG"),_=M(y),E=a("d2xe"),b=a("4n+p"),w=a("Zfgq"),k=a("f2Hk"),A=a("fw66"),N=M(a("lEnC")),x=M(a("qAHI")),C=a("5qLU");a("FQO4");var S=a("6quk");function M(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,c.default)(t))&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}var O=(0,k.concatPageAndType)("invoiceSelect"),D=(0,k.concatPageAndType)("orderConfirm"),L=((0,k.actionAxios)("invoiceSelect"),(0,k.actionAxiosAll)("invoiceSelect"),{common:"NORMAL",tax:"VAT",electron:"ELEC"}),j={common:1,tax:2,electron:3},B={initPage:{url:C.WXAPI+"/user/getUserInvoice",method:"get"},invoiceSave:{url:C.WXAPI+"/user/saveUserInvoice",method:"post"}},R=function(e){function t(e,a){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return P(t,y.Component),v(t,[{key:"componentWillMount",value:function(){this.props.confirmLoad?w.browserHistory.goBack():(this.props.dispatch(D("setOrigin",{origin:"invoice"})),"address"!==this.props.origin?this.props.initialPage():this.props.setOrigin(O("setOrigin",{origin:""})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.winHeight,n=t.invoiceSelData,r=t.invoiceType,o=t.commonInvoice,i=t.commonInvoice_1,l=t.commonInvoice_2,s=t.electronInvoice,c=t.electronInvoice_1,u=t.electronInvoice_2,d=t.taxInvoice,p=t.taxInvoice_1,f=t.taxInvoice_2,m=t.invoiceContent,h=t.showModal,g=t.invoiceNote,v=t.userForm,y=t.addressForinvoice,b=this.props,w=b.changeType,k=b.changeStatus,x=b.modalSelect,C=b.modalCtrl,S=b.changeForm,M=b.selectAddress,T=o.postData.action,I="";if(v&&v.length>0)switch(r){case"common":T=o.postData.action,v.some(function(e){if(1===e.type&&e.action==T)return I=e.invoice_id,!0});break;case"electron":T=s.postData.action,v.some(function(e){if(3===e.type&&e.action==T)return I=e.invoice_id,!0});break;case"tax":T=d.postData.action,v.some(function(e){if(2===e.type&&e.action==T)return I=e.invoice_id,!0});break;default:I=""}return _.default.createElement("div",{"data-page":"invoice-select",style:{background:"#f4f4f4",minHeight:a}},this.props.load?_.default.createElement(E.LoadingRound,null):_.default.createElement("form",{id:"invoiceForm"},this.props.update&&_.default.createElement(N.default,null),_.default.createElement("div",{className:"invoice-note",onClick:function(t){return e.props.popupNote(!0)}}),g&&_.default.createElement(V,{onClose:function(t){return e.props.popupNote(!1)}}),!!I&&_.default.createElement("input",{type:"hidden",name:"id",value:I}),_.default.createElement(U,{data:n,type:r,changeType:w,name:"type"}),"common"===r&&_.default.createElement(F,{data:o,commonInvoiceOne:i,commonInvoiceTwo:l,changeStatus:k.bind(null,"commonInvoice"),modalCtrl:C,modalSelect:x.bind(null,r+"Invoice"),contentList:m,showModal:h,changeForm:S.bind(null,"commonInvoice")}),"electron"===r&&_.default.createElement(H,{data:s,electronInvoiceOne:c,electronInvoiceTwo:u,changeStatus:k.bind(null,"electronInvoice"),modalCtrl:C,modalSelect:x.bind(null,r+"Invoice"),contentList:m,showModal:h,changeForm:S.bind(null,"electronInvoice")}),"tax"===r&&_.default.createElement(q,{data:d,taxInvoiceOne:p,taxInvoiceTwo:f,changeForm:S.bind(null,"taxInvoice"),setOrigin:this.props.setOrigin,selectAddress:M,addressForinvoice:y}),_.default.createElement(K,{formSubmit:this.props.formSubmit})),_.default.createElement(A.PopupTip,{active:this.props.prompt.show,msg:this.props.prompt.msg,onClose:this.props.promptClose}))}}]),t}(),U=function(e){function t(){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return P(t,y.Component),v(t,[{key:"getHtml",value:function(){var e=this,t=this.props,a=t.data,n=t.type;return a.map(function(t,a){return _.default.createElement("span",{onClick:t.able&&e.props.changeType.bind(e,t.type),className:"type-li "+(n===t.type?"active":"")+" "+(t.able?"":"disabled"),key:a},t.text)})}},{key:"getText",value:function(){var e=this.props,t=(e.data,e.type);return"electron"===t?_.default.createElement("div",{className:"bottom"},"电子发票与纸制发票具备同等法律效力，可支持报销入账。"):"tax"===t?_.default.createElement("div",{className:"bottom"},"※ 增值税发票在订单完成后开票。"):void 0}},{key:"render",value:function(){return _.default.createElement("div",{className:"invoice-type"},_.default.createElement("div",{className:"title"},"发票类型"),_.default.createElement("input",{type:"hidden",name:this.props.name,value:j[this.props.type]}),_.default.createElement("div",{className:"body"},this.getHtml()),this.getText())}}]),t}(),F=function(e){function t(){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return P(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.changeStatus,n=e.modalSelect,r=e.modalCtrl,o=e.contentList,i=e.showModal,l=e.changeForm,s=e.commonInvoiceOne,c=e.commonInvoiceTwo,u=1===t.postData.action?s.postData:c.postData;return _.default.createElement("div",{className:"common-invoice"},_.default.createElement(z,{serverData:u,postData:t.postData,inputHolder:"请输入发票抬头",headName:"action",contentName:"title",changeForm:l}),_.default.createElement(G,null),_.default.createElement(W,{modalSelect:n,modalCtrl:r,postData:t.postData,name:"content_option"}),_.default.createElement(Y,{modalSelect:n,list:o,selectId:t.postData.invoice_content,modalCtrl:r,show:i}),2===t.postData.action&&_.default.createElement(J,{serverData:u,data:t.postData,status:t.status,changeStatus:a,changeForm:l}))}}]),t}(),H=function(e){function t(){var e,a,n;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=I(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.hasProperty=function(e){var t=n.props,a=t.data,r=t.electronInvoiceOne,o=t.electronInvoiceTwo,i=(t.changeForm,a.postData),l=1===i.action?r.postData:o.postData;return i[e]?i[e]:l[e]},I(n,a)}return P(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.changeStatus,n=e.modalSelect,r=e.modalCtrl,o=e.contentList,i=e.showModal,l=e.changeForm,s=e.electronInvoiceOne,c=e.electronInvoiceTwo,u=1===t.postData.action?s.postData:c.postData,d=this.hasProperty;return _.default.createElement("div",{className:"electron-invoice"},_.default.createElement("input",{type:"hidden",name:"user_id",value:t.postData.user_id}),_.default.createElement(z,{serverData:u,postData:t.postData,inputHolder:"请输入发票抬头",headName:"action",contentName:"title",changeForm:l}),_.default.createElement(G,null),_.default.createElement(W,{modalSelect:n,modalCtrl:r,postData:t.postData,name:"content_option"}),_.default.createElement(Y,{modalSelect:n,list:o,selectId:t.postData.invoice_content,modalCtrl:r,show:i}),_.default.createElement("div",{className:"receiver-email"},_.default.createElement(Q,{text:"*收票人邮箱",textHolder:"用于接收电子发票",name:"receiver_email",inputValue:d("receiver_email"),inputChange:l.bind(this,"receiver_email"),action:t.postData.action})),2===t.postData.action&&_.default.createElement(J,{serverData:u,data:t.postData,status:t.status,changeStatus:a,changeForm:l}))}}]),t}(),q=function(e){function t(){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return P(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.selectAddress,n=e.setOrigin,r=e.taxInvoiceOne,o=e.taxInvoiceTwo,i=e.addressForinvoice,l=1===t.postData.action?r.postData:o.postData;return _.default.createElement("div",{className:"tax-invoice"},_.default.createElement("input",{type:"hidden",name:"user_id",value:t.postData.user_id}),_.default.createElement("input",{type:"hidden",name:"action",value:"2"}),_.default.createElement(W,{edit:!1,contentText:t.contentText,postData:t.postData,name:"content_option"}),_.default.createElement(X,{changeForm:this.props.changeForm,data:t.postData,serverData:l}),_.default.createElement(Z,{data:t.postData,setOrigin:n,selectAddress:a,addressForinvoice:i}))}}]),t}(),z=function(e){function t(e){T(this,t);var a=I(this,(t.__proto__||(0,r.default)(t)).call(this,e));a.closeChange=function(e){a.setState({showClose:e})},a.inputValueChange=function(e,t,n){a.setState({inputValue:e}),t&&a.props.changeForm("title",e.trim()),n&&a.closeChange(!1)};var n=e.postData.title||(void 0===e.postData.title?e.serverData.title:e.postData.title);return a.state={inputValue:void 0!==n?n:"",showClose:!1},a}return P(t,y.Component),v(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.postData.title||(void 0===e.postData.title?e.serverData.title:e.postData.title);this.setState({inputValue:void 0!==t?t:""})}},{key:"render",value:function(){var e=this,t=this.props,a=t.changeForm,n=t.postData,r=t.headName,o=t.contentName;return _.default.createElement("div",{className:"invoice-header"},_.default.createElement("div",{className:"title"},"*发票抬头"),_.default.createElement("input",{type:"hidden",name:r,value:n.action}),_.default.createElement("div",{className:"check-grid"},_.default.createElement("div",{className:"check-box",onClick:function(e){return a("action",1)}},_.default.createElement("span",{className:"check-icon "+(1===n.action?"check":"")}," ")," 个人"),_.default.createElement("div",{className:"check-box",onClick:function(e){return a("action",2)}},_.default.createElement("span",{className:"check-icon "+(2===n.action?"check":"")}," ")," 单位")),_.default.createElement("label",{className:"input"},_.default.createElement("input",{type:"text",name:o,placeholder:this.props.inputHolder,value:this.state.inputValue,onFocus:function(t){return e.closeChange(!0)},onChange:function(t){return e.inputValueChange(t.target.value)},maxLength:"50",onBlur:function(t){return e.inputValueChange(t.target.value,!0,!0)}}),""!==this.state.inputValue&&this.state.showClose&&_.default.createElement("i",{className:"grey-close-icon",onTouchTap:function(t){return e.inputValueChange("",!0)}}," ")))}}]),t}(),G=function(){return _.default.createElement("div",{className:"divide-line"},_.default.createElement("div",{className:"line"}))},W=(m=f=function(e){function t(){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return P(t,y.Component),v(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"invoice-content g-row-flex"},_.default.createElement("div",{className:"left"},"*发票内容"),_.default.createElement("input",{type:"hidden",name:this.props.name,value:this.props.postData.invoice_content}),_.default.createElement("div",{className:"right g-col-1"},this.props.postData.contentText))}}]),t}(),f.defaultProps={edit:!0},m),J=function(e){function t(){var e,a,n;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=I(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.hasProperty=function(e){var t=n.props,a=t.data,r=t.serverData;t.changeForm;return a[e]?a[e]:r[e]},I(n,a)}return P(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props,t=e.status,a=e.changeStatus,n=e.changeForm,r=this.hasProperty;return _.default.createElement("div",{className:"strip-array"},_.default.createElement(Q,{text:"*纳税人识别码",textHolder:"请输入纳税人识别码",inputValue:r("taxpayer_idNumber"),name:"taxpayer_idNumber",inputChange:n.bind(this,"taxpayer_idNumber")}),_.default.createElement("div",{className:"more-info-grid "+(t.infoMore?"active":"")},_.default.createElement(G,null),_.default.createElement(Q,{text:"注册地址",textHolder:"请输入注册地址",inputValue:r("reg_address"),name:"reg_address",inputChange:n.bind(this,"reg_address"),limitNum:"100"}),_.default.createElement(G,null),_.default.createElement(Q,{text:"注册电话",textHolder:"请输注册电话",inputValue:r("reg_tel"),name:"reg_tel",inputChange:n.bind(this,"reg_tel")}),_.default.createElement(G,null),_.default.createElement(Q,{text:"开户银行",textHolder:"请输入开户银行",inputValue:r("open_bank"),name:"open_bank",inputChange:n.bind(this,"open_bank")}),_.default.createElement(G,null),_.default.createElement(Q,{text:"银行账户",textHolder:"请输入银行账户",inputValue:r("bank_account"),name:"bank_account",inputChange:n.bind(this,"bank_account")})),_.default.createElement(G,null),_.default.createElement("div",{className:"more-info-click",onClick:function(e){return a("infoMore",!t.infoMore)}},"更多单位信息 ",_.default.createElement("i",{className:"arrow-btm-icon "+(t.infoMore?"active":"")}," ")))}}]),t}(),X=function(e){function t(){var e,a,n;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=I(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.hasProperty=function(e){var t=n.props,a=t.data,r=t.serverData;t.changeForm;return a[e]?a[e]:r[e]},I(n,a)}return P(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props,t=e.changeForm,a=(e.data,this.hasProperty);return _.default.createElement("div",{className:"strip-array"},_.default.createElement(Q,{text:"*单位名称",textHolder:"请输入单位名称",inputValue:a("unit_name"),name:"unit_name",inputChange:t.bind(this,"unit_name")}),_.default.createElement(G,null),_.default.createElement(Q,{text:"*纳税人识别码",textHolder:"请输入纳税人识别码",inputValue:a("taxpayer_idNumber"),name:"taxpayer_idNumber",inputChange:t.bind(this,"taxpayer_idNumber"),limitNum:"20"}),_.default.createElement(G,null),_.default.createElement(Q,{text:"*注册地址",textHolder:"请输入注册地址",inputValue:a("reg_address"),name:"reg_address",inputChange:t.bind(this,"reg_address"),limitNum:"100"}),_.default.createElement(G,null),_.default.createElement(Q,{text:"*注册电话",textHolder:"请输注册电话",inputValue:a("reg_tel"),name:"reg_tel",inputChange:t.bind(this,"reg_tel"),limitNum:"20"}),_.default.createElement(G,null),_.default.createElement(Q,{text:"*开户银行",textHolder:"请输入开户银行",inputValue:a("open_bank"),name:"open_bank",inputChange:t.bind(this,"open_bank")}),_.default.createElement(G,null),_.default.createElement(Q,{text:"*银行账户",textHolder:"请输入银行账户",inputValue:a("bank_account"),name:"bank_account",inputChange:t.bind(this,"bank_account")}))}}]),t}(),Q=function(e){function t(){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return P(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.limitNum,n=e.textHolder,r=e.inputChange,o=e.inputValue,i=e.name,l=e.action;return _.default.createElement("div",{className:"one-strip g-row-flex",key:i+"_"+l},_.default.createElement("div",{className:"left"},t),_.default.createElement("div",{className:"right g-col-1"},_.default.createElement("input",{type:"text",name:i,maxLength:a||50,placeholder:n||"",onBlur:function(e){return r&&r(e.target.value)},defaultValue:o})))}}]),t}(),Z=function(e){function t(){var e,a,n;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=I(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.toSelect=function(){n.props.setOrigin("address");var e=n.props.data,t=e.receiver_address,a=e.receiver_name,r=e.receiver_region,o=e.receiver_tel,i=2;t&&a&&r&&o&&(i=1),w.browserHistory.push("/goodsReceiveInfo/addressManage?from="+i+"&name=invoice")},I(n,a)}return P(t,y.Component),v(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.addressForinvoice,r=t.receiver_address&&t.receiver_region&&t.receiver_tel&&t.receiver_name,o=t.receiver_region?JSON.parse(t.receiver_region):"",i=t.receiver_address,l=t.receiver_tel,s=t.receiver_name;return a&&(i=a.address,l=a.mobile,s=a.name,o=a.area?a.area:""),_.default.createElement("div",{className:"invoice-address"},_.default.createElement("div",{className:"top"},"*收票地址"),r?_.default.createElement("div",null,_.default.createElement("input",{type:"hidden",name:"receiver_region",value:(0,n.default)(o)}),_.default.createElement("input",{type:"hidden",name:"receiver_address",value:i}),_.default.createElement("input",{type:"hidden",name:"receiver_tel",value:l}),_.default.createElement("input",{type:"hidden",name:"receiver_name",value:s})):"",_.default.createElement(G,null),_.default.createElement("div",{onClick:this.toSelect,className:"address-select g-row-flex g-col-mid g-col-ctr"},_.default.createElement("div",{className:"left-icon"},_.default.createElement("i",{className:"location-address-icon"}," ")),r?_.default.createElement("div",{className:"content-text g-col-1"},_.default.createElement("div",{className:"text-top g-row-flex"},_.default.createElement("span",{className:"g-col-1"},"收货人：",s),_.default.createElement("span",{className:"user-phone"},l)),_.default.createElement("div",{className:"text-bottom"},"收货地址：",(o.city&&o.city.text?o.city.text:"")+"  "+(o.province&&o.province.text?o.province.text:"")+"  "+i)):_.default.createElement("div",{className:"g-col-1 c-fs15"},"请填写收货地址"),_.default.createElement("div",{className:"right-icon"},_.default.createElement("i",{className:"arrow-right-icon"}," "))))}}]),t}(),Y=function(e){function t(){var e,a,n;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=I(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(i))),n.getList=function(){return[{text:"明细",content_id:1}].map(function(e,t){return _.default.createElement("div",{className:"select-li g-row-flex",key:t,onClick:n.props.modalSelect.bind(null,e)},_.default.createElement("div",{className:"left g-col-1"},e.text),_.default.createElement("div",{className:"right"},_.default.createElement("span",{className:"check-icon "+(n.props.selectId===e.content_id?"check":"")}," ")))})},I(n,a)}return P(t,y.Component),v(t,[{key:"render",value:function(){return _.default.createElement("div",{onClick:this.props.modalCtrl.bind(null,!1)},this.props.show&&_.default.createElement(E.Shady,null),_.default.createElement("div",{className:"modal-select "+(this.props.show?"active":""),onClick:function(e){return e.stopPropagation()}},_.default.createElement("div",{className:"title"},"发票内容"),_.default.createElement("div",{className:"select-list"},this.getList()),_.default.createElement("div",{className:"coupon-btm",onClick:this.props.modalCtrl.bind(null,!1)},_.default.createElement("div",{className:"close-btn"},"关闭"))))}}]),t}(),K=function(e){function t(){return T(this,t),I(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return P(t,y.Component),v(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"submit-btn"},_.default.createElement("div",{className:"red-btn",onClick:this.props.formSubmit},"确认"))}}]),t}(),V=function(t){function a(){return T(this,a),I(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return P(a,y.Component),v(a,[{key:"componentDidMount",value:function(){e("html,body").css({height:"100%",overflowY:"hidden"})}},{key:"componentWillUnmount",value:function(){e("html,body").css({height:"",overflowY:""})}},{key:"render",value:function(){return _.default.createElement("div",{onClick:this.props.onClose},_.default.createElement(E.Shady,{option:{zIndex:108}}),_.default.createElement("div",{className:"note-popup"},_.default.createElement("div",{className:"popup-body",onClick:function(e){e.stopPropagation()}},_.default.createElement("h3",null,_.default.createElement("p",null,"发票须知")),_.default.createElement("div",{className:"list"},_.default.createElement("p",null,"1、使用活动赠送的小泰e卡（活动卡）支付的订单不支持开具发票；"),_.default.createElement("p",null,"2、跨境保税、海外直邮商品属于跨境海外商品，不支持开具国内发票；"),_.default.createElement("p",null,"3、如选择公司抬头的发票需提供纳税人识别号；"),_.default.createElement("p",null,"4、电子普通发票的法律效力、基本用途及使用规定同纸质普通发票，可用于报销入账、售后维权等。如需纸质发票可自行下载打印。"))),_.default.createElement("div",{className:"popup-bottom"},_.default.createElement("i",{className:"close-l-x-icon"}," "))))}}]),a}(),$={checkObject:function(e,t,a){var n={status:!0,msg:""},r=a[a.invoiceType+"Invoice_"+e.action].postData;return t.every(function(t,a){if(!t.validate||(""===e[t.key]||void 0===e[t.key])&&!t.require)return n;if(void 0===e[t.key]){if(!t.validate(r[t.key],t.require))return n={status:!1,msg:t.msg},!1}else if(!t.validate(e[t.key],t.require))return n={status:!1,msg:t.msg},!1;return!0}),n},isEmpty:function(e){return void 0!==e&&""!==e.trim()},telCheck:function(e,t){return(""!==(e=void 0!==e?e.trim():"")||!t)&&!!/^[0-9\-]+$/g.test(e)},character:function(e){},characterNum:function(e,t){return(""!==(e=void 0!==e?e.trim():"")||!t)&&!!/^[\u4e00-\u9fa5|0-9]+$/g.test(e)},numberCheck:function(e,t){return(""!==(e=void 0!==e?e.trim():"")||!t)&&!!/^[0-9]+$/g.test(e)},emailCheck:function(e){return!!/^([a-zA-Z0-9_\.\-])+\@[a-zA-Z0-9\-]+\.com$/g.test(e)},isObject:function(e){return"object"===(void 0===e?"undefined":g(e))&&null!==e}},ee={common:{1:[{key:"invoice_name1",validate:$.isEmpty,require:!0,msg:"请输入发票抬头"}],2:[{key:"title",validate:$.isEmpty,require:!0,msg:"请输入发票抬头"},{key:"taxpayer_idNumber",validate:$.isEmpty,require:!0,msg:"请输入纳税人识别码"},{key:"reg_address",validate:"",require:!1,msg:"请输入正确的地址"},{key:"reg_tel",validate:$.telCheck,require:!1,msg:"请填写正确的注册电话"},{key:"open_bank",validate:$.characterNum,require:!1,msg:"请填写正确的开户银行"},{key:"bank_account",validate:$.numberCheck,require:!1,msg:"请填写正确的银行账户"}]},electron:{1:[{key:"invoice_name1",validate:$.isEmpty,require:!0,msg:"请输入发票抬头"},{key:"receiver_email",validate:$.emailCheck,require:!0,msg:"请填写正确的收票人邮箱"}],2:[{key:"title",validate:$.isEmpty,require:!0,msg:"请输入发票抬头"},{key:"receiver_email",validate:$.emailCheck,require:!0,msg:"请填写正确的收票人邮箱"},{key:"taxpayer_idNumber",validate:$.isEmpty,require:!0,msg:"请输入纳税人识别码"},{key:"reg_address",validate:"",require:!1,msg:"请输入正确的地址"},{key:"reg_tel",validate:$.telCheck,require:!1,msg:"请填写正确的注册电话"},{key:"open_bank",validate:$.characterNum,require:!1,msg:"请填写正确的开户银行"},{key:"bank_account",validate:$.numberCheck,require:!1,msg:"请填写正确的银行账户"}]},tax:[{key:"unit_name",validate:$.isEmpty,require:!0,msg:"请输入单位名称"},{key:"taxpayer_idNumber",validate:$.isEmpty,require:!0,msg:"请输入纳税人识别码"},{key:"reg_address",validate:$.isEmpty,require:!0,msg:"请输入注册地址"},{key:"reg_tel",validate:$.telCheck,require:!0,msg:"请输入正确的电话"},{key:"open_bank",validate:$.isEmpty,require:!0,msg:"请输入正确的银行名称"},{key:"bank_account",validate:$.numberCheck,require:!0,msg:"请输入正确的账户"},{key:"receiver_address",validate:$.isEmpty,require:!0,msg:"请选择收票地址"},{key:"receiver_name",validate:$.isEmpty,require:!0,msg:"请选择收票地址"},{key:"receiver_region",validate:$.isEmpty,require:!0,msg:"请选择收票地址"},{key:"receiver_tel",validate:$.isEmpty,require:!0,msg:"请选择收票地址"}]};t.default=(0,b.connect)(function(e,t){return h({},e.global,e.invoiceSelect,{confirmLoad:e.orderConfirm.load,addressForinvoice:e.orderConfirm.newAddressForinvoice})},function(e,t){var a=t.location.query,n=a.shop_ids,r=a.invoice,o=a.action;return n=n.split(","),{dispatch:e,setOrigin:function(t){e(O("setOrigin",{origin:t}))},promptClose:function(){e(O("ctrlPrompt",{prompt:{show:!1,msg:""}}))},changeType:function(t){e(O("changeType",{invoiceType:t}))},changeStatus:function(t,a,n){e(O("changeStatus",{invoiceType:t,key:a,value:n}))},modalCtrl:function(t){e(O("modalCtrl",{status:t}))},modalSelect:function(t,a){e(O("modalSelect",{selectType:t,obj:a})),e(O("modalCtrl",{status:!1}))},changeForm:function(t,a,n){e(O("changeForm",{mode:t,name:a,value:n}))},selectAddress:function(t){e(O("selectAddress",{data:t}))},popupNote:function(t){e(O("popupNote",{status:t}))},initialPage:function(){e(D("setOrigin",{origin:"invoice"})),e(O("updateState")),x.default.request(h({},B.initPage,{params:{shop_id:n}})).then(function(t){e(O("initialPage",{data:t.data,invoice:r,action:+o}))}).catch(function(e){S.tip.show({msg:e.message||e.response.data.message||"小泰发生错误，请稍后再试~"}),console.error(e)})}}},function(t,a,n){var r=!1,o=a.dispatch;return h({},t,a,n,{formSubmit:function(){if(!r){r=!0;var a=t[t.invoiceType+"Invoice"].postData,n={status:!0,msg:""};if(!(n="tax"===t.invoiceType?$.checkObject(a,ee[t.invoiceType],t):$.checkObject(a,ee[t.invoiceType][a.action],t)).status)return o(O("ctrlPrompt",{prompt:{show:!0,msg:n.msg}})),void(r=!1);x.default.request(h({},B.invoiceSave,{data:e("#invoiceForm").serialize()})).then(function(e){r=!1;var n=e.data;if(0===n.code){var i=t[t.invoiceType+"Invoice"].postData,l=t.invoiceType,s=t[l+"Invoice_"+a.action].postData;o(D("selectInvoice",{invoice:L[t.invoiceType],action:i.action,unitName:void 0===i.unit_name?s.unit_name:i.unit_name,invoiceName:void 0===i.title?s.title:i.title,id:n.data.invoice.result})),w.browserHistory.goBack()}else o(O("ctrlPrompt",{prompt:{show:!0,msg:n.message}}))}).catch(function(e){S.tip.show({msg:e.response.data.message||e.message||"小泰发生错误，请稍后再试~"})})}}})})(R)}).call(this,a("OOjC"))},eLDH:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={load:!0,list:[],disTop:0,eachList:[],defaultId:0,pages:{},hasMore:!0,gettingMore:!1,isReturn:!1,countCart:0};t.default=(0,l.default)("topic",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"initSuccess":return(0,o.default)({},i({},e),function(e,t){var a=e.data.list,n=e.data.list[0].id;return i({},t,{load:!1,list:a,defaultId:n})}(t.result,e));case"saveTop":return(0,o.default)({},i({},e),{disTop:t.value});case"changeReturn":return(0,o.default)({},i({},e),{isReturn:t.value});case"changeGettingMore":return(0,o.default)({},i({},e),{gettingMore:t.value});case"getDefaultId":return(0,o.default)({},i({},e),{defaultId:t.value});case"getEachListSuccess":return(0,o.default)({},i({},e),function(e,t){var a=e.data.list,n=e.data.list[0].id,r=e.data.list[0].item_list,o=e.data.pages,l=o.current<o.total;return i({},t,{list:a,load:!1,eachList:r,pages:o,hasMore:l,defaultId:n})}(t.result,e));case"addEachListSuccess":return(0,o.default)({},i({},e),function(e,t){var a=t.eachList.concat(e.data.list[0].item_list),n=e.data.pages,r=n.current!==n.total;return i({},t,{eachList:a,gettingMore:!1,pages:n,hasMore:r})}(t.result,e));case"getCartCountSuccess":return(0,o.default)({},i({},e),function(e,t){var a=e.data.count;return i({},t,{countCart:a})}(t.result,e));default:return e}},s)},eadN:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=c(a("BYKG"));a("Zfgq");function c(e){return e&&e.__esModule?e:{default:e}}var u={navList:[{text:"全部",status:0,url:"/groupList/0"},{text:"拼团中",status:1,url:"/groupList/1"},{text:"拼团成功",status:2,url:"/groupList/2"},{text:"拼团失败",status:3,url:"/groupList/3"}],list:{4:{load:!0,data:"",page:1,total:1e3},1:{load:!0,data:"",page:1,total:1e3},2:{load:!0,data:"",page:1,total:1e3},0:{load:!0,data:"",page:1,total:1e3}},prompt:{show:!1,msg:""},request:!1};t.default=(0,l.default)("groupList",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"resetData":return u;case"getDataLoad":return function(e,t){var a=s.default.fromJS(e);return(a=a.setIn(["list",t.toString()],{load:!0,data:"",page:1,total:1e3})).toJS()}(e,t.cbData.type);case"getDataSuccess":return function(e,t,a){var n=s.default.fromJS(e);return(n=(n=(n=(n=n.setIn(["list",a.type,"load"],!1)).setIn(["list",a.type,"page"],Number(a.pages))).setIn(["list",a.type,"total"],t.data.group.total_count)).setIn(["list",a.type,"data"],t.data.group.data)).toJS()}(e,t.result,t.cbData);case"concatDataSuccess":return function(e,t,a,n){var r=s.default.fromJS(e),o=r.getIn(["list",a.toString(),"data"]).toJS().concat(t.data.group.data);return(r=(r=(r=r.setIn(["list",a.toString(),"page"],Number(n))).setIn(["list",a.toString(),"total"],t.data.group.total_count)).setIn(["list",a.toString(),"data"],o)).toJS()}(e,t.result,t.dataType,t.page);case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});default:return e}},u)},ejFx:function(e,t,a){},"f+hS":function(e,t,a){"use strict";var n=i(a("fZjL")),r=i(a("woOf")),o=i(a("C4MV"));function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Prompt=t.Modal=void 0;var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=d(a("U7vG")),u=d(a("O27J"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Modal=function e(t){var a=this;p(this,e),this.show=function(e){return u.default.render(c.default.createElement(a.component,s({},e,{destroy:a.destroy})),a.node),document.body.appendChild(a.node),a.isMount=!0,a.node},this.destroy=function(){a.isMount&&(u.default.unmountComponentAtNode(a.node),document.body.removeChild(a.node),a.isMount=!1)},this.component=t,this.isMount=!1,this.node=document.createElement("div")};var f=0;t.Prompt=function(){function e(t){var a=this;p(this,e),this._destroy=function(e){e in a.promptManage&&(u.default.unmountComponentAtNode(a.promptManage[e]),document.body.removeChild(a.promptManage[e]),delete a.promptManage[e])},this.destroy=function(){var e=(0,n.default)(a.promptManage);e.length&&e.forEach(function(e){u.default.unmountComponentAtNode(a.promptManage[e]),document.body.removeChild(a.promptManage[e]),delete a.promptManage[e]})},this.component=t,this.promptManage={}}return l(e,[{key:"show",value:function(e){var t=document.createElement("div"),a=++f;u.default.render(c.default.createElement(this.component,s({},e,{destroy:this._destroy.bind(this,"prompt_"+a)})),t),document.body.appendChild(t),this.promptManage["prompt_"+a]=t}}]),e}()},f2Hk:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0}),t.popupActions=void 0;var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.concatPageAndType=s,t.actionAxios=function(e){var t=s(e);return function(e,a,n){return function(r){return r(t(e+"Load",{cbData:n})),l.default.request(i({},a)).then(function(a){r(t(e+"Success",{result:a.data,cbData:n}))}).catch(function(a){r(t(e+"Error",{error:a})),console.error(a)})}}},t.actionAxiosAll=function(e){var t=s(e);return function(e,a,n){return function(r){r(t(e+"Load",n));var o=a.map(function(e,t){return l.default.request(e)});return l.default.all(o).then(function(a){r(t(e+"Success",{result:a,cbData:n}))}).catch(function(a){r(t(e+"Error",{error:a})),console.error(a)})}}};var l=function(e){return e&&e.__esModule?e:{default:e}}(a("mtWM"));function s(e){return function(t,a){return i({type:e+"_"+t},a)}}t.popupActions=s("popup")},f2t5:function(e,t,a){"use strict";(function(e){var n=o(a("mvHQ")),r=o(a("fZjL"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hideFlag=t.dateFormat=t.platform=t.URL=t.scrollTo=t.timeCtrl=t.dateUtil=void 0,t.each=l,t.wrap=function(e,t){return function(){for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return n.unshift(e),t.apply(this,n)}},t.filter=function(e){if("function"==typeof e)return function(t){var a=[];return l(t,function(t,n){!0===e(t,n)&&a.push(n)}),a};return null==e?function(){}:function(t){return e[t]}},t.subArray=function(e,t){return e.slice(0,t)},t.truncateByte=function(e,t,a){if(t=t||60,a=void 0===a?"...":a,e.replace(/[^A-Z\x00-\xff]/g,"**").length>t){for(var n=0,r=0;r<t;r++)if(e.charCodeAt(r)>255?n+=2:n+=1,n>=t){e=e.slice(0,r+1-a.length/2)+a;break}return e}return e+""},t.base64encode=d,t.utf16to8=p,t.base64Utf8=function(e){return d(p((0,n.default)(e)))},t.judgeIphoneX=function(){return/iphone/gi.test(navigator.userAgent)&&812===screen.height&&375===screen.width},t.redirectURL=function(e,t){var a=window.location.origin+e,n=/^(wx|jr-m|51af-m|kdaf-m|m)\.tairanmall.com/.test(window.location.host),r=void 0;r=(t=Boolean(t))||/ncwxapp.tairanmall.com/.test(window.location.host)?m.ncwxapp+e:(h.wx?m.wx:h.mall?m.mall:h.finance?m.jr:h.is51?m[51]:h.iskd?m.kd:n?m.wx:window.location.origin)+e;a!==r&&window.location.replace(r)},t.addImageSuffix=function(e,t){return e=/image.tairanmall.com\//.test(e)?e+t+".jpg":e},t.handleId=function(e){return e.slice(0,4)+"************"+e.substr(e.length-4,4)},t.TransferTime=function(e){};var i=a("qeJi");function l(e,t){var a=void 0,n=void 0;if(Array.isArray(e))e.forEach(function(a,n){return t(n,a,e)});else{var o=(0,r.default)(e);for(a=0,n=o.length;a<n;a++)t(o[a],e[o[a]],e)}return e}var s=t.dateUtil={formatNum:function(e){return e<10?"0"+e:e},parse:function(e,t){if(void 0===e)return null;if("string"==typeof t){new Date(t);var a=t.replace(/[^ymd]/g,"").split("");if(!a&&3!=a.length)return null;t=t.replace(/y|m|d/g,function(e){switch(e){case"y":return"(\\d{4})";case"m":case"d":return"(\\d{1,2})"}});for(var n=new RegExp(t,"g").exec(e),r={},o=0,i=a.length;o<i;o++)r[a[o]]=n[o+1];return new Date(r.y,r.m-1,r.d)}return null},format:function(e,t){return e?(2==arguments.length&&"boolean"==typeof t&&(t=e,e=new Date),e.getTime||(e=new Date(parseInt(e))),"string"!=typeof t&&(t="Y年M月D日 H时F分S秒"),t.replace(/Y|y|M|m|D|d|H|h|F|f|S|s/g,function(t){switch(t){case"y":return(e.getFullYear()+"").slice(2);case"Y":return e.getFullYear();case"m":return e.getMonth()+1;case"M":return s.formatNum(e.getMonth()+1);case"d":return e.getDate();case"D":return s.formatNum(e.getDate());case"h":return e.getHours();case"H":return s.formatNum(e.getHours());case"f":return e.getMinutes();case"F":return s.formatNum(e.getMinutes());case"s":return e.getSeconds();case"S":return s.formatNum(e.getSeconds())}})):null}},c=t.timeCtrl={formatTime:function(e){var t=c.formatOneNum(parseInt(e/3600));return t+":"+c.formatOneNum(parseInt((e-3600*t)/60))+":"+c.formatOneNum(e%60)},formatOneNum:function(e){return e<10?"0"+e:e},formatTextTime:function(e){var t=parseInt(e/3600/24);return(t=t<10?"0"+t:t)+"天"+c.formatOneNum(parseInt(e/3600%24))+"时"+c.formatOneNum(parseInt(e/60%60))+"分"+c.formatOneNum(e%60)+"秒"}};t.scrollTo=function(t,a){if(!(t<0))var n=e(window).scrollTop(),r=(n>t?n-t:t-n)/a,o=setInterval(function(){n>t?(n-=r)<=t?(clearInterval(o),e(window).scrollTop(t)):e(window).scrollTop(n):(n+=r)>=t?(clearInterval(o),e(window).scrollTop(t)):e(window).scrollTop(n)},1)};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function d(e){var t,a,n,r,o,i;for(n=e.length,a=0,t="";a<n;){if(r=255&e.charCodeAt(a++),a==n){t+=u.charAt(r>>2),t+=u.charAt((3&r)<<4),t+="==";break}if(o=e.charCodeAt(a++),a==n){t+=u.charAt(r>>2),t+=u.charAt((3&r)<<4|(240&o)>>4),t+=u.charAt((15&o)<<2),t+="=";break}i=e.charCodeAt(a++),t+=u.charAt(r>>2),t+=u.charAt((3&r)<<4|(240&o)>>4),t+=u.charAt((15&o)<<2|(192&i)>>6),t+=u.charAt(63&i)}return t}function p(e){var t,a,n,r;for(t="",n=e.length,a=0;a<n;a++)(r=e.charCodeAt(a))>=1&&r<=127?t+=e.charAt(a):r>2047?(t+=String.fromCharCode(224|r>>12&15),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|r>>0&63)):(t+=String.fromCharCode(192|r>>6&31),t+=String.fromCharCode(128|r>>0&63));return t}function f(e){for(var t,a={},n=document.cookie.split(";"),r=0;t=n[r++];){var o=t.split("=");a[o[0]&&o[0].trim()]=o[1]}return a[e]}var m=t.URL={wx:window.location.protocol+"//wx.tairanmall.com",jr:window.location.protocol+"//jr-m.tairanmall.com",51:window.location.protocol+"//51af-m.tairanmall.com",kd:window.location.protocol+"//kdaf-m.tairanmall.com",mall:window.location.protocol+"//m.tairanmall.com",ncwxapp:"https://ncwxapp.tairanmall.com"},h=t.platform={wx:i.browser.versions.weixin,mall:"mall"===f("platform"),finance:"finance"===f("platform"),is51:/51gjj|51Gjj|51jiekuan|51shebao|51ishebao/i.test(navigator.userAgent),iskd:/pocketwallet/i.test(navigator.userAgent),isApp:!!f("origin")};var g,v;t.dateFormat=(g=function(e){return("0"+e).slice(-2)},v={yyyy:function(e){return""+e.getFullYear()},MM:function(e){return g(e.getMonth()+1)},dd:function(e){return g(e.getDate())},HH:function(e){return g(e.getHours())},mm:function(e){return g(e.getMinutes())},ss:function(e){return g(e.getSeconds())}},function(e,t){return null==e?"":"number"!=typeof e&&"string"!=typeof e||(e=new Date(e.replace(/T/," ").replace(/-/g,"/").replace(/.000/," GMT")),!isNaN(e.valueOf()))?(t=t||"yyyy-MM-dd HH:mm:ss",(0,r.default)(v).forEach(function(a){t=t.replace(new RegExp(a,"g"),v[a].bind(null,e))}),t):null});t.hideFlag=!1}).call(this,a("OOjC"))},f6Rb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAAgVBMVEUAAAC7Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh27Bh0TU65WAAAAKnRSTlMAu8xL+7TyIBfqsHvQLffcnGJeWk89FO6gdDglDQfmulXEq6GPgUMyA29D3FSHAAABM0lEQVQ4y4XT15qDIBAF4FEREI29xLYpm7bz/g+4m4CUbBL/G24OevgGwNKWuR+laeTnZQuvDIKgRsQAz1iITwQDx57iP3QPlhhfip3ESqbCtyrVlOJbVHYO8YMQ/jToCBg6Gusj4c67u/DHshMoCQBOlu3gCFAiHApUMt+RoVLCFldswdfdPYc+pw8Rfu6CEZC1LgQIrkjNj4TnEKh8QbLWxTeHTjyH3voNBa4ozACKgdBNrEvu9ADMGIMNYj9nsuKZB9ZtaKxI117uBcv5Vh+sywDhEnl0Ox0bmH4y50oB65aIvKzjieKiY/BQW5F0mBI09s4jqTdyaiM3mR60HhHLUU32Oh3NMzIqiudZVaA1VJ1cHUwkkKOSc56TkMGz69jqEjS+TfDS3B++SBr526IF4xd5QHFbIXQuYQAAAABJRU5ErkJggg=="},f831:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=A(p),m=a("Zfgq"),h=a("d2xe"),g=a("4n+p"),v=A(a("TQvf")),y=(a("qeJi"),a("f2Hk")),_=a("NUeF"),E=a("5qLU"),b=(a("f2t5"),A(a("4GUf"))),w=A(a("qAHI")),k=a("Q2t0");function A(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var S={init:{url:E.WXAPI+"/user/sold/info",method:"get"},logistics:{url:E.WXAPI+"/user/sold/send",method:"post"}},M=(0,y.concatPageAndType)("afterSaleDetail"),T=(0,y.actionAxios)("afterSaleDetail"),I=function(t){function a(){var t,r,o;N(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=x(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.handelBtn=function(){var t=o.props,a=t.companycode,n=t.dispatch;e("#logiCode").val(e("#logiCode").val().replace(/[^a-zA-Z0-9]/g,""));var r=e("#logiCode").val();a&&r&&r.length>=6?n(M("changebtnFlag",{btnFlag:!1})):n(M("changebtnFlag",{btnFlag:!0}))},x(o,r)}return C(a,p.Component),d(a,[{key:"componentWillMount",value:function(){this.props.resetData(),this.props.getData()}},{key:"render",value:function(){if(this.props.load)return f.default.createElement(h.LoadingRound,null);var e=this.props,t=e.companyname,a=void 0===t?"":t,n=e.companycode,r=void 0===n?"":n,o=e.corpid,i=void 0===o?"":o,l=e.data;return f.default.createElement("div",{"data-page":"after-sale-detail"},f.default.createElement(O,{data:l}),l.status>10&&f.default.createElement(U,{data:l}),40==l.status&&f.default.createElement(B,{data:l,handelBtn:this.handelBtn,corpid:i,companyname:a,companycode:r}),!!l.nod_remark&&f.default.createElement(D,{data:l}),f.default.createElement(j,{data:l}),f.default.createElement(L,{bn:l.bn}),f.default.createElement(R,{data:l}),f.default.createElement("div",{className:"bottom-blank"}),40==l.status&&f.default.createElement(P,this.props))}}]),a}(),P=function(t){function a(){var t,r,o;N(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=x(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.sublogMsg=function(){var t=o.props,a=t.data,n=t.companyname,r=t.corpid,i=a.bn,l=e("#logiCode").val();w.default.request(u({},S.logistics,{data:{after_sale_bn:i,delivery:{corp_name:n,delivery_no:l,corp_id:r}}})).then(function(e){b.default.MsgTip({msg:"保存成功"}),setTimeout(function(){m.browserHistory.push("/afterSale/list")},1e3)}).catch(function(e){b.default.MsgTip({msg:"服务器繁忙"})})},x(o,r)}return C(a,p.Component),d(a,[{key:"render",value:function(){var e=this.props.btnFlag;return f.default.createElement("div",{className:"subLoginbtn"},f.default.createElement("button",{className:e?"btm-btn":"btm-btn  colour-btn",onClick:this.sublogMsg,disabled:e},"提交"))}}]),a}(),O=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data,t=e.status,a=e.extra,n=e.now;return f.default.createElement("div",{className:"afterstatus"},f.default.createElement("div",{className:"after-step"},_.asProcess[t]),f.default.createElement("div",{className:"after-remind"},_.asReminder[t]),40==t&&a&&f.default.createElement("div",{className:"remind-logic"},f.default.createElement(k.LogicBlock,{timeout:a.delivery_due,now:n}),f.default.createElement("span",null,"逾期未填写物流信息将自动关闭售后申请")))}}]),t}(),D=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data,t=e.shop.attr,a=e.nod_remark;return f.default.createElement("div",{className:"info-stroe"},f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",{className:"c-pr"},"商家留言",f.default.createElement(h.CustomerService,{className:"save",shopAttr:t},f.default.createElement("button",{className:"c-pa server"}))),f.default.createElement("div",{className:"text"},a)))}}]),t}(),L=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.bn;return f.default.createElement("div",{className:"info-stroe"},f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",{className:"c-pr"},"协商记录",f.default.createElement(m.Link,{to:"/afterSale/consultrecord?oid="+e},f.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-m-icon.png",width:"10",height:"15"})))))}}]),t}(),j=function(e){var t=e.data;return f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",null,"售后信息"),f.default.createElement("div",{className:"list"},f.default.createElement("div",{className:"left"},"售后单号："),f.default.createElement("div",{className:"right"},t.bn)),f.default.createElement("div",{className:"list"},f.default.createElement("div",{className:"left"},"申请时间："),f.default.createElement("div",{className:"right"},t.created_at)),f.default.createElement("div",{className:"list"},f.default.createElement("div",{className:"left"},"售后类型："),f.default.createElement("div",{className:"right"},_.asTypes[t.type])),f.default.createElement("div",{className:"list"},f.default.createElement("div",{className:"left"},"退款金额："),f.default.createElement("div",{className:"right amount"},"¥",t.refund_amount?(+t.refund_amount).toFixed(2):(+t.apply_amount).toFixed(2))))},B=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=(e.data,e.companyname),a=e.handelBtn;return f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",null,"退货物流信息"),f.default.createElement("div",null,f.default.createElement("div",{className:"logic logic-company"},f.default.createElement("span",null,"物流公司："),f.default.createElement("input",{type:"text",placeholder:"请选择",maxLength:"20",defaultValue:t,disabled:!0}),f.default.createElement(m.Link,{to:"/afterSale/logicompany"},f.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-m-icon.png",width:"10"}))),f.default.createElement("div",{className:"logic logic-order"},f.default.createElement("span",null,"物流单号："),f.default.createElement("input",{type:"text",id:"logiCode",placeholder:"请填写物流单号",onChange:function(){a()},maxLength:"20"}))))}}]),t}(),R=function(e){function t(e){N(this,t);var a=x(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.showBigPicture=function(e){a.setState({imgSrc:e.target.src,bigShow:!0})},a.hideBigPicture=function(){a.setState({imgSrc:"",bigShow:!1})},a.state={imgSrc:"",bigShow:!1},a}return C(t,p.Component),d(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=[];return t.images&&(a=t.images),f.default.createElement("div",{className:"info-detail"},f.default.createElement("div",{className:"detail-explain"},f.default.createElement("h3",null,"问题描述"),f.default.createElement("div",{className:"text"},"退款原因 ：",t.reason),!!t.user_remark&&f.default.createElement("div",{className:"text"},"详细描述：",t.user_remark),t.images?f.default.createElement("div",{className:"img"},a.map(function(t,a){return f.default.createElement("img",{src:t,key:a,width:"75",height:"75",onClick:e.showBigPicture})})):""),a&&this.state.bigShow?f.default.createElement("div",null,f.default.createElement(h.Shady,{clickHandle:this.hideBigPicture}),f.default.createElement("div",{onClick:this.hideBigPicture,className:"big-picture"},f.default.createElement("img",{src:this.state.imgSrc}))):"")}}]),t}(),U=function(t){function a(){var t,r,o;N(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=o=x(this,(t=a.__proto__||(0,n.default)(a)).call.apply(t,[this].concat(l))),o.copyConent=function(){var t=new v.default("#copy"),a=e("#copyname").text()+e("#copymobile").text()+e("#copyaddress").text();e("#copy").attr("data-clipboard-text",a);var n=0;t.on("success",function(){b.default.MsgTip({msg:"退货地址复制成功!"}),++n>=1&&(t.destroy(),t=new v.default("#copy"))}),t.on("error",function(){b.default.MsgTip({msg:"请长按进行复制"})})},x(o,r)}return C(a,p.Component),d(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.data.delivery,r=a.status;return f.default.createElement("div",{className:"info-block"},"仅退款"!==_.asTypes[a.type]&&n&&40==r&&f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",null,"退货寄回信息",f.default.createElement("button",{className:"copy",id:"copy","data-clipboard-text":"复制内容",onTouchStart:function(){e.copyConent()}},"复制")),f.default.createElement("div",{className:"text"},f.default.createElement("p",null,"收货人：",f.default.createElement("span",{id:"copyname"},n.receiver.name)),f.default.createElement("p",null,"联系电话：",f.default.createElement("span",{id:"copymobile"},n.receiver.mobile)),f.default.createElement("p",null,"收货地址：",f.default.createElement("span",{id:"copyaddress"},n.receiver.address)))),20===a.type&&(50==a.status||20==a.status||30==a.status)&&n&&f.default.createElement("div",{className:"info-list"},f.default.createElement("h3",null,"退货物流信息"),f.default.createElement("div",{className:"text"},!!n.sender&&f.default.createElement("p",null,"物流公司：",n.sender.corp_name),!!n.sender&&f.default.createElement("p",null,"货运单号：",n.sender.delivery_no),!!n.created_at&&f.default.createElement("p",null,"退货时间：",n.created_at))))}}]),a}();t.default=(0,g.connect)(function(e,t){return u({companycode:e.logicompany.companycode,companyname:e.logicompany.companyname,corpid:e.logicompany.corpid},e.afterSaleDetail)},function(e,t){var a=t.location.query.oid;return{dispatch:e,resetData:function(){e(M("resetData"))},getData:function(){e(T("getData",u({},S.init,{params:{after_sale_bn:a}})))}}})(I)}).call(this,a("OOjC"))},fiY9:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=y(p),m=a("d2xe"),h=(a("6quk"),a("Zfgq"),y(a("qAHI"))),g=a("5qLU"),v=a("Hl9d");function y(e){return e&&e.__esModule?e:{default:e}}a("14IH");var _={Notice:{url:g.WXAPI+"/getNoticeById",method:"get"}},E=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).call(this,e));t.getLocalTime=function(e){return new Date(1e3*parseInt(e)).toLocaleString().replace(/:\d{1,2}$/," ")};var r=e.location.query.id;return t.state={update:!1,noData:!1,id:r},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,p.Component),d(a,[{key:"componentWillMount",value:function(){document.title="小泰公告"}},{key:"componentDidMount",value:function(){var e=this;h.default.request(u({},_.Notice,{params:{id:e.state.id}})).then(function(t){0===t.data.code?e.setState({data:t.data.data,update:!0}):e.setState({noData:!0,update:!0})})}},{key:"getDate",value:function(e){var t=new Date(e),a=t.getFullYear()>9?t.getFullYear():"0"+t.getFullYear(),n=t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1);t.getDate(),t.getDate(),t.getHours(),t.getHours(),t.getMinutes(),t.getMinutes(),t.getSeconds(),t.getSeconds();return a+"年"+n+"月"}},{key:"render",value:function(){var t={minHeight:e(window).height(),padding:"22px 20px"},a=this.state,n=a.update,r=a.data,o=a.noData,i=void 0,l=void 0;return n&&!o&&(i=this.getDate(new Date(r.updated_time.replace(/-/g,"/")).getTime()),(l=r.title).length>30&&(l=l.substring(0,30)+"...")),n?f.default.createElement("div",{"data-page":"user-code"},o?f.default.createElement("div",{className:"no-data"},f.default.createElement("img",{src:"/src/img/home/no-notice.png",className:"no-data-img"}),f.default.createElement("p",{className:"no-text"},"暂无公告"),f.default.createElement("a",{onClick:function(e){e.preventDefault(),(0,v.miniProgramLogin)()}},"返回首页")):f.default.createElement("section",{className:"wrapper",style:t},f.default.createElement("div",{className:"notice"},f.default.createElement("img",{src:"src/img/home/notice.png"}),"小泰公告"),f.default.createElement("div",{className:"title"},l),f.default.createElement("div",{className:"time"},i,"更新"),f.default.createElement("div",{className:"border"}),f.default.createElement("div",{className:"text"},r.content," "))):f.default.createElement(m.LoadingRound,null)}}]),a}();t.default=E}).call(this,a("OOjC"))},fpgd:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=E(p),m=a("Zfgq"),h=a("fw66"),g=E(a("4GUf")),v=a("d2xe"),y=(a("nztU"),E(a("qAHI"))),_=a("5qLU");function E(e){return e&&e.__esModule?e:{default:e}}var b={GroupBuy:{url:_.WXAPI+"/promotion/checkGroupBuy",method:"post"},cashier:{url:_.WXAPI+"/payment/intentions",method:"get"}},w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.promptClose=function(){a.setState({prompt:{show:!1,msg:""}})},a.cashierFun=function(){y.default.request(u({},b.cashier,{params:{order_no:a.tid}})).then(function(e){var t=e.data.data,n=t.business,r=t.payment_no,o="list"===a.from&&n&&3===n.pay_mode;window.location.replace(_.PAYURL+"/checkstand_wx/#/"+(o?"successByOffline":"loading")+"?payId="+n.pay_id+"&from=trc&wechatPlatform=MINI_PROGRAM&fromType=nCard&successUrl="+encodeURIComponent(a.host+"/payResult?tid="+a.tid+"&paymentId="+r)+"&errorUrl="+encodeURIComponent(a.host+"/tradeList/0"))}).catch(function(){g.default.MsgTip({msg:error.response.data.message||"服务器繁忙"}),setTimeout(function(){m.browserHistory.replace("/tradeList/0")},2e3)})},a.state={prompt:{show:!1,msg:""}},a.promotionId=e.location.query.promotionId,a.isGroupBuy="true"===e.location.query.isGroupBuy,a.tid=e.location.query.tid,a.from=e.location.query.from,a.host=window.location.origin,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,p.Component),d(t,[{key:"componentWillMount",value:function(){var e=this;console.log(this.isGroupBuy),this.isGroupBuy?this.promotionId?y.default.request(u({},b.GroupBuy,{data:{promotion_id:this.promotionId,object_id:0,order_no:this.tid}})).then(function(t){t.data.data.status&&e.cashierFun()}).catch(function(e){g.default.MsgTip({msg:e.response.data.message}),setTimeout(function(){m.browserHistory.replace("/tradeList/0")},2e3)}):(g.default.MsgTip({msg:"活动已结束"}),setTimeout(function(){m.browserHistory.replace("/tradeList/0")},2e3)):this.cashierFun()}},{key:"render",value:function(){return f.default.createElement("div",null,f.default.createElement(v.LoadingRound,null),f.default.createElement(h.PopupTip,{active:this.state.prompt.show,msg:this.state.prompt.msg,onClose:this.promptClose}))}}]),t}();t.default=w},fujM:function(e,t,a){},fw66:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModalBComp=t.ModalCComp=t.ModalAComp=t.PopupTipBig=t.PopupTip=t.PopupModal=t.Modal=t.ItemFix=t.Fix=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=y(p),m=y(a("O27J")),h=a("zpSi"),g=a("d2xe");a("wNpY");var v=y(a("S8Mv"));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var w=function(e){function t(e){_(this,t);var a=E(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={modals:{},ids:[]},a.addMoal=a.addModal.bind(a),a.removeModal=a.removeModal.bind(a),a}return b(t,p.Component),d(t,[{key:"addModal",value:function(e){var t=this.state,a=t.modals,n=t.ids;a[e.id]=e,~n.indexOf(e.id)||n.push(e.id),this.setState({modals:a,ids:n}),this.updateHeight()}},{key:"removeModal",value:function(e){var t=this.state,a=t.modals,n=t.ids,r=n.indexOf(e),o=a[e];r<0||(o&&o.onClose&&o.onClose(),delete a[e],n.splice(r,1))}},{key:"removeModals",value:function(e){var t=this;(e?[e]:this.state.ids).forEach(function(e){t.removeModal(e)}),this.setState(this.state),this.updateHeight()}},{key:"updateHeight",value:function(){var e=this.state.ids.length,t=e?"hidden":"",a=e?"100%":"",n=e?"fixed":"";document.body.style.position=n,document.body.style.overflow=t,document.body.style.height=a}},{key:"renderModal",value:function(){var e=this,t=[];return this.state.ids.map(function(a,n){var r=e.state.modals[a],o=r.ModalType;t.push(f.default.createElement(o,u({},r,{key:a,onClose:e.removeModal})))}),t}},{key:"render",value:function(){var e="modalContainer "+(this.state.ids.length?"modalEnter":"modalLeave");return f.default.createElement(v.default,u({transitionName:"slide","data-comp":"animate",transitionEnterTimeout:200,transitionLeaveTimeout:200},this.props.Transition,{component:"div",className:e}),this.renderModal())}}]),t}(),k=function(e){function t(){return _(this,t),E(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return b(t,p.Component),d(t,[{key:"closeHandle",value:function(){this.props.onClose(this.props.id)}},{key:"initHeader",value:function(){var e=this;return f.default.createElement("div",{className:"popModalHeader"},this.props.title,f.default.createElement("span",{className:"close-btn",onClick:function(t){return e.closeHandle(t)}},f.default.createElement("i",{className:"icon icon-close"})))}},{key:"initFooter",value:function(){var e=this,t=this.props.buttons,a=[];return(void 0===t?[]:t).map(function(t,n){a.push(f.default.createElement("a",{href:"javascript:;",onClick:function(){t.cb?t.cb()&&e.closeHandle():e.closeHandle()},className:"modal-btn "+t.className},f.default.createElement("span",null,t.text)))}),f.default.createElement("div",{className:"modal-footer"},a)}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=e.children,r=e.zIndex;return f.default.createElement("div",{className:"modal "+this.props.className,style:{zIndex:r}},this.initHeader(),f.default.createElement("div",{className:"popModalContent",style:{width:t||"100%",height:a||"50%"}},n),this.initFooter())}}]),t}(),A=(t.Fix=function(t){function a(){_(this,a);var e=E(this,(a.__proto__||(0,n.default)(a)).call(this));return e.state={},e}return b(a,p.Component),d(a,[{key:"componentDidMount",value:function(){var e=this.refs.el,t=this.props.isFix,a=void 0!==t&&t;this.pos=e.offsetTop,this.left=e.offsetLeft,this.setState({isFix:a}),this.addEvent()}},{key:"addEvent",value:function(){var t=this;this.handle=function(a){var n=e(window).scrollTop()>t.pos;n!==t.state.isFix&&t.setState({isFix:n})},window.addEventListener("scroll",this.handle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handle)}},{key:"render",value:function(){var e=this.state.isFix?{position:"fixed",top:0,width:"100%",borderBottom:"1px solid #f4f4f4",left:this.left}:{};return f.default.createElement("div",{ref:"el"},f.default.createElement("div",{style:e},this.props.children))}}]),a}(),t.ItemFix=function(t){function a(){_(this,a);var e=E(this,(a.__proto__||(0,n.default)(a)).call(this));return e.state={},e}return b(a,p.Component),d(a,[{key:"componentDidUpdate",value:function(){window.removeEventListener("scroll",this.handle),this.addEvent()}},{key:"componentDidMount",value:function(){var e=this.props.isFix,t=void 0!==e&&e;this.setState({isFix:t}),this.addEvent()}},{key:"addEvent",value:function(){var t=this,a=this.refs.el;this.pos=a.offsetTop-44,this.left=a.offsetLeft,this.handle=function(a){var n=e(window).scrollTop()>t.pos;n!==t.state.isFix&&t.setState({isFix:n})},window.addEventListener("scroll",this.handle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handle)}},{key:"render",value:function(){var e=this.state.isFix?{position:"fixed",top:"44px",width:"100%",borderBottom:"1px solid #f4f4f4",left:this.left,zIndex:"10"}:{};return f.default.createElement("div",{ref:"el"},f.default.createElement("div",{style:e},this.props.children),f.default.createElement("div",{style:this.state.isFix?{height:"46px"}:{height:0}}))}}]),a}(),t.Modal=function(e,t){var a=document.createElement("div");document.body.appendChild(a);var r=m.default.render(f.default.createElement(w,{Transition:t}),a),o=10,i=1e3,l=function(t){function a(e){_(this,a);var t=E(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.id=++i,t.zIndex=e.zIndex||++o,t}return b(a,p.Component),d(a,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.renderModal(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.isOpen?this.renderModal(e):a.close(this.id)}},{key:"componentWillUnmount",value:function(){a.close(this.id)}},{key:"renderModal",value:function(t){r.addModal(u({id:this.id,zIndex:this.zIndex},t,{ModalType:e}))}},{key:"render",value:function(){return p.DOM.noscript()}}]),a}();return l.open=function(t){return r.addModal(u({id:++i,zIndex:++o},t,{ModalType:e})),i},l.close=function(e){r.removeModals(e)},l}(k),function(e){function t(e){_(this,t);var a=E(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.modalClose=function(){a.setState({isOpen:!1}),setTimeout(function(){a.props.onClose()},200)},a.modalSure=function(){a.modalClose(),a.props.onSure()},a.state={isOpen:!1},a}return b(t,p.Component),d(t,[{key:"componentDidMount",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){return f.default.createElement("div",{"data-comp":"modal",id:"modal"},f.default.createElement(g.Shady,{clickHandle:this.modalClose}),f.default.createElement(v.default,{transitionName:"modal","data-comp":"animate",transitionEnterTimeout:200,transitionLeaveTimeout:200,component:"div"},this.state.isOpen?f.default.createElement("div",{ref:"modal",className:"modal"},this.props.title&&f.default.createElement("div",{className:"modal-title"},"this.props.title"),f.default.createElement("div",{className:"modal-text",style:this.props.title?{fontSize:"13px",fontWeight:"normal"}:{}},this.props.msg),f.default.createElement("div",{className:"modal-btn c-fr"},f.default.createElement("div",{onClick:this.modalClose,className:"g-col-1 one-btn c-fl ",ref:"cancel"},f.default.createElement("span",null,"取消")),f.default.createElement("div",{onClick:this.modalSure,className:"g-col-1 one-btn c-fr",ref:"sure"},f.default.createElement("span",null,"确定")))):""))}}]),t}()),N=(t.PopupModal=(0,h.HOCPopup)(A),function(e){function t(e){_(this,t);var a=E(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={show:!1},a}return b(t,p.Component),d(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({show:!0}),this.showTime=setTimeout(function(){e.setState({show:!1}),e.handleTime=setTimeout(function(){e.props.onClose()},200)},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.showTime),clearTimeout(this.handleTime)}},{key:"render",value:function(){return f.default.createElement(v.default,{"data-comp":"animate msg-tip",id:"msgTip",transitionName:"prompt",transitionEnterTimeout:200,transitionLeaveTimeout:200,component:"div"},this.state.show?f.default.createElement("div",{className:"msg-text"},this.props.msg):"")}}]),t}()),x=(t.PopupTip=(0,h.HOCPopup)(N),function(e){function t(e){_(this,t);var a=E(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={show:!1},a}return b(t,p.Component),d(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({show:!0}),e.showTime=window.setTimeout(function(){e.setState({show:!1}),e.handleTime=window.setTimeout(function(){e.props.onClose()},200)},2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.showTime),clearInterval(this.handleTime)}},{key:"render",value:function(){return f.default.createElement(v.default,{"data-comp":"animate msg-tip",id:"msgTipBig",transitionName:"prompt",transitionEnterTimeout:100,transitionLeaveTimeout:200,component:"div"},this.state.show?f.default.createElement("div",{className:"msg-text"},this.props.msg):"")}}]),t}()),C=(t.PopupTipBig=(0,h.HOCPopup)(x),function(e){function t(){return _(this,t),E(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return b(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.btns,a=e.msg,n=e.title,r=t.map(function(e,t){return f.default.createElement("button",{key:t,className:"one-btn",onClick:function(t){e.cb()}},e.text)});return f.default.createElement("div",null,f.default.createElement(g.Shady,{options:{zIndex:105},clickHandle:t[0].cb}),f.default.createElement("div",{"data-comp":"modal",id:"modalA"},n&&f.default.createElement("div",{className:"top"},n),f.default.createElement("div",{className:"content",style:n?{fontSize:"13px",fontWeight:"normal"}:{}},a),f.default.createElement("div",{className:"btn-group"},r)))}}]),t}()),S=(t.ModalAComp=(0,h.HOCPopup)(C),function(e){function t(){return _(this,t),E(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return b(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.btns,a=e.msg,n=e.title,r=void 0===n?"提示":n,o=t.map(function(e,t){return f.default.createElement("div",{key:t,className:"g-col-1 one-btn",onClick:function(t){e.cb()}},e.text)});return f.default.createElement("div",null,f.default.createElement(g.Shady,{options:{zIndex:105},clickHandle:t[0].cb}),f.default.createElement("div",{"data-comp":"modal",id:"modalC",style:{width:"270px",height:"125px"}},f.default.createElement("div",{className:"top"},r),f.default.createElement("div",{className:"content"},a),f.default.createElement("div",{className:"btn-group g-row-flex"},o)))}}]),t}()),M=(t.ModalCComp=(0,h.HOCPopup)(S),function(e){function t(e){_(this,t);var a=E(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.modalHide=function(e){a.setState({isOpen:!1}),setTimeout(function(){e&&e()},200)},a.state={isOpen:!1},a}return b(t,p.Component),d(t,[{key:"componentDidMount",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this.props,t=e.btns,a=e.title,n=e.msg,r=t.map(function(e,t){return f.default.createElement("div",{key:t,className:"g-col-1 one-btn",onClick:function(t){e.cb()}},f.default.createElement("span",null,e.text))});return f.default.createElement("div",{"data-comp":"modal",id:"modalB"},f.default.createElement(g.Shady,{options:{zIndex:105},clickHandle:t[0].cb}),f.default.createElement(v.default,{transitionName:"modal","data-comp":"animate",transitionEnterTimeout:200,transitionLeaveTimeout:200,component:"div"},this.state.isOpen?f.default.createElement("div",{ref:"modal",className:"modal"},f.default.createElement("div",{className:"modal-title"},a),f.default.createElement("div",{className:"modal-text"},n),f.default.createElement("div",{className:"btn-group g-row-flex"},r)):""))}}]),t}());t.ModalBComp=(0,h.HOCPopup)(M)}).call(this,a("OOjC"))},fzRm:function(e,t,a){"use strict";var n=o(a("fZjL")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=c(a("BYKG"));function c(e){return e&&e.__esModule?e:{default:e}}var u={load:!0,promotionId:"",shopId:"",list:{data:"",page:1,total:1},rule:"",cart:"",prompt:{show:!1,msg:""},itemData:{},modalCtrl:{show:!1},promptBig:{show:!1,msg:""},countCart:0,isNonPayment:!1};function d(e,t){var a=t[0].data.data.promotion[0].item_id,r=i({},e.itemData),o={data:t[0].data.data,specs:t[0].data.data.specs,promotion:t[0].data.data.promotion,itemRules:t[0].data.data.promotion.itemRules||{},active:"cart",itemId:a},l={nowSku:{},newData:function(e){var t=e.info.skus;return(0,n.default)(t).map(function(e,a){return{ids:e.split("_"),skus:t[e]}})}(t[0].data.data),selectArr:[],specKey:[],storeNum:t[0].data.data.store.real,nowPrice:function(e){var t=e.info.skus,a=[],n=void 0;for(var r in t)a.push(parseFloat(t[r].price.toFixed(2)));return a.length>1?(a=a.sort(function(e,t){return e-t}),n=e.itemRules?a[0]:a[0]+"-"+a[a.length-1]):n=a[0],n}(t[0].data.data),num:1,weight:e.weight,itemId:a,active:"cart"},s=t[0].data.data,c=t[1].data.data;r=o;var u=function(e){if(e.itemRules){var t=e.itemRules,a=t.real_store,n=t.item_sales,r=t.sales_count;if(!a)return n!==r}}(s);return i({},e,{data:c,itemData:r,promotion:s,retState:l,modalCtrl:{show:!0},modalLoading:!1,isNonPayment:u})}t.default=(0,l.default)("minusActivity",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"resetData":return i({},u,t.query);case"getDataSuccess":return function(e,t){var a=s.default.fromJS(e),n=t[0].data,r=t[1].data;return a=a.set("load",!1),n.status&&r.status&&n.data?(a=(a=a.set("list",{data:n.data.items,page:n.data.page,total:Math.ceil(n.data.count/20)})).set("rule",r.data)).toJS():a.toJS()}(e,t.result);case"getShopSuccess":return function(e,t){return t.status?i({},e,{cart:t.data}):e}(e,t.result);case"concatDataSuccess":return function(e,t){var a=s.default.fromJS(e);return(a=(a=(a=a.updateIn(["list","data"],function(e){return e.concat(t.data.items)})).setIn(["list","page"],t.data.page)).setIn(["list","total"],Math.ceil(t.data.count/20))).toJS()}(e,t.result);case"promptCtrl":return i({},e,{prompt:t.prompt});case"promptBigCtrl":return i({},e,{promptBig:t.prompt});case"getChannelItemLoad":return i({},e,{modalLoading:!0});case"getChannelItemSuccess":return d(e,t.result);case"modalCtrl":return i({},e,{modalCtrl:t});case"initState":return i({},e,{retState:t.ret});case"updateCartInfo":return i({},e,{countCart:t.cart_num});case"getCartCountSuccess":return function(e,t){if(!t.status)return e;var a=t.data.cart_num;return(0,r.default)({},i({},e),{countCart:a})}(e,t.result);default:return e}},u)},gNAs:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAjCAMAAADCMPhoAAAANlBMVEUAAABmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmbzm4XLAAAAEXRSTlMAtfVICOBiAccPqKXryJcyGtRRA9YAAACCSURBVDjL7ZNLDsMgDAX9jCEk6e/d/7Kt1IY4AjnqPrNAgxjBxkjjBeUPXWbpAR2PQaB8bpqYBwHpXP3NIRDoLYfBh5mU6M3zwFwAuOBfBTYFhgG5L1dwBafBGk5UrErrp9rc/6tM0pFYmxfmZHLAUmZpu2nlgGWSvShVeUDv5Xv+Bjm/FvoMFVR+AAAAAElFTkSuQmCC"},gOR2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(3)]).then(function(e){a("aR0x"),t(null,a("9F5X").default)}.bind(null,a)).catch(a.oe)}},gzD0:function(e,t,a){"use strict";var n=o(a("c/Tr")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=c(a("BYKG"));function c(e){return e&&e.__esModule?e:{default:e}}var u={navList:[{text:"全部",status:0,url:"/tradeList/0"},{text:"待付款",status:1,url:"/tradeList/1"},{text:"待发货",status:2,url:"/tradeList/2"},{text:"待收货",status:3,url:"/tradeList/3"},{text:"待评价",status:4,url:"/tradeList/4"}],list:{all:{load:!0,data:[],page:1,total:1e3},waitPay:{load:!0,data:[],page:1,total:1e3},waitSend:{load:!0,data:[],page:1,total:1e3},waitConfirm:{load:!0,data:[],page:1,total:1e3},waitRate:{load:!0,data:[],page:1,total:1e3}},hasMore:!0,isSending:!1,prompt:{show:!1,msg:""},modal:{show:!1,msg:"",modalSure:""},request:!1,custom:{show:!1,tid:""},PopupCancelMsg:{show:!1,Msg:""},cancel_reason:"",flag:!1,saveTop:0,currentPage:1,userAction:!1};function d(e,t,a){var r,o=s.default.fromJS(e),l=t.data.list.map(function(e,a){return i({},e,{currentPage:t.data.page.current_page})}),c=o.getIn(["list",a.type,"data"]).toJS();return(r=c=c.filter(function(e){return e.currentPage<a.page})).splice.apply(r,[10*(a.page-1),0].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return(0,n.default)(e)}(l))),(o=(o=(o=(o=(o=o.setIn(["list",a.type,"data"],c)).setIn(["list",a.type,"page"],a.page)).setIn(["list",a.type,"total"],t.data.page.total_page)).setIn(["hasMore"],t.data.page.current_page<t.data.page.total_page)).setIn(["isSending"],!1)).toJS()}t.default=(0,l.default)("tradeList",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"resetData":return u;case"getDataLoad":return function(e,t){var a=s.default.fromJS(e);return(a=(a=(a=a.setIn(["list",t],{load:!0,data:"",page:1,total:1e3})).setIn(["hasMore"],!0)).setIn(["isSending"],!1)).toJS()}(e,t.cbData.type);case"getDataSuccess":return function(e,t,a){if(401===t.code)return browserHistory.replace("/login?redirect_uri="+encodeURIComponent(a.url)),e;var n=s.default.fromJS(e);if(0!==t.code)return n.setIn("prompt",{show:!0,msg:t.message}),n.toJS();n=(n=(n=(n=(n=n.setIn(["list",a.type,"load"],!1)).setIn(["list",a.type,"page"],a.page)).setIn(["list",a.type,"total"],t.data.page.total_page)).setIn(["hasMore"],t.data.page.current_page<t.data.page.total_page)).setIn(["isSending"],!1);var r=t.data.list.map(function(e,a){return i({},e,{currentPage:t.data.page.current_page})});return(n=n.setIn(["list",a.type,"data"],r)).toJS()}(e,t.result,t.cbData);case"concatDataSuccess":return function(e,t,a,n){var r=s.default.fromJS(e),o=t.data.list.map(function(e,a){return i({},e,{currentPage:t.data.page.current_page})}),l=r.getIn(["list",a,"data"]).toJS().concat(o);return(r=(r=(r=(r=(r=r.setIn(["list",a,"page"],n)).setIn(["list",a,"total"],t.data.page.total_page)).setIn(["list",a,"data"],l)).setIn(["hasMore"],t.data.page.current_page<t.data.page.total_page)).setIn(["isSending"],!1)).toJS()}(e,t.result,t.dataType,t.page);case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});case"ctrlModal":return i({},e,{modal:i({},t.modal)});case"ctrlCustom":return i({},e,{custom:i({},t.custom)});case"deleteOrder":return function(e,t,a){var n=s.default.fromJS(e),r=n.getIn(["list",a,"data"]).toJS();if("all"===a){var o=void 0,l=[];return r.map(function(e,a){e.order_shops.map(function(a,n){o=i({},e),a.no===t&&o.order_shops.splice(n,1)}),l.push(o)}),(n=n.setIn(["list",a,"data"],l)).toJS()}}(e,t.tid,t.status);case"cancelPopup":return i({},e,{PopupCancelMsg:i({},t.status)});case"changeReason":return i({},e,{cancel_reason:t.reason});case"saveHistroy":return i({},e,{flag:t.flag,saveTop:t.saveTop,currentPage:t.currentPage});case"getbackDataLoad":return i({},e);case"getbackDataSuccess":return d(e,t.result,t.cbData);case"changeSending":return i({},e,{isSending:t.isSending});case"changeHasmore":return i({},e,{hasMore:t.hasMore});default:return e}},u)},hHxV:function(e,t,a){},hUx7:function(e,t,a){e.exports={swiperWrap:"nRG_MHUw84vmtq2sjkkwQ",swipeBox:"_1d7GmrxYLqruD36A8RN2xs",swipeMain:"_1eHfMDqRlavSSzpQTAydSS",ctrlBtn:"q_P4uSldoTd72TzkEm3DQ",collect:"_3_BenjjeKSUwOraQ3DMqdN",textWrap:"_2fwk2WEUf5tYIJ7I8yUJX1",delete:"_1lULPG4oXKeWVuIFjF5p6L"}},hd3S:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.groupCheckaxios=t.ShoporderStatus=t.Countdown=t.OrderNumStatus=void 0;var u,d,p=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=S(m),g=a("Zfgq"),v=a("4n+p"),y=S(a("TQvf")),_=a("d2xe"),E=a("f2Hk"),b=S(a("4GUf")),w=(a("qeJi"),a("f2t5")),k=a("NUeF"),A=a("5qLU"),N=S(a("qAHI")),x=a("fw66");a("RYNs");var C=a("8FWJ");function S(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var P={init:{url:A.WXAPI+"/user/order/info",method:"get"},shopinit:{url:A.WXAPI+"/user/shopOrder/info",method:"get"},del:{url:A.WXAPI+"/user/shopOrder/discard",method:"post"},conf:{url:A.WXAPI+"/user/shopOrder/confirmReceived",method:"post"},GroupBuy:{url:A.WXAPI+"/promotion/checkGroupBuy",method:"post"}},O=(0,E.concatPageAndType)("tradeDetail"),D=(0,E.actionAxios)("tradeDetail"),L=(0,E.concatPageAndType)("popup"),j={1:"普通发票",2:"增值税发票",3:"电子发票"},B={1:"明细"},R=function(t){function a(){var e,t,r;M(this,a);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=r=T(this,(e=a.__proto__||(0,n.default)(a)).call.apply(e,[this].concat(i))),r.onPayPopup=function(e){r.props.dispatch(O("payPopup",{status:e}))},T(r,t)}return I(a,m.Component),f(a,[{key:"componentWillMount",value:function(){this.props.resetData(),this.props.getData()}},{key:"componentWillUnmount",value:function(){this.props.resetData()}},{key:"componentDidMount",value:function(){var e=new y.default(".copy");e.on("success",function(e){b.default.MsgTip({msg:"订单编号复制成功!"})}),e.on("error",function(e){b.default.MsgTip({msg:"请长按订单编号进行复制"})})}},{key:"render",value:function(){var t=this,a=this.props,n=a.cancelOrderPoup,r=a.PopupCancelMsg,o=a.changeReason,i=a.cancel_reason,l=a.dispatch,s=a.reminderKnow,c=this.props.data.data,u=this.props.location.query.orderflag,d=this.props.location.query.tid;return!this.props.load&&c?h.default.createElement("div",{"data-page":"trade-detail",style:{minHeight:e(window).height()}},"1"===u?c instanceof Array?h.default.createElement(_.NoMoreOrderInfo,null):h.default.createElement("div",null,h.default.createElement("section",{id:"tradeDetail"},h.default.createElement(H,{created_at:c.created_at,timeout:c.timeout_action_at,orderNum:c.no,status:c.status,cancel_reason:10===c.cancel_from?c.cancel_reason:k.orderClosereason[c.cancel_from]}),"TR_WRD"!==c.platform_from&&"catering"!==c.platform_from&&h.default.createElement(G,{data:c.receiver}),h.default.createElement(Q,{data:c.order_shops,orderflag:u,payPopupMsg:this.props.payPopupMsg,payPopup:this.onPayPopup,platform:c.platform_from}),h.default.createElement($,{data:c}),h.default.createElement(ee,{data:c}),h.default.createElement(te,{data:c,orderflag:u}),h.default.createElement(ae,{data:c}),h.default.createElement(se,{status:c.status,order_shops:c.order_shops,isWrd:c.platform_from,buyType:c.pay_type,tid:c.no,payPopup:this.onPayPopup,isGroupBuy:c.isGroupBuy,pay_status:c.pay_status,cancelOrderPoup:n,PopupCancelMsg:r,cancel_reason:i})),h.default.createElement(C.PopupCancelDetail,{PopupCancelMsg:r,cancelOrderPoup:n,webcancelFrom:"tradeDetail",changeReason:o,cancel_reason:i,tid:d,dispatch:l,createActions:O})):"2"===u?c instanceof Array?h.default.createElement(_.NoMoreOrderInfo,null):h.default.createElement("div",null,h.default.createElement("section",{id:"tradeDetail"},c.group_buy_info&&!(c.group_buy_info instanceof Array)&&h.default.createElement(F,{info:c.group_buy_info,status:c.status}),h.default.createElement(z,{created_at:c.created_at,orderNum:c.no,consign_status:c.consign_status,status:c.status,timeout_received_at:c.timeout_received_at,cancel_reason:10===c.cancel_from?c.cancel_reason:k.orderClosereason[c.cancel_from]}),"TR_WRD"!==c.order.platform_from&&"catering"!==c.order.platform_from&&h.default.createElement(G,{data:c.order.receiver}),h.default.createElement(Q,{data:c,orderflag:u,payPopupMsg:this.props.payPopupMsg,payPopup:this.onPayPopup,platform:c.order.platform_from,reminderKnow:s}),h.default.createElement($,{data:c.order}),h.default.createElement(ee,{data:c.order}),h.default.createElement(te,{data:c,orderflag:u}),h.default.createElement(ae,{data:c}),h.default.createElement(se,{status:c.status,isWrd:c.order.platform_from,buyType:c.order.pay_type,tid:c.no,payPopup:this.onPayPopup,order_goods:c.order_goods,consign_status:c.consign_status,consigned_at:c.consigned_at})),h.default.createElement(ne,{payPopupMsg:this.props.payPopupMsg,payPopup:this.onPayPopup,payType:c.order.pay_type}),h.default.createElement(x.ModalAComp,{active:this.props.modalAS.status,msg:this.props.modalAS.msg,btns:[{text:"我知道了",cb:function(){t.props.dispatch(O("ctrlModalapply",{status:!1}))}}]})):null,h.default.createElement(_.FastGuide,null)):h.default.createElement(_.LoadingRound,null)}}]),a}(),U=function(e){function t(e){return M(this,t),T(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.timeout;return h.default.createElement("i",null,"还剩",h.default.createElement(q,{timeout:e}),"拼团结束")}}]),t}(),F=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.info,a=void 0===t?{}:t,n=e.status,r=a.object,o=void 0===r?{}:r,i=a.object_id,l=void 0===i?0:i,s=o.required_person,c=void 0===s?0:s,u=o.current_person,d=void 0===u?0:u,p=o.group_status,f={},m="";switch(void 0===p?"":p){case 2:n<=25?(m=h.default.createElement("img",{src:"src/img/icon/trcSuccessful2.png",style:{width:"60px"},alt:""}),f={position:"absolute",top:0,right:"20px"}):(m="",f={position:"absolute"});break;case 1:20==n?(m=h.default.createElement("div",null,h.default.createElement("div",{className:"trcBubble"},h.default.createElement("img",{src:"src/img/icon/trcBubble.png",style:{width:"95%"},alt:""}),h.default.createElement("div",{className:"object-info"},h.default.createElement("div",{className:"object-person"},h.default.createElement("img",{src:"src/img/icon/trcOngoing.png"}),h.default.createElement("span",{className:"person-info"},h.default.createElement("p",{style:{paddingRight:"20px"}},"拼团中"),!!c&&!!d&&h.default.createElement("p",null,"拼团还差",c-d,"人"))),h.default.createElement("div",{className:"object-time "},h.default.createElement(U,{timeout:a.object.expire_time})))),h.default.createElement("div",{className:"invite-container"},h.default.createElement(g.Link,{className:"invite-friends",key:"1",to:"/groupDetail?object_id="+l},"邀请好友参团"))),f={position:"fixed",bottom:"55px",right:"5px"}):(m="",f={position:"absolute"});break;case 0:m=h.default.createElement("img",{src:"src/img/icon/trcFailure2.png",style:{width:"60px"},alt:""}),f={position:"absolute",top:0,right:"20px"};break;default:m="",f={position:"absolute"}}return h.default.createElement("div",{className:"fight-group-status c-tc c-cfff",style:f},m)}}]),t}(),H=t.OrderNumStatus=function(e){function t(e){return M(this,t),T(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.status,a=e.cancel_reason,n=e.timeout,r="交易关闭"===k.ordermainStatusAndIconMap[t].status?{display:"inline-block",marginTop:"14px",lineHeight:"18px"}:{};return h.default.createElement("div",{className:"status-info"},h.default.createElement("img",{src:k.ordermainStatusAndIconMap[t].icon}),h.default.createElement("span",{className:"c-cfff c-ml25",style:r},k.ordermainStatusAndIconMap[t].status,"交易关闭"===k.ordermainStatusAndIconMap[t].status&&h.default.createElement("span",{className:"c-cfff c-fs11 c-dpb"},"取消原因：",a),"等待付款"===k.ordermainStatusAndIconMap[t].status&&h.default.createElement("span",{className:"c-fr c-fs12"},"剩余支付时间",h.default.createElement(q,{timeout:n}))))}}]),t}(),q=t.Countdown=(u=function(e){function t(e){M(this,t);var a=T(this,(t.__proto__||(0,n.default)(t)).call(this,e));d.call(a);var r=parseInt(new Date(a.props.timeout.replace(/-/g,"/")).getTime()/1e3)-parseInt((new Date).getTime()/1e3);return a.state=r>0?{retime:r}:{retime:0},a}return I(t,m.Component),f(t,[{key:"componentDidMount",value:function(){this.state.retime>0&&this.intervalreTime()}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.retimer)}},{key:"formatTime",value:function(e){return w.dateUtil.formatNum(parseInt(e))}},{key:"render",value:function(){var e=this.state.retime;return h.default.createElement("span",{className:"block-time"},h.default.createElement("span",null,this.dealTime(e)))}}]),t}(),d=function(){var e=this;this.intervalreTime=function(){e.retimer=setInterval(function(){var t=--e.state.retime;t<0?(window.clearInterval(e.retimer),e.setState({retime:0})):(e.state.retime=t,e.setState(e.state))},1e3)},this.dealTime=function(t){var a,n,r,o;return a=e.formatTime(t/3600/24),n=e.formatTime(t/3600%24),r=e.formatTime(t%3600/60),o=e.formatTime(t%60),0!=a?a+"天"+n+"时":0!=n?n+"时"+r+"分":r+"分"+o+"秒"}},u),z=t.ShoporderStatus=function(e){function t(e){return M(this,t),T(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.status,a=e.cancel_reason,n=e.consign_status,r=e.timeout_received_at,o="交易关闭"===k.ordersubStatusAndIconMap[t].status?{display:"inline-block",marginTop:"14px",lineHeight:"18px"}:{};return h.default.createElement("div",{className:"status-info"},h.default.createElement("img",{src:k.ordersubStatusAndIconMap[t].icon}),h.default.createElement("span",{className:"c-cfff c-ml25",style:o},40==t?k.confimStatus[n]:k.ordersubStatusAndIconMap[t].status,"交易关闭"===k.ordersubStatusAndIconMap[t].status&&h.default.createElement("span",{className:"c-cfff c-fs11 c-dpb"},"取消原因：",a),"已发货"===k.ordersubStatusAndIconMap[t].status&&h.default.createElement("span",{className:"c-fr c-fs12"},"还剩 ",h.default.createElement(q,{timeout:r}),h.default.createElement("i",null,"自动确认收货"))))}}]),t}(),G=function(e){var t=e.data;return h.default.createElement("div",{className:"address-info-grid"},h.default.createElement("div",{className:"address-info"},h.default.createElement(W,{data:t.address}),h.default.createElement(J,{data:t.address}),t.idCard.id_number&&h.default.createElement(X,{data:t})))},W=function(e){var t=e.data;return h.default.createElement("div",{className:"receive-person g-row-flex"},h.default.createElement("div",{className:"left"},h.default.createElement("i",{className:"location-address-icon"}," ")),h.default.createElement("div",{className:"right"},t.name," ",t.mobile))},J=function(e){var t=e.data;return h.default.createElement("div",{className:"receive-addr"},h.default.createElement("div",{className:"address-text g-col-1"},t.state,t.city,t.district,t.address))},X=function(e){var t=e.data.idCard.id_number.toString();return h.default.createElement("div",{className:"receiver-id-grid"},h.default.createElement("div",{className:"receiver-id g-row-flex"},h.default.createElement("div",{className:"left"},h.default.createElement("i",{className:"identify-card-icon",style:{marginTop:"15px",display:"block"}}," ")),h.default.createElement("div",{className:"receiver-id-text g-col-1"},"身份证信息：",(0,w.handleId)(t))))},Q=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.orderflag,a=e.data,n=(e.payPopupMsg,e.payPopup,e.reminderKnow,"");if("1"===t){var r=this;n=this.props.data.map(function(e,t){return h.default.createElement(Z,p({},r.props,{platform:r.props.platform,data:e,key:t,cancel_status:r.props.cancel_status}))})}else"2"===t&&(n=h.default.createElement(Z,{data:a,orderflag:t,platform:this.props.platform,payPopupMsg:this.props.payPopupMsg,payPopup:this.props.payPopup,reminderKnow:this.props.reminderKnow}));return h.default.createElement("div",null,n)}}]),t}(),Z=function(e){function t(e,a){M(this,t);var r=T(this,(t.__proto__||(0,n.default)(t)).call(this,e));return r.changeOpen=function(){r.setState({isOpen:!r.state.isOpen})},r.state={isOpen:!1},r}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.data.shop_info,r=n.id,o=n.is_open,i=n.name,l=n.alias,s=n.shop_icon,c=n.attr,u=a.order_goods.map(function(t,n){return h.default.createElement(Y,p({},e.props,{data:t,key:n,outdata:a}))}),d=u.slice(0,2),f=this.state.isOpen;return h.default.createElement("div",{className:"shop"},w.hideFlag&&h.default.createElement("div",{className:"shop-top"},h.default.createElement("div",{className:"shop-name"},(0,k.storeIcon)(s),h.default.createElement(g.Link,{className:"shop-long",to:1===o?"/store/home?shop="+r:"javascript:void(0)"},l||i)),h.default.createElement("div",{className:"arrow-right"},1===o&&h.default.createElement(g.Link,{to:"/store/home?shop="+r},h.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-s-icon.png"}))),h.default.createElement(_.CustomerService,{className:"server",shopAttr:c})),h.default.createElement("div",{className:"order-detail-mid"},u.length>1e3&&!f?d:u,u.length>1e3&&h.default.createElement("div",{onClick:this.changeOpen,className:"c-tc c-fs12",style:{color:"#808080",lineHeight:"22px"}},f?"":"还有"+(u.length-2)+"件",h.default.createElement("img",{style:{width:"17px",marginLeft:"5px"},src:"src/img/afterSale/"+(f?"close":"open")+".png"}))),a.buyer_message&&h.default.createElement("div",{className:"leave-message"},h.default.createElement("img",{src:"/src/img/icon/message.png"}),h.default.createElement("span",null,"留言:",a.buyer_message)))}}]),t}(),Y=function(e){return h.default.createElement("div",null,h.default.createElement(K,{outdata:e.outdata,platform:e.platform,data:e.data,orderflag:e.orderflag,payPopup:e.payPopup,payPopupMsg:e.payPopupMsg,reminderKnow:e.reminderKnow}))},K=function(e){var t=e.data,n=e.platform,r=e.orderflag,o=t.isExchange,i=t.isGift,l=t.isGroupBuy,s="TR_WRD"!==n&&"catering"!==n;return h.default.createElement("div",null,h.default.createElement(g.Link,{to:"/item?item_id="+t.item_id,onClick:function(e){return!s&&e.preventDefault()}},h.default.createElement("div",{className:"one-item g-row-flex"},h.default.createElement("div",{className:"item-img"},h.default.createElement("img",{src:t.primary_image?(0,w.addImageSuffix)(t.primary_image,"_s"):a("VM8K"),width:"70",height:"70"})),h.default.createElement("div",{className:"item-info g-col-1"},h.default.createElement("div",{className:"info-top g-row-flex"},h.default.createElement("div",{className:"info-text g-col-1"},h.default.createElement("div",{className:"info-title"},t.title),h.default.createElement("div",{className:"info-props"},t.spec_nature_info),h.default.createElement("div",{className:"info-price"},h.default.createElement("span",{className:"left"},"¥",Number(t.price).toFixed(2)),h.default.createElement("span",{className:"right"},"×",t.num)),h.default.createElement("div",{className:"tag-container"},o&&h.default.createElement("span",{className:"label deepred-label"},"换购"),i&&h.default.createElement("span",{className:"label deepred-label"},"赠品"),l&&h.default.createElement("span",{className:"label deepred-label"},"拼团"),!(i||!t.is_free_refund||1!==t.is_free_refund)&&h.default.createElement("span",{className:"label violet-label"},"7天可退"))))))),2==r&&h.default.createElement(V,e))},V=function(e){function t(){var e,a,r;M(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=T(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.btnOrlink=function(){var e=r.props,t=e.data,a=e.outdata,n=e.reminderKnow,o=t.showAfterSaleTimeOutMsg,i=t.showGtAfterSaleCountMsg;o?n(!0,"商品无法申请售后，可能已经超过售后保障期"):i?n(!0,"最多可以发起3次售后申请"):g.browserHistory.push("/afterSale/apply?tid="+t.no+"&refund="+("待发货"===k.ordersubStatusAndIconMap[a.status].status?1:0))},r.afterStatus=function(){var e=r.props.data,t=void 0;switch(e.afterSaleStatus){case 10:case 40:case 50:e.canAfterSale&&e.afterSaleInfo&&(t=h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+e.afterSaleInfo.bn,className:"btn"},"售后中"));break;case 20:case 30:e.afterSaleInfo&&(t=h.default.createElement(g.Link,{to:"/afterSale/detail?oid="+e.afterSaleInfo.bn,className:"btn"},"售后完成"));break;default:e.canAfterSale&&(t=h.default.createElement("a",{className:"btn",onClick:r.btnOrlink},"申请售后"))}return t},T(r,a)}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.payPopup,n=e.payPopupMsg,r=e.outdata,o=t.isGift;return h.default.createElement("div",{className:"one-item-ctrl"},t.isGroupBuy&&30!=r.status&&h.default.createElement(g.Link,{to:"/groupDetail?object_id="+r.group_buy_info.object_id,className:"btn"},"查看团详情"),r.status>=20&&30!=r.status&&!o&&h.default.createElement("div",{className:"btn",onClick:function(){a({show:!n.show,Msg:t})}},"支付信息"),this.afterStatus())}}]),t}(),$=function(e){var t=e.data;return h.default.createElement("div",{className:"user-info order-list"},h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"支付方式"),h.default.createElement("div",{className:"right"},k.payType[t.pay_type])),h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"配送方式"),h.default.createElement("div",{className:"right"},k.dispatchDelivery[t.shipping_type])))},ee=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=e.is_need_invoice,a=e.invoice;return h.default.createElement("div",{className:"user-info order-list"},t?h.default.createElement("div",null,h.default.createElement("div",{className:"list",key:"invoiceType"},h.default.createElement("div",{className:"left"},"发票类型"),h.default.createElement("div",{className:"right"},j[a.type])),(1==a.type||3==a.type)&&h.default.createElement("div",{className:"list",key:"invoice_header"},h.default.createElement("div",{className:"left"},"发票抬头"),h.default.createElement("div",{className:"right"},a.title)),(1==a.type||3==a.type)&&h.default.createElement("div",{className:"list",key:"contentOption"},h.default.createElement("div",{className:"left"},"发票内容"),h.default.createElement("div",{className:"right"},B[a.info.content_option])),3==a.type&&h.default.createElement("div",{className:"list",key:"invoiceEmail"},a.info.receiver_email&&h.default.createElement("div",{className:"left"},"收票人邮箱"),a.info.receiver_email&&h.default.createElement("div",{className:"right"},a.info.receiver_email)),2==a.type&&h.default.createElement("div",{className:"list",key:"invoiceUnitname"},a.unit_name&&h.default.createElement("div",{className:"left"},"单位名称"),a.unit_name&&h.default.createElement("div",{className:"right"},a.unit_name)),2==a.type&&h.default.createElement("div",{className:"list",key:"invoiceAddress"},a.info.receiver_address&&h.default.createElement("div",{className:"left"},"收票地址"),a.info.receiver_address&&h.default.createElement("div",{className:"right"},a.info.receiver_address))):h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"发票信息"),h.default.createElement("div",{className:"right"},"不开发票")))}}]),t}(),te=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.orderflag,n=t.discount_summary,r=t.post_fee,o=t.total_fee,i=t.tax_fee,l=void 0===i?0:i,s=t.payment,c=n.promotion,u=void 0===c?0:c,d=n.coupon,p=void 0===d?0:d,f=n.hb,m=void 0===f?0:f,g=n.vip,v=void 0===g?0:g,y=!0;return y=1==a?"TR_WRD"!==t.platform_from&&"catering"!==t.platform_from:"TR_WRD"!==t.order.platform_from&&"catering"!==t.order.platform_from,h.default.createElement("div",{className:"order-list"},h.default.createElement("div",{className:"total-list"},h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"商品总额"),h.default.createElement("div",{className:"right"},"¥",(+o).toFixed(2))),u>0&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"促销优惠"),h.default.createElement("div",{className:"right"},"- ¥",(+u).toFixed(2))),v>0&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"会员折扣"),h.default.createElement("div",{className:"right"},"- ¥",(+v).toFixed(2))),y&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"运费"),h.default.createElement("div",{className:"right"}," ¥",(+r).toFixed(2))),l>0&&y&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"税费"),h.default.createElement("div",{className:"right"}," ¥",(+l).toFixed(2))),p>0&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"优惠券抵扣"),h.default.createElement("div",{className:"right"},"- ¥",(+p).toFixed(2))),m>0&&h.default.createElement("div",{className:"list"},h.default.createElement("div",{className:"left"},"红包抵扣"),h.default.createElement("div",{className:"right"},"- ¥",(+m).toFixed(2))),h.default.createElement("div",{className:"total-pay"},h.default.createElement("span",{className:"payleft"},"订单总价  "),h.default.createElement("span",{className:"payright"},"¥",(+s).toFixed(2)))))}}]),t}(),ae=function(e){var t=e.data;return h.default.createElement("div",{className:"order-list"},h.default.createElement("div",{className:"total-price"},h.default.createElement("div",{className:"time"},"订单编号：",h.default.createElement("textarea",{id:"copyText",defaultValue:t.no,readOnly:!0}),h.default.createElement("button",{className:"copy","data-clipboard-target":"#copyText"},"复制")),h.default.createElement("div",{className:"time"},"创建时间：",t.created_at),t.payed_at&&h.default.createElement("div",{className:"time"},"付款时间：",t.payed_at),t.consigned_at&&h.default.createElement("div",{className:"time"},"发货时间：",t.consigned_at),t.received_at&&h.default.createElement("div",{className:"time"},"成交时间：",t.received_at)))},ne=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.payPopupMsg,a=e.payPopup,n=e.payType,r={EcardRecharge:"充值e卡",EcardActivity:"活动e卡",Alipay:"支付宝",Weixin:"微信",Loan:"口袋钱包"};return h.default.createElement("div",{onClick:function(){a({show:!1})}},t.show&&h.default.createElement(_.Shady,null),h.default.createElement("div",{className:"popup-total "+(t.show?"active":""),onClick:function(e){return e.stopPropagation()}},h.default.createElement("div",{className:"popup-top"},h.default.createElement("span",null,"支付分摊明细"),h.default.createElement("i",{className:"close-nobg-icon",onClick:function(){a({show:!1})}})),t.Msg&&h.default.createElement("div",{className:"list-grid"},t.Msg.payments.length?10===n?t.Msg.payments.map(function(e,t){return h.default.createElement("div",{className:"list g-row-flex",key:t},h.default.createElement("div",{className:"left"},r[e.biz]),h.default.createElement("div",{className:"right g-col-1"},"¥",parseFloat(e.amount).toFixed(2)))}):h.default.createElement("div",{className:"list g-row-flex"},h.default.createElement("div",{className:"left"},"线下支付"),h.default.createElement("div",{className:"right g-col-1"},"¥",parseFloat(t.Msg.payment).toFixed(2))):h.default.createElement(re,null))))}}]),t}(),re=function(){return h.default.createElement("div",{className:"c-tc",style:{padding:"43px 0 55px"}},h.default.createElement("img",{src:a("OANb"),width:"58",height:"54"}),h.default.createElement("p",{className:"c-cc9 c-fs12 c-mt15"},"暂无支付分摊明细"))},oe=t.groupCheckaxios=function(e){var t=e.promotion_id,a=e.tid,n=e.object_id,r=e.isGroupBuy;N.default.request(p({},P.GroupBuy,{data:{promotion_id:t,object_id:n||0,order_no:a}})).then(function(e){e.data.data.status&&(g.browserHistory.push("/cashier?tid="+a+"&from=list&zeroBuy=1&isGroupBuy="+r+"&promotionId="+t),g.browserHistory.push("/cashier?tid="+a+"&from=list&zeroBuy=1&isGroupBuy="+r+"&promotionId="+t))}).catch(function(e){console.log(e),b.default.MsgTip({msg:e.response.data.message})})},ie=function(e){function t(){return M(this,t),T(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return I(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.status,n=t.tid,r=t.buyType,o=t.isWrd,i=t.isGroupBuy,l=void 0!==i&&i,s=t.order_shops,c=t.pay_status,u=t.order_goods,d=void 0===u?[]:u,p=t.cancelOrderPoup,f=t.PopupCancelMsg,m=20==t.consign_status,v=null!=t.consigned_at,y="TR_WRD"!==o&&"catering"!==o,_="",E=0;l&&s[0].order_goods[0].promotions.map(function(e,t){"GroupBuy"===e.extra.type&&(E=e.extra.promotion_id)});var b={isGroupBuy:l,promotion_id:E,tid:n},w=d.some(function(e){return"售后中"===k.afterstatusDeal[e.afterSaleStatus]});switch(a){case 10:_=[2!==c&&h.default.createElement("a",{className:"ctrl-block cancel-order",key:"1",onClick:function(){p({show:!f.show,Msg:n})}},"取消订单"),2!==c&&h.default.createElement("a",{className:y?"ctrl-red pay-order":"ctrl-grey",key:"3",onTouchTap:function(t){y?e.props.checkGroupBuy(b):t.preventDefault()}},20===r?"线下公司转账":"立即支付")];break;case 40:_=[y&&h.default.createElement(g.Link,{className:"ctrl-block",key:"1",to:"/logistics?tid="+n},"查看物流"),h.default.createElement("a",{className:"ctrl-red pay-order",key:"2",onClick:function(){e.props.onConf(m,w)},href:"javascript:;"},"确认收货")];break;case 50:_=[h.default.createElement("a",{className:"ctrl-block",key:"3",onClick:this.props.onDelete},"删除订单"),y&&h.default.createElement(g.Link,{className:"ctrl-block",key:"2",to:"/logistics?tid="+n},"查看物流"),h.default.createElement(g.Link,{className:"ctrl-red pay-order",key:"31",to:"/evaluateInput?tid="+n},"评价晒单")];break;case 60:_=[y&&h.default.createElement(g.Link,{className:"ctrl-block",key:"2",to:"/logistics?tid="+n},"查看物流"),h.default.createElement("a",{className:"ctrl-block",key:"3",onClick:this.props.onDelete},"删除订单")];break;case 30:case 31:_=[h.default.createElement("a",{className:"ctrl-block",key:"40",onClick:this.props.onDelete},"删除订单"),y&&v&&h.default.createElement(g.Link,{className:"ctrl-block",key:"41",to:"/logistics?tid="+n},"查看物流")]}return h.default.createElement("div",{className:"order-ctrl c-tr"},_)}}]),t}(),le=!1,se=(0,v.connect)(function(e,t){return p({},e.tradeDetail)},function(e,t){return{dispatch:e,checkGroupBuy:function(e){var t=e.isGroupBuy,a=e.promotion_id,n=e.tid;t?oe(e):g.browserHistory.push("/cashier?tid="+n+"&from=list&zeroBuy=1&isGroupBuy="+t+"&promotionId="+a)},onDelete:function(){b.default.Modal({isOpen:!0,msg:"是否要删除订单？删除后，您可在泰然城官网的订单回收站恢复"},function(){le||(le=!0,N.default.request(p({},P.del,{params:{no:t.tid}})).then(function(e){le=!1,b.default.MsgTip({msg:"删除成功"}),window.setTimeout(function(){g.browserHistory.goBack()},1e3)}).catch(function(e){le=!1,b.default.MsgTip({msg:e.response.data.message||"网络错误，删除失败"}),console.log(e)}))})},onConf:function(a,n){b.default.Modal({isOpen:!0,msg:a?"订单存在未发货的商品，是否要确认收货？":n?"订单存在售后中的商品，是否确认收货？":"是否要确认收货？"},function(){le||(le=!0,N.default.request(p({},P.conf,{params:{no:t.tid}})).then(function(a){0===a.data.code&&(le=!1,b.default.MsgTip({msg:"确认收货成功"}),window.setTimeout(function(){e(D("getData",p({},P.shopinit,{params:{no:t.tid}})))},1e3))}))})}}})(ie);t.default=(0,v.connect)(function(e,t){return p({},e.tradeDetail,e.popup)},function(e,t){var a=t.location.query.tid,n=t.location.query.orderflag,r=t.location.pathname+t.location.search;return{dispatch:e,resetData:function(){e(O("resetData"))},promptClose:function(){e(L("ctrlPrompt",{prompt:{show:!1,msg:""}}))},modalClose:function(){e(O("ctrlModal",{prompt:{show:!1,msg:"",modalSure:""}}))},getData:function(){var t=void 0;t=p({},1==n?P.init:P.shopinit),e(D("getData",p({},t,{params:{no:a}}),r))},onPayPopup:function(t){e(O("payPopup",{status:t}))},cancelOrderPoup:function(t){e(O("cancelPopup",{status:t}))},changeReason:function(t){e(O("changeReason",{reason:t}))},reminderKnow:function(t,a){e(O("ctrlModalapply",{modalAS:{status:t,msg:a}}))}}})(R)}).call(this,a("OOjC"))},i0YD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(21)]).then(function(e){a("aR0x"),t(null,a("khv/").default)}.bind(null,a)).catch(a.oe)}},iAP0:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={load:!0,data:"",cancel_reason:"",other_reason:""};t.default=(0,l.default)("orderCancel",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"resetData":return s;case"getDataSuccess":return i({},e,{load:!1,data:t.result.data});case"changeReason":return i({},e,{cancel_reason:t.reason,other_reason:"other"===t.reason?e.other_reason:""});case"otherReason":return i({},e,{other_reason:t.value});default:return e}},s)},iLpm:function(e,t,a){"use strict";var n=o(a("fZjL")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=(c(a("BYKG")),a("Zfgq"));function c(e){return e&&e.__esModule?e:{default:e}}var u={keyWord:"",param:{},searchHistory:[],hotList:[],compList:[],prompt:{show:!1,msg:""}},d={brand:{text:"进入品牌",url:function(e,t){s.browserHistory.push("/searchResult?brand="+e)}},country_property:{text:"进入国家",url:function(e,t){s.browserHistory.push("/searchResult?country_id="+e)}},tertiary_category:{text:"进入分类",url:function(e,t){s.browserHistory.push("/searchResult?category="+e)}}};t.default=(0,l.default)("searchIndex",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"keyCtrl":return i({},e,{keyWord:t.key});case"paramCtrl":return i({},e,{param:t.param});case"listCtrl":return i({},e,{compList:t.list});case"ctrlPrompt":return i({},e,{prompt:i({},t.prompt)});case"historyCtrl":return i({},e,{searchHistory:t.history});case"initPlaceHolderSuccess":return i({},e,{placeHolder:t.result.data});case"updateHotSuccess":return i({},e,{hotList:t.result.data});case"searchCptSuccess":return function(e,t,a){if(0!==t.code)return e;var r,o,l=t.data;l.type=(r=l.type,o={},r.brand&&(o.brand=r.brand),r.country_property&&(o.country_property=r.country_property),r.tertiary_category&&(o.tertiary_category=r.tertiary_category),o);var s=(0,n.default)(l.type),c=s.length?s.map(function(e,t){return{text:a,accurate:d[e].text,clickHandle:d[e].url.bind(null,l.type[e],a)}}):[],u=l.suggests.length?l.suggests.map(function(e,t){return{text:e}}):[];return i({},e,{compList:c.concat(u)})}(e,t.result,t.cbData);default:return e}},u)},iVin:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=function(e,t,a){var n=document.getElementsByClassName("collect-name")[0];if(void 0!=n)n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=script.readyState||(n.onreadystatechange=null,t(a))}:n.onload=function(){t(a)};else{var r=document.createElement("script");r.type="text/javascript",r.className="collect-name",r.src=e,document.getElementsByTagName("head")[0].appendChild(r),r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t(a))}:r.onload=function(){t(a)}}},t.sdkUse=function(e){sdk.storeUserId(e)}},idvL:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserOrderStatus=t.UserOrder=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=k(p),m=a("Zfgq"),h=a("4n+p"),g=a("f2Hk"),v=k(a("dmKM")),y=a("zpSi"),_=a("d2xe"),E=a("5qLU"),b=a("nztU"),w=k(a("BSod"));function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var C={uc_getUserInfo:{url:E.UCENTER+"/user"},getData:{url:E.WXAPI+"/getMoreCount",method:"get"},eCardNum:{url:"/eCard/card/account/info",method:"get"},orderNum:{url:E.WXAPI+"/user/order/count",method:"POST"}},S=(0,g.concatPageAndType)("userCenter"),M=(0,g.actionAxios)("userCenter"),T=function(e){function t(){var e,a,r;A(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=N(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.getData=function(){r.props.getUserInfo(),r.props.getPageData(),r.props.getECardNum(),r.props.getorderNum()},N(r,a)}return x(t,p.Component),d(t,[{key:"componentWillMount",value:function(){this.props.isLogin?this.getData():this.props.resetState()}},{key:"componentWillReceiveProps",value:function(e){!this.props.isLogin&&e.isLogin&&this.getData()}},{key:"render",value:function(){return f.default.createElement("div",{"data-page":"user-center"},f.default.createElement(I,{data:this.props.userInfo,isLogin:this.props.isLogin}),f.default.createElement(P,{data:this.props.statusData,isLogin:this.props.isLogin}),f.default.createElement(j,{data:this.props.stripData1,isLogin:this.props.isLogin}),f.default.createElement(j,{data:this.props.stripData2,isLogin:this.props.isLogin}),f.default.createElement(v.default,null))}}]),t}(),I=function(e){function t(){return A(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.isLogin,a=e.data;return f.default.createElement("div",{className:"user-info"},f.default.createElement(m.Link,{className:"user-avatar",to:t?"/userInfo":"/login?redirect_uri=%2FuserCenter"},f.default.createElement("img",{src:t&&a.avatar?a.avatar:"/src/img/icon/avatar/default-avatar-gray.png",alt:"用户头像"})),f.default.createElement(m.Link,{className:"user-name",to:t?"/userInfo":"/login?redirect_uri=%2FuserCenter"},t&&a?a.nickname?a.nickname:a.phone.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):"立即登录"))}}]),t}(),P=function(e){function t(){return A(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"all-order"},f.default.createElement(O,{isLogin:this.props.isLogin}),f.default.createElement(D,{orderStatus:this.props.data,isLogin:this.props.isLogin}))}}]),t}(),O=t.UserOrder=function(e){function t(){return A(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement(m.Link,{className:"user-order c-clrfix",to:this.props.isLogin?"/tradeList/0":"/login?redirect_uri=%2FuserCenter"},f.default.createElement("div",{className:"c-fl"},"我的订单"),f.default.createElement("div",{className:"c-fr"},f.default.createElement("span",null,"查看全部"),f.default.createElement("i",{className:"arrow-right-icon"}," ")))}}]),t}(),D=t.UserOrderStatus=function(e){function t(){var e,a,r;A(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=N(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.getHtml=function(){var e=r.props,t=e.orderStatus,a=e.isLogin;return t.map(function(e,t){return f.default.createElement(L,{key:t,data:e,isLogin:a})})},N(r,a)}return x(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"order-status-list"},this.getHtml())}}]),t}(),L=function(e){function t(){return A(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isLogin;return f.default.createElement(m.Link,{className:"order-icon c-tc",to:a?t.url:"/login?redirect_uri=%2FuserCenter"},f.default.createElement("i",{className:"icon-img "+t.iconClass},a&&t.num?f.default.createElement("i",{className:"order-status-number"},t.num):""),f.default.createElement("span",null,t.text))}}]),t}(),j=function(e){function t(){return A(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"render",value:function(){var e=this,t=this.props.data.map(function(t,a){return f.default.createElement("div",{key:a,className:"strip-grid"},f.default.createElement(B,{data:t,isLogin:e.props.isLogin}))});return f.default.createElement("div",{className:"strip-entry"},t)}}]),t}(),B=function(e){function t(){return A(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data;return f.default.createElement(y.LinkOrA,{className:w.default.oneStrip,link:this.props.isLogin||!e.needLogin?e.url:"/login?redirect_uri=%2FuserCenter",type:this.props.isLogin||!e.needLogin?e.type:"link"},f.default.createElement("div",{className:w.default.specIcon},f.default.createElement("img",{src:e.iconUrl,className:w.default.specIconImg})),f.default.createElement("div",{className:"c-clrfix "+w.default.stripText},f.default.createElement("span",{className:w.default.stripTextLeft},e.text),e.active?f.default.createElement("span",{className:w.default.stripTextRight},e.num,e.active&&e.point&&f.default.createElement("i",{className:w.default.redPoint}," ")):""),f.default.createElement("div",null," ",f.default.createElement("i",{className:w.default.rightIcon}," ")))}}]),t}();!function(e){function t(){return A(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}x(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data;return f.default.createElement(_.CustomerService,{className:w.default.oneStrip},f.default.createElement("div",{className:w.default.specIcon},f.default.createElement("img",{src:e.iconUrl,className:w.default.specIconImg})),f.default.createElement("div",{className:"c-clrfix "+w.default.stripText},f.default.createElement("span",{className:w.default.stripTextLeft},e.text),e.active?f.default.createElement("span",{className:w.default.stripTextRight},e.num,e.active&&f.default.createElement("i",{className:w.default.redPoint}," ")):""),f.default.createElement("div",null," ",f.default.createElement("i",{className:w.default.rightIcon}," ")))}}])}();t.default=(0,h.connect)(function(e,t){return u({},e.userCenter,e.global)},function(e,t){return{resetState:function(){e(S("initialState"))},getUserInfo:function(){var t=(0,b.getCookie)("token");e(M("userInfo",u({},C.uc_getUserInfo,{headers:{Authorization:"Bearer "+t},params:{needPhone:!0}})))},getPageData:function(){e(M("pageData",C.getData))},getECardNum:function(){e(M("eCard",C.eCardNum))},getorderNum:function(){e(M("orderNum",C.orderNum))}}})(T)},igJ9:function(e,t,a){"use strict";(function(e){var n=c(a("mvHQ")),r=c(a("Zx67")),o=c(a("kiBT")),i=c(a("OvRC")),l=c(a("pFYg")),s=c(a("C4MV"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a("U7vG"),p=h(d),f=(h(a("O27J")),a("Zfgq"),a("d2xe")),m=a("fw66");function h(e){return e&&e.__esModule?e:{default:e}}a("4705");var g=function(t){function a(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,r.default)(a)).call(this,t));return o.getCoupon=function(){var t=o;e.ajax({url:"/wxapi/activityEnable.api",type:"GET",dataType:"json",success:function(e){if(t.setState({update:!0}),!1===e.status&&200!==e.code)switch(e.code){case 400:return t.setState({isLogin:!1});case 401:return t.setState({isLogin:!0,errorNetwork:!0});case 402:return t.setState({isLogin:!0,unStart:!0,acTime:!0});case 403:return t.setState({isLogin:!0,unStart:!1,acTime:!0});case 404:return t.setState({isLogin:!0,none:!0,later:!0});case 405:return t.setState({isLogin:!0,alHave:!0,later:!1});default:return}else t.setState({isLogin:!0,alHave:!1,later:!1,none:!1})},error:function(){t.setState({update:!0,errorNetwork:!0})}})},o.getJSApi=function(t){var a=o;e.ajax({url:"/wxapi/getJSApi.api?url="+encodeURIComponent(t),type:"GET",dataType:"json",contentType:"application/json;chartset=utf-8",success:function(e){wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),a.setState({config:!0}),wx.error(function(e){console.log((0,n.default)(e))})},error:function(e){a.showMsg="绑定域名不正确！",a.setState({showStatus:!0})}})},o.state={update:!1,showStatus:!1,errorNetwork:!1,acTime:!1,isLogin:!1,later:!1,alHave:!1,unStart:!1,none:!1},o.showMsg="",o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}(a,d.Component),u(a,[{key:"componentWillMount",value:function(){document.title="泰然5周年",this.getCoupon()}},{key:"componentDidMount",value:function(){var e=location.href.split("#")[0];this.getJSApi(e);var t={title:"泰然5周年 暨泰然城品牌签约活动  百万礼包送不",desc:"感恩有你 一路同行  内部专享优惠礼券！",link:location.protocol+"//"+location.host+"/5yearsQrcode",imgUrl:location.protocol+"//"+location.host+"/src/img/qrCode/logo.png",type:"",dataUrl:"",success:function(){},cancel:function(){}};wx.ready(function(){wx.onMenuShareTimeline(t),wx.onMenuShareAppMessage(t),wx.onMenuShareQQ(t),wx.onMenuShareQZone(t)})}},{key:"render",value:function(){var t=this,a=this.state,n=a.errorNetwork,r=a.update,o=a.showStatus,i=a.isLogin,l=a.acTime,s=a.later,c=(a.unStart,a.none),u=a.alHave;return p.default.createElement("div",{"data-page":"five-years"},n?p.default.createElement("section",{className:"fy five-years4",style:{height:e(window).height()}}):r?p.default.createElement("section",{className:n?"fy five-years4":i?l?"fy five-years6":s?"fy five-years1":u?"fy five-years2":c?"fy five-years1":"fy five-years3":"fy five-years0",ref:"five-years",style:{height:e(window).height()}},p.default.createElement("a",{className:"user-name",href:n?null:i?l?"https://wx.tairanmall.com/home/index":s?"https://wx.tairanmall.com/home/index":"https://m.tairanmall.com/guide?redirect=trmall://main?page=home":"/login?redirect_uri=%2F5years"},p.default.createElement("span",{className:"button1"}))):p.default.createElement(f.LoadingRound,null),p.default.createElement(m.PopupTip,{active:o,onClose:function(){t.setState({showStatus:!1})},msg:this.showMsg}))}}]),a}();t.default=g}).call(this,a("OOjC"))},j8tI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shady=void 0;var n=o(a("U7vG")),r=o(a("kqn0"));function o(e){return e&&e.__esModule?e:{default:e}}t.Shady=function(e){return n.default.createElement("div",{style:e.styles||{},className:r.default.shady,onTouchMove:function(e){return e.preventDefault()}})}},jYHR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(27)]).then(function(e){a("aR0x"),t(null,a("9DMt").default)}.bind(null,a)).catch(a.oe)}},jfES:function(e,t,a){},jgN8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(15)]).then(function(e){a("aR0x"),t(null,a("bcSm").default)}.bind(null,a)).catch(a.oe)}},jwQl:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=s(a("GHKy"));s(a("BYKG"));function s(e){return e&&e.__esModule?e:{default:e}}var c={load:!0,data:"",selectStatus:0};t.default=(0,l.default)("identifySelect",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"resetState":return c;case"initialDataSuccess":return function(e,t,a){return t=t.map(function(e,t){return e.face&&e.inverse?e.hasPhoto=!0:e.hasPhoto=!1,e}),i({},e,{load:!1,data:t,selectStatus:a.status?1:0})}(e,t.result.data,t.cbData);default:return e}},c)},k9wu:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.stateModalData=Q,t.stateModalDispatch=Z;var p=a("U7vG"),f=x(p),m=a("Zfgq"),h=(x(a("O27J")),a("d2xe")),g=(a("fw66"),a("4n+p")),v=a("f2Hk"),y=a("6quk");a("7vRm");var _=a("JmOZ"),E=a("Wkbk"),b=a("f2t5"),w=x(a("qAHI")),k=a("qeJi"),A=a("Hl9d"),N=a("5qLU");function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var T={GroupBuy:{url:N.WXAPI+"/item/groupBuy",method:"get"},Promotion:{url:N.WXAPI+"/item/promotion",method:"get"},Recommend:{url:N.WXAPI+"/groupBuy/recommendItem",method:"get"}},I=(0,v.actionAxios)("itemIndex"),P=(0,v.concatPageAndType)("itemIndex"),O=function(e){function t(e,a){C(this,t);var r=S(this,(t.__proto__||(0,n.default)(t)).call(this,e));r.handleShady=function(){r.setState({shadyDefault:!r.state.shadyDefault})},r.handleShareModal=function(){r.setState({shareModal:!0})},r.goShare=function(){r.setState({shareModal:!0,shadyDefault:!0})};var o=e.location.query,i=o.object_id,l=o.user_id,s=o.salesmanId;return r.state={salesmanId:s,objectID:i,userId:l,update:!1,openMsg:!1,shadyDefault:!0,shareModal:!0,recommend:!1},r}return M(t,p.Component),d(t,[{key:"openOrClose",value:function(){this.setState({openMsg:!this.state.openMsg})}},{key:"componentWillMount",value:function(){document.title="拼团详情";var e=k.browser.versions,t=e.iPhone,a=e.iPad,n=e.weixin,r=location.href.split("#")[0];n&&!a&&!t&&(0,h.getJSApi)(r),this.state.objectID||m.browserHistory.push("/")}},{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.objectID,n=t.salesmanId,r=this.props.location.query.itemFlag;w.default.request(u({},T.GroupBuy,{params:{object_id:a}})).then(function(t){var a=t.data;if(0===a.code){var o=a.data;e.setState({dataList:o,update:!0});var i=e.props.proStatus;r&&i||(a.salesmanId=n,e.props.Promotion(a)),w.default.request(u({},T.Recommend,{params:{item_id:a.data.item.id}})).then(function(t){var a=t.data;0===a.code&&e.setState({recommendDataList:a,recommend:!0})})}else y.tip.show({msg:a.message})}).catch(function(e){console.log(e),y.tip.show({msg:e.response.data.message||"服务器繁忙"})})}},{key:"componentWillUnmount",value:function(){this.props.UpdateBuyModal({buyModal:!1})}},{key:"render",value:function(){var e=this.state,t=e.dataList,a=e.recommendDataList,n=e.update,r=e.openMsg,o=e.shadyDefault,i=e.shareModal,l=e.recommend,s=e.userId,c=e.objectID,d=this.props,p=d.promotion,m=d.proStatus,g=!1,v=window.localStorage.getItem("salesmanId");if(t){var y=t.group.required_person-t.group.current_person,_=(new Date(t.group.expire_time.replace(/-/g,"/")).getTime()-new Date(t.group.now_time.replace(/-/g,"/")).getTime())/1e3,E=t.promotionData[0].status,w=t.is_open;y>0&&_>0&&E&&1===w&&(g=!0)}return n?f.default.createElement("div",{"data-page":"group-detail"},g&&o&&1===t.group.is_dealed&&b.hideFlag?f.default.createElement(D,{data:t,fn1:this.handleShady,fn2:this.handleShareModal,goShare:this.goShare,shady:g,shareModal:i}):"",f.default.createElement("section",{id:"group-detail",ref:"group-detail"},f.default.createElement(B,{data:t,userId:s,salesmanId:v}),f.default.createElement(R,{data:t,objectID:c,fn:this.openOrClose.bind(this),goShare:this.goShare}),r?f.default.createElement(q,{data:t}):"",l&&b.hideFlag?f.default.createElement(G,{data:a}):"",f.default.createElement("div",{className:"just-margin-bottom"})),m&&f.default.createElement(Y,u({},this.props,{data:t,promotion:p,itemId:t.item.item_id})),f.default.createElement(h.FastGuide,null)):f.default.createElement(h.LoadingRound,null)}}]),t}(),D=function(t){function a(){return C(this,a),S(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return M(a,p.Component),d(a,[{key:"render",value:function(){var t=this.props,a=t.data,n=t.shady,r=t.shareModal;return n?f.default.createElement("div",{className:"shady",style:{height:e(window).height()}},r?f.default.createElement("div",null,f.default.createElement("img",{src:"/src/img/evaluate/hand.png",className:"hand"}),f.default.createElement(L,{data:a,fn:this.props.fn1})):f.default.createElement(j,{fn:this.props.fn2,goShare:this.props.goShare})):null}}]),a}(),L=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data,t=e.group.required_person-e.group.current_person;return f.default.createElement("div",{className:"group-msgb"},f.default.createElement(F,{data:e.group,timerStatus:!0}),f.default.createElement("div",{className:"c-cfff c-tc text"},f.default.createElement("img",{src:"/src/img/evaluate/un-done.png",className:"un-done"}),"ROOKIE_GROUP"===e.group.group_type?f.default.createElement("span",{className:"c-fs19"},"还差",f.default.createElement("span",{className:"c-cf55 c-fb c-fs24"},t)," ",f.default.createElement("span",{className:"c-cf55 c-fb c-fs20"}," 位新人")):f.default.createElement("span",{className:"c-fs19"},"还差",f.default.createElement("span",{className:"c-cdc c-fb c-fs24"},t),f.default.createElement("span",{className:"c-cdc c-fb c-fs20"},"人")),"拼团成功哦~快去邀请好友吧!"),f.default.createElement("img",{src:"/src/img/evaluate/okBtn.png",className:"btnImg",onClick:this.props.fn}))}}]),t}(),j=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,p.Component),d(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"share-success c-tc"},b.hideFlag&&f.default.createElement("button",{className:"go-share",onClick:this.props.goShare},"继续分享"),b.hideFlag&&f.default.createElement("a",{onClick:function(e){e.preventDefault(),(0,A.miniProgramGroup)()}},f.default.createElement("button",{className:"go-home"},"更多拼团")),f.default.createElement("img",{src:"/src/img/evaluate/close.png",className:"close",onClick:this.props.fn}))}}]),t}(),B=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.userId,n=window.localStorage.getItem("salesmanId");return f.default.createElement("div",{className:"goods-msg"},f.default.createElement(m.Link,{to:a?N.DIR+"/item?item_id="+t.item.id+"&user_id="+a+"&salesmanId="+n:N.DIR+"/item?item_id="+t.item.id+"&salesmanId="+n},f.default.createElement("div",{className:"goods-img"},"ROOKIE_GROUP"===t.group.group_type?f.default.createElement("img",{className:"new-group",src:"/src/img/activity/new-group.png"}):"",f.default.createElement("img",{src:(0,b.addImageSuffix)(t.item.primary_image,"_s")}))),f.default.createElement("div",{className:"goods-detail"},f.default.createElement(m.Link,{to:N.DIR+"/item?item_id="+t.item.id+"&salesmanId="+n},f.default.createElement("p",{className:"c-fs12 c-c35 c-lh16 goods-title",style:{display:"block",height:"48px"}},t.item.title)),f.default.createElement("p",{className:"c-fs12 c-c35"},t.group.required_person,"人团: ",f.default.createElement("span",{className:"c-fs16 c-cf55"},"¥",t.group.price))))}}]),t}(),R=function(t){function a(){return C(this,a),S(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return M(a,p.Component),d(a,[{key:"componentDidMount",value:function(){var t=e(this.refs.imgsBox).css("height");e(this.refs.groupImg).css({height:t})}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.objectID,n=t.group.required_person-t.group.current_person,r=t.user.map(function(e,t){return f.default.createElement(U,{second:!t,isLeader:!1,key:t})});return f.default.createElement("div",{className:"group-msg c-bgf4"},f.default.createElement("div",{className:"c-c80 c-fs15 c-tc c-lh55"},1===t.group.is_dealed?"ROOKIE_GROUP"===t.group.group_type?f.default.createElement("span",null,"还差",f.default.createElement("span",{className:"c-cf55"},n,"位新人"),"即可组团成功，快去邀请好友吧"):f.default.createElement("span",null,"还差",f.default.createElement("span",{className:"c-cf55"},n),"人即可组团成功，",1===t.group.is_dealed&&f.default.createElement(F,{data:t.group})):0===t.group.is_dealed?f.default.createElement("span",null,t.group.current_person,"人参团，拼团失败"):f.default.createElement("span",{className:"c-cf55"},t.group.required_person,"人参团，此团已完成")),f.default.createElement("div",{className:"group-img",ref:"groupImg",style:{height:"50px"}},f.default.createElement("div",{className:"imgs-box c-tc",ref:"imgsBox"},f.default.createElement(U,{isLeader:!0}),r)),1===t.group.is_dealed&&f.default.createElement(_.LinkChange,{className:"join-group",onClick:function(e){e.preventDefault(),(0,A.miniProgramGroup)(a)}},"邀请参团"),f.default.createElement(H,{fn:this.props.fn}),1===t.group.is_dealed?"":f.default.createElement("img",{className:"success-of-fail",src:0===t.group.is_dealed?"/src/img/evaluate/group-fail.png":"/src/img/evaluate/group-success.png"}))}}]),a}(),U=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.second,a=e.isLeader;return f.default.createElement("div",{className:"head-portrait"},f.default.createElement("div",{className:"portrait"},f.default.createElement("img",{src:"/src/img/icon/avatar/default-avatar.png"})),a||t?f.default.createElement("span",{className:"c-bgf44 c-cfff c-fs10 c-tc c-lh16",style:{backgroundColor:a?"#ff4444":"#ffc515"}},a?"团长":"沙发"):"")}}]),t}(),F=function(t){function a(){return C(this,a),S(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return M(a,p.Component),d(a,[{key:"componentWillMount",value:function(){var e=this.props.data,t=(new Date(e.expire_time.replace(/-/g,"/")).getTime()-new Date(e.now_time.replace(/-/g,"/")).getTime())/1e3,a=Math.floor(t/60/60),n=Math.floor((t-60*a*60)/60),r=Math.floor(t-60*a*60-60*n);this.setState({hh:a||0,mm:n||0,ss:r||0,mms:9})}},{key:"componentDidMount",value:function(){var t=this,a=this;this.timer=setInterval(function(){var n=a.state,r=n.hh,o=n.mm,i=n.ss,l=n.mms;if(0===r&&0===o&&0===i||r<0)return clearInterval(t.timer),e(".remaining-time").css({display:"none"}),e(".shady").css({display:"none"}),void(r<0?a.setState({hh:0,mm:0,ss:0}):setTimeout(function(){history.go(0)},1e3));if(a.setState({mms:l-1}),l<1){var s=i-1<=0?0:i-1;a.setState({mms:9,ss:s})}if(i<=0&&l<=0){var c=o-1<=0?0:o-1;a.setState({ss:59,mm:c})}if(o<=0){var u=r-1<=0?0:r-1,d=u<1?0:59;a.setState({mm:d,hh:u})}},100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.hh,a=e.mm,n=e.ss,r=e.mms;return this.props.timerStatus?f.default.createElement("div",{className:"timer1"},f.default.createElement("div",{className:" c-fs18 c-cfff c-tc"},"剩余 ",f.default.createElement("span",{className:"time"},t>9?t:"0"+t)," : ",f.default.createElement("span",{className:"time"},a>9?a:"0"+a)," : ",f.default.createElement("span",{className:"time",style:{position:"relative",width:"54px"}},f.default.createElement("span",{className:"mm"},n>9?n:"0"+n,"."),f.default.createElement("span",{className:"c-fs16 c-cdred mms"},r))," 结束")):f.default.createElement("span",{className:"remaining-time"},f.default.createElement("span",{className:"timer c-fs15 c-cf55"},t>9?t:"0"+t,":",a>9?a:"0"+a,":",f.default.createElement("span",null,n>9?n:"0"+n)))}}]),a}(),H=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,p.Component),d(t,[{key:"componentWillMount",value:function(){this.setState({isOpen:!1})}},{key:"openOrClose",value:function(){this.setState({isOpen:!this.state.isOpen}),this.props.fn()}},{key:"render",value:function(){var e=this.state.isOpen;return f.default.createElement("div",{className:"open-detail"},f.default.createElement("div",{onClick:this.openOrClose.bind(this),className:"open-txt c-fs13 c-c80"},"查看全部参团详情 ",e?f.default.createElement("img",{src:"/src/img/evaluate/down.png",alt:""}):f.default.createElement("img",{src:"/src/img/evaluate/up.png",alt:""})))}}]),t}(),q=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data,t=e.user.map(function(e,t){return f.default.createElement(z,{data:e,isLeader:!1,key:t})});return f.default.createElement("div",{className:"users-detail"},f.default.createElement("i",{className:"user-detail-arror"}," "),f.default.createElement("ul",null,f.default.createElement(z,{data:e.user_start[0],isLeader:!0}),t))}}]),t}(),z=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,p.Component),d(t,[{key:"getDate",value:function(e){var t=new Date(e);return(t.getFullYear()>9?t.getFullYear():"0"+t.getFullYear())+"-"+(t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1))+"-"+(t.getDate()>9?t.getDate():"0"+t.getDate())+" "+(t.getHours()>9?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes())+":"+(t.getSeconds()>9?t.getSeconds():"0"+t.getSeconds())}},{key:"render",value:function(){var e=this.props,t=e.isLeader,a=e.data,n=t?a.open_time:a.join_time;return f.default.createElement("li",{className:t?"c-bgf99 c-mb10":"c-bgc9 c-mb10"},f.default.createElement("span",{className:t?"c-bgf99 horn":"c-bgc9 horn"}),f.default.createElement("span",{className:"circle c-bgf44"}),f.default.createElement("div",{className:"portrait"},f.default.createElement("img",{src:"/src/img/icon/avatar/default-avatar.png"})),t?f.default.createElement("div",{className:"c-cfff c-fl c-fs12 c-lh46",style:{paddingRight:"4px"}},"团长"):"",f.default.createElement("p",{className:"c-fl c-cfff c-lh46"},a.name),f.default.createElement("p",{className:"c-fr c-cfff c-lh46"},t?"开团":"参团"),f.default.createElement("div",{className:"c-fr c-cfff c-lh46",style:{paddingRight:"2px"}},n))}}]),t}(),G=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data.data.data.map(function(e,t){if(t<9)return f.default.createElement(W,{data:e,key:t})});return f.default.createElement("div",{className:"group-recommend"},f.default.createElement("p",{className:"c-fs14 recommend-title"},"拼团推荐"),f.default.createElement("div",{className:"recommend-goods"},e),b.hideFlag&&f.default.createElement("div",{className:"recommend-footer"},f.default.createElement("a",{onClick:function(e){e.preventDefault(),(0,A.miniProgramGroup)()}},f.default.createElement("span",{style:{color:"#999999"}},"拼团商城")),f.default.createElement("i",null," "),f.default.createElement(m.Link,{to:N.DIR+"/groupList/0"},f.default.createElement("span",{style:{color:"#999999"}},"我的拼团"))))}}]),t}(),W=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return M(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props.data,t=String(parseFloat(e.sell_price)).split(".")[0],a=String(parseFloat(e.sell_price)).split(".")[1];return f.default.createElement("div",{className:"c-tc each-goods"},f.default.createElement("div",{style:{width:"96%",maxWidth:105,display:"inline-block"}},f.default.createElement("div",{style:{height:105,overflow:"hidden"}},f.default.createElement(m.Link,{to:N.DIR+"/item?item_id="+e.item_id},f.default.createElement("img",{src:(0,b.addImageSuffix)(e.images[0],"_s")||"/src/img/icon/loading/default-no-item.png"}))),f.default.createElement("div",{className:"c-fs12 c-tl"},f.default.createElement("p",{className:" c-c35 title"},e.title),a>0?f.default.createElement("p",{className:"recommend-price c-fs15"},f.default.createElement("span",{className:"c-fs12"},"¥"),t+".",f.default.createElement("span",{className:"c-fs12"},a)):f.default.createElement("p",{className:"recommend-price c-fs15"},f.default.createElement("span",{className:"c-fs12"},"¥"),t))))}}]),t}(),J=[];J[5]={text:"活动已过期",clsFix:"color-grey",click:null},J[8]={text:"已售罄",clsFix:"color-grey",click:null},J[0]={text:"暂不销售",clsFix:"color-grey",click:null},J[1]={text:"我也开个团",click:"showModal",activeType:"groupBuy"},J[2]={text:"重新开团",click:"showModal",activeType:"groupBuy"},J[3]={text:"分享",click:"BUY"},J[4]={text:"确定参团",click:"showModal",activeType:"joinGroup"},J[6]={text:"参与次数到上限",clsFix:"color-grey",click:null},J[10]={text:"开团已达上限",clsFix:"color-grey",click:null},J[7]={text:"登录后参团",click:null},J[9]={text:"仅限新人参团",clsFix:"color-grey",click:null};var X=function(e){function t(){var e,a,r;C(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=S(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.showModal=function(){r.props.UpdateBuyModal({buyModal:!0})},r.closeModal=function(){r.props.UpdateBuyModal({buyModal:!1})},S(r,a)}return M(t,p.Component),d(t,[{key:"componentWillMount",value:function(){var e=J[this.getGroupState()];this.state={groupState:e}}},{key:"getGroupState",value:function(){var e=this.props,t=e.data,a=e.data,n=a.item,r=a.is_open,o=e.promotion.realStore,i=t.group.required_person-t.group.current_person,l=(new Date(t.group.expire_time.replace(/-/g,"/")).getTime()-new Date(t.group.now_time.replace(/-/g,"/")).getTime())/1e3;return"SHELVING"!==n.status?0:0===o?8:"GroupBuy"!==t.item_type?5:this.props.isLogin?l<=0||i<=0?1===r?2:1:1===r?2:4:7}},{key:"bindClick",value:function(e){e.click&&this[e.click]()}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.item,n=t.group,r=t.is_open,o={primary_image:a.primary_image,tax_rate:a.tax,trade_type:a.trade_type,object_id:1===n.is_dealed?1===r?0:this.props.location.query.object_id:0,groupPrice:n.price,shop_id:a.shop_id,shop:a.shop},i=u({},this.props,this.state,{itemId:this.props.data.item.id,data:o,closeModal:this.closeModal}),l=this.state.groupState;return f.default.createElement("section",{className:"group-purchase-btn"},f.default.createElement(E.BuyModal,u({},i,{active:l.activeType})),b.hideFlag&&f.default.createElement("a",{className:"more-pintuan",onClick:function(e){e.preventDefault(),(0,A.miniProgramGroup)()}},f.default.createElement("span",{className:"list-icon"},f.default.createElement("img",{src:"/src/img/pintuan/white-home.png"})),"更多拼团"),f.default.createElement(_.LinkChange,{className:"jump-group-btn sure-join-group "+(l.clsFix||" "),onClick:function(){e.bindClick(l)}},l.text))}}]),t}();function Q(e){return{promotion:e.itemIndex.promotion,retState:e.itemIndex.retState,buyModal:e.itemIndex.buyModal,buyActive:e.itemIndex.buyActive,proStatus:e.itemIndex.proStatus,areaData:e.itemIndex.areaData}}function Z(e){return{Promotion:function(t){var a=t.data.salesmanId?salesmanId:window.localStorage.getItem("salesmanId");e(I("promotionData",u({},T.Promotion,{params:{item_id:t.data.item.id,salesman_id:a}})))},UpdateBuyModal:function(t){e(P("updateBuyModal",t))},InitState:function(t){e(P("initState",{ret:t}))}}}var Y=(0,g.connect)(function(e){return u({},e.global)})(X);t.default=(0,g.connect)(Q,Z)(O)}).call(this,a("OOjC"))},kjFZ:function(e,t,a){},kqn0:function(e,t,a){e.exports={shady:"_1ZK1o7U5FLZCFfrBclyf1o"}},lEnC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a("U7vG")),r=i(a("nrOz")),o=a("j8tI");function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return n.default.createElement("div",null,n.default.createElement(o.Shady,{styles:{background:"transparent"}}),n.default.createElement("div",{className:r.default.popupLoad},n.default.createElement("div",{className:r.default.popupLoadBox},n.default.createElement("div",{className:r.default.popupLoadImg}," ")),n.default.createElement("div",{className:r.default.popupLoadText},"Loading ...")))}},lL7v:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=_(a("U7vG")),p=_(a("211U")),f=a("Zfgq"),m=_(a("U1k0")),h=a("wj5X"),g=_(a("B6QQ")),v=a("5qLU"),y=a("Hl9d");function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}var b=(0,p.default)(m.default)(c=function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=E(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.toggle=function(){var e=r.props,t=(e.initialData,e.toggleEdit);e.edit;t()},E(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,h.PureComponent),u(t,[{key:"storeIcon",value:function(e){switch(e){case"icon_biz":return d.default.createElement("img",{src:a("n2/B"),style:{verticalAlign:"-4px"},width:"15",height:"17"});case"icon_self":return d.default.createElement("img",{src:a("thos"),style:{verticalAlign:"-4px"},width:"20",height:"20"});case"icon_good":return d.default.createElement("img",{src:a("f6Rb"),style:{verticalAlign:"-4px"},width:"17",height:"17"});default:return d.default.createElement("img",{src:a("QS0o"),style:{verticalAlign:"-3px"},width:"16",height:"15"})}}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.edit;return d.default.createElement("div",{styleName:"storeHeader"},d.default.createElement("div",{styleName:"checkbox"},d.default.createElement(g.default,{isCheck:t.storeCheck,handleCheck:this.props.handleCheck})),d.default.createElement("a",{onClick:function(e){e.preventDefault(),1!=t.is_open||a?(0,y.miniProgramShopCart)():f.browserHistory.push(v.DIR+"/store/home?shop="+t.shop_id)},styleName:"storeName"},d.default.createElement("div",{styleName:"storeNameText"},this.storeIcon(t.shop_icon),t.alias||t.name),1==t.is_open&&!a&&d.default.createElement("div",{styleName:"openIcon"},d.default.createElement("i",{styleName:"arrowRightIcon"}," "))),d.default.createElement("div",{styleName:"storeEdit"},t.show_coupons&&!a?d.default.createElement("span",{styleName:"one",onClick:this.props.popupCoupon.bind(null,t.shop_id)},"领券"):"",d.default.createElement("span",{styleName:"two",onClick:this.toggle},a?"完成":"编辑")))}}]),t}())||c;t.default=b},mhKy:function(e,t){e.exports="data:image/png;base64,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"},ml4l:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.modalA=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=h(u),p=h(a("R25O")),f=a("f+hS"),m=a("j8tI");function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.modalClose=function(){a.isMount&&(a.setState({show:!1}),setTimeout(function(){a.props.destroy()},200))},a.modalSure=function(){a.isMount&&(a.modalClose(),a.props.sure&&a.props.sure())},a.isMount=!0,a.state={show:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({show:!0})},0)}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement(m.Shady,null),d.default.createElement("div",{className:p.default.modal+" "+(this.state.show?p.default.active:"")},d.default.createElement("div",{className:p.default.modalText},d.default.createElement("span",null,this.props.msg)),d.default.createElement("div",{className:p.default.modalBtn},d.default.createElement("div",{onClick:this.modalClose},d.default.createElement("span",null,"取消")),d.default.createElement("div",{onClick:this.modalSure},d.default.createElement("span",null,"确定")))))}}]),t}();t.modalA=new f.Modal(g)},mskG:function(e,t,a){"use strict";var n=o(a("//Fk")),r=o(a("C4MV"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.compress=function(e){return new n.default(function(t,a){var n=new FileReader,r=new Image;n.onload=function(){r.src=this.result,this.result.length<=102400?(r=null,t(this.result)):r.onload=function(){u.browser.versions.ios?new d(e,r).init().then(t):t(function(e){var t=e.width,a=e.height,n=void 0,r=document.createElement("canvas"),o=r.getContext("2d"),i=document.createElement("canvas"),l=i.getContext("2d");(n=t*a/4e6)>1?(n=Math.sqrt(n),t/=n,a/=n):n=1;r.width=t,r.height=a;var s=void 0;if((s=t*a/1e6)>1){s=~~(Math.sqrt(s)+1);var c=~~(t/s),u=~~(a/s);i.width=c,i.height=u;for(var d=0;d<s;d++)for(var p=0;p<s;p++)l.drawImage(e,d*c*n,p*u*n,c*n,u*n,0,0,c,u),o.drawImage(i,d*c,p*u,c,u)}else o.drawImage(e,0,0,t,a);var f=r.toDataURL("image/jpeg",.1);return i.width=i.height=r.width=r.height=0,f}(r))}},n.readAsDataURL(e)}).catch(function(e){console.log(e)})};var l,s=a("sbrb"),c=(l=s)&&l.__esModule?l:{default:l},u=a("qeJi");var d=function(){function e(t,a){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rotate=function(e){var t=n.img,a=t.width,r=t.height;switch(e){case 5:case 6:case 7:case 8:n.canvas.width=r,n.canvas.height=a;break;default:n.canvas.width=a,n.canvas.height=r}if(u.browser.versions.ios)switch(e){case 2:n.ctx.translate(a,0),n.ctx.scale(-1,1),n.ctx.drawImage(n.img,0,0,a,r);break;case 3:n.ctx.rotate(180*Math.PI/180),n.ctx.drawImage(n.img,-a,-r,a,r);break;case 4:n.ctx.translate(a,0),n.ctx.scale(-1,1),n.ctx.rotate(180*Math.PI/180),n.ctx.drawImage(n.img,-a,-r,a,r);break;case 5:n.ctx.translate(a,0),n.ctx.scale(-1,1),n.ctx.rotate(90*Math.PI/180),n.ctx.drawImage(n.img,0,-a,r,a),n.ctx.drawImage(n.img,0,-r,-a,r);break;case 6:n.ctx.rotate(90*Math.PI/180),n.ctx.drawImage(n.img,0,-r,a,r);break;case 7:n.ctx.translate(a,0),n.ctx.scale(-1,1),n.ctx.rotate(270*Math.PI/180),n.ctx.drawImage(n.img,-a,0,a,r);break;case 8:n.ctx.rotate(270*Math.PI/180),n.ctx.drawImage(n.img,-a,0,a,r);break;default:n.ctx.drawImage(n.img,0,0,a,r)}return n.canvas.toDataURL("image/jpeg",.1)},this.img=a,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.tCanvas=document.createElement("canvas"),this.tctx=this.tCanvas.getContext("2d"),this.file=t}return i(e,[{key:"init",value:function(){var e=this,t=this;return new n.default(function(a){c.default.getData(e.file,function(){var e=c.default.getTag(this,"Orientation");a(t.rotate(e))})})}},{key:"compress",value:function(){var e=this.img,t=e.width,a=e.height;(this.ratio=t*a/4e6)>1?(this.ratio=Math.sqrt(this.ratio),t/=this.ratio,a/=this.ratio):this.ratio=1,this.canvas.width=t,this.canvas.height=a;var n=void 0;if((n=t*a/1e6)>1){var r=~~(t/(n=~~(Math.sqrt(n)+1))),o=~~(a/n);this.tCanvas.width=r,this.tCanvas.height=o;for(var i=0;i<n;i++)for(var l=0;l<n;l++)this.tctx.drawImage(this.img,i*r*this.ratio,l*o*this.ratio,r*this.ratio,o*this.ratio,0,0,r,o),this.ctx.drawImage(this.tCanvas,i*r,l*o,r,o)}else this.ctx.drawImage(this.img,0,0,t,a);var s=this.canvas.toDataURL("image/jpeg",.1);return this.tCanvas.width=this.tCanvas.height=this.canvas.width=this.canvas.height=0,s}}]),e}()},"n2/B":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAiCAMAAACUYSJFAAAAmVBMVEUAAADHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3nHs3n////49u/18ufKt4H+/fvr5M/8+/jm3cTk2r7Wx5zSwZP7+fTy7d/p4cng1rbZzKXYyqHTxJbNu4jItHpnJO/VAAAAHnRSTlMA8erlFKt2SCcJ1sOGbGIEAvexpJlmSkLd075bNzbFgpHdAAAA90lEQVQoz53TyZKCMBCA4Sbsq7jP2j2CoLjr+z/cGIKVIIGy/C85fKdOdYOSlUzYJLFAk+eEKAodryXpbxSgWhD9pIJ8d2ZiN3O28AFsA/sybMChXtdTTvfyk1bPHDmfNbrN6cjfI+VbqRI3iFmGuJEMzUCXgiP+EXIuLi2tCirxoVhSUSla7eiAUvFAO86G0D2tUVVc017qtbxhRiupt/IqlSdVpNW61XuKopeUDSgDe0BtcJvp24nfcQG+ejVMAbwx6hvXa/3downUxVqMocllHWML5b6mTzi1QG0ZKPa5hKdGc7Mxcz6Cbr5jcIu56bKiD8cHpX+stVypkx0S9gAAAABJRU5ErkJggg=="},ndWb:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={load:!0,discrimination:{},banner:[],list:[],disTop:0,eachList:[],defaultIndex:0,defaultId:0,page:{},gettingList:!0,hasMore:!0,gettingMore:!1,isReturn:!1,countCart:0};t.default=(0,l.default)("channel",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"initSuccess":return(0,o.default)({},i({},e),function(e,t){var a=e.data.banner.list,n=e.data.list.list,r=n.length?n[0].id:"";return(0,o.default)({},i({},t),{load:!1,banner:a,list:n,defaultId:r})}(t.result,e));case"saveTop":return(0,o.default)({},i({},e),{disTop:t.value});case"changeReturn":return(0,o.default)({},i({},e),{isReturn:t.value});case"changeGettingList":return(0,o.default)({},i({},e),{gettingList:t.value});case"changeGettingMore":return(0,o.default)({},i({},e),{gettingMore:t.value});case"getDefaultIndex":return(0,o.default)({},i({},e),{defaultIndex:t.value});case"getDefaultId":return(0,o.default)({},i({},e),{defaultId:t.value});case"discrimination":return(0,o.default)({},i({},e),function(e,t){var a={};return"qyg"==e?a=(0,o.default)({},i({},t),{discrimination:{type:e,inputShowState:!0,oneMoreItemType:1,bannerPosition:"bottom"}}):"xtlp"==e&&(a=(0,o.default)({},i({},t),{discrimination:{type:e,inputShowState:!1,oneMoreItemType:0,bannerPosition:"top"}})),a}(t.channelType,e));case"getEachListSuccess":return(0,o.default)({},i({},e),function(e,t){var a=void 0;if(e.data){var n=e.data.data.list.item_list,r=e.data.data.page,l=!(r.current_page>=r.total_page);a=(0,o.default)({},i({},t),{eachList:n,gettingList:!1,page:r,hasMore:l,load:!1,topicList:e.data.data.list})}else a=(0,o.default)({},i({},t),{eachList:[],gettingList:!1,page:0,hasMore:!1,load:!1,topicList:e.data.data.list});return a}(t.result,e));case"addEachListSuccess":return(0,o.default)({},i({},e),function(e,t){var a=t.eachList.concat(e.data.data.list.item_list),n=e.data.data.page,r=n.current_page!==n.total_page;return(0,o.default)({},i({},t),{eachList:a,gettingMore:!1,page:n,hasMore:r})}(t.result,e));case"getCartCountSuccess":return(0,o.default)({},i({},e),function(e,t){var a=e.data.count;return(0,o.default)({},i({},t),{countCart:a})}(t.result,e));default:return e}},s)},nrOz:function(e,t,a){e.exports={popupLoad:"_2Y2nkSMWhJbICN8WiCugAn",popupLoadImg:"_3ievdQpPwGaU1q7Am3FZ13",popupLoadText:"_3oL8oyMao17-NapT1Rp54y"}},nztU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=function(e,t,a,n){var r=new Date;r.setTime(r.getTime()+24*(a||1)*60*60*1e3),document.cookie=e+"="+encodeURI(t)+";expires="+r.toGMTString()+";domain=.tairanmall.com;path=/"},t.getCookie=function(e){var t,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?decodeURI(t[2]):null},t.clearCookie=function(e){var t={};document.cookie.split(";").map(function(e,a){t[e.split("=")[0]]=e.split("=")[1]});var a=new Date;for(var n in a.setTime(a.getTime()+-864e5),t)(n=n.trim())===e&&(document.cookie=n+"="+encodeURI("")+";expires="+a.toGMTString()+";path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=.tairanmall.com;path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=ncwxapp.tairanmall.com;path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=wx.tairanmall.com;path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=jr-m.tairanmall.com;path=/",document.cookie=e+"="+encodeURI("")+";expires="+a.toGMTString()+";domain=m.tairanmall.com;path=/")}},oomX:function(e,t,a){"use strict";(function(e){var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=f(u),p=(f(a("O27J")),a("Zfgq"));a("d2xe"),a("fw66");function f(e){return e&&e.__esModule?e:{default:e}}a("6RO1");var m=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,u.Component),c(a,[{key:"componentWillMount",value:function(){document.title="收货信息"}},{key:"componentDidMount",value:function(){e("#goods-receive").css({minHeight:e(window).height()})}},{key:"render",value:function(){return d.default.createElement("div",{"data-page":"goods-receive"},d.default.createElement("section",{id:"goods-receive",ref:"goods-receive"},d.default.createElement("div",{className:"wrapper c-fs15 c-c35"},d.default.createElement(p.Link,{to:"/goodsReceiveInfo/addressManage"},d.default.createElement("div",{className:"address"},"地址管理",d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/trArror.png"}))),d.default.createElement(p.Link,{to:"/goodsReceiveInfo/identityManage"},d.default.createElement("div",null,"身份证管理",d.default.createElement("img",{src:"../src/img/addressAndIdentityInfo/trArror.png"}))))))}}]),a}();t.default=m}).call(this,a("OOjC"))},"p2+W":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){a.e(6).then(function(e){window.secCaptcha=a("4I33"),t(null,a("404C").default)}.bind(null,a)).catch(a.oe)}},pKtA:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpecItem=t.default=void 0;var c,u,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=k(a("U7vG")),f=k(a("211U")),m=k(a("psHh")),h=a("wj5X"),g=k(a("B6QQ")),v=k(a("AYJ8")),y=a("Zfgq"),_=a("qeJi"),E=a("5VVT"),b=a("f2t5"),w=a("5qLU");function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var C=function(e){var t=function(e){return isNaN(Number(e))?"":{year:(e=10==e.toString().length?new Date(1e3*e):new Date(e)).getFullYear(),month:_.timeUtils.toTwoDigit(e.getMonth()+1),date:_.timeUtils.toTwoDigit(e.getDate()),hour:_.timeUtils.toTwoDigit(e.getHours()),minute:_.timeUtils.toTwoDigit(e.getMinutes()),second:_.timeUtils.toTwoDigit(e.getSeconds())}}(e);if(!t)return"";t.year;return t.month+"月"+t.date+"日"+t.hour+":"+t.minute},S=(0,f.default)(m.default,{allowMultiple:!0})(c=function(e){function t(){return A(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,h.PureComponent),d(t,[{key:"activityTime",value:function(e){var t=this.props.data.promotion_single;if(!t)return"";var a=(new Date).getTime()>new Date(t.start_time.replace(/-/g,"/")).getTime();return C(a?new Date(t.end_time.replace(/-/g,"/")).getTime():new Date(t.start_time.replace(/-/g,"/")).getTime())+(e||t.name)+(a?"结束":"开始")}},{key:"secKillActivityTime",value:function(){var e=this.props.data.promotion_single;if(!e)return"";var t=(new Date).getTime()>new Date(e.end_time.replace(/-/g,"/")).getTime(),a=(new Date).getTime()>new Date(e.start_time.replace(/-/g,"/")).getTime();return t?"":a?p.default.createElement("div",null,C(new Date(e.end_time.replace(/-/g,"/")))+"秒杀结束",p.default.createElement("div",null,"商品仅支持详情页购买",p.default.createElement("i",{styleName:"redArrowIcon"}))):p.default.createElement("div",null,C(new Date(e.start_time.replace(/-/g,"/")))+"秒杀开始",p.default.createElement("div",null,"商品仅支持详情页购买",p.default.createElement("i",{styleName:"redArrowIcon"})),"`")}},{key:"_tagName",value:function(e){switch(e){case"FlashSale":return"特卖";case"DirectReduction":return"直降";case"GroupBuy":return"拼团";case"SecKill":return"秒杀";case"GiftBuy":return"买赠";case"FullMinus":return"满减";case"FullDiscount":return"满折";case"OptionBuy":return"N元任选";case"ExchangeBuy":return"加价换购";default:return""}}},{key:"render",value:function(){var e=this,t=this.props,n=t.edit,r=t.data,o=(t.invalid,t.quantity),i=(t.realStore,r.item_id),l=r.promotion_single,s=r.store,c=r.is_deleted,u=r.sku_id,d=r.cart_id;r.check,l&&["FlashSale","DirectReduction","SecKill"].indexOf(l.type);!l||"FlashSale"!==l.type&&"SecKill"!==l.type||new Date(l.start_time.replace(/-/g,"/")).getTime()<=(new Date).getTime()&&(new Date).getTime()<=new Date(l.end_time.replace(/-/g,"/")).getTime()&&(s=l.store);var f=s;l&&l.user_buy_limit&&l.user_buy_limit>0&&(f=l.user_buy_limit),f&&parseFloat(f)>parseFloat(s)&&(f=s);var m=+r.sell_price;l&&l.price&&l.price>0&&("SecKill"===l.type?new Date(l.start_time.replace(/-/g,"/")).getTime()<=(new Date).getTime()<new Date(l.end_time.replace(/-/g,"/")).getTime()&&(m=+l.price):m=+l.price);var h=r.image?r.image:a("VM8K"),_=m,k=+r.cart_price-_>0;return p.default.createElement("div",{styleName:"oneItem"},p.default.createElement("div",{styleName:r.promotion_single&&"SecKill"===r.promotion_single.type?"checkbox secKillChackbox":"checkbox"},p.default.createElement(g.default,{handleCheck:this.props.handleCheck,invalid:c,isCheck:r.check,seckill:r.promotion_single&&"SecKill"===r.promotion_single.type,disable:r.promotion_single&&"ExchangeBuy"===r.promotion_single.type})),p.default.createElement(y.Link,{styleName:"itemInfo","data-item-info":!0,to:w.DIR+"item?item_id="+i,onClick:function(e){n&&e.preventDefault()}},p.default.createElement("div",{styleName:"itemImg"},p.default.createElement("div",{styleName:"imgClick"},p.default.createElement("img",{src:(0,b.addImageSuffix)(h,"_t"),width:"70",height:"70"}),r.is_deleted||s<=0?p.default.createElement("img",{styleName:"imgNoItem",src:a("mhKy")}):""),p.default.createElement("div",{styleName:"numInfo"},(l&&"SecKill"!=l.type&&l.user_buy_limit&&l.user_buy_limit>0?p.default.createElement("p",null,"限购",l.user_buy_limit,"件"):s<6&&l&&"SecKill"!=l.type||s<6&&!l?p.default.createElement("p",null,"仅剩",s,"件"):"")||"",s<=0&&p.default.createElement("p",null,"库存不足"))),p.default.createElement("div",{styleName:"itemDetail"},n?p.default.createElement("div",{styleName:"itemCtrl"},p.default.createElement(v.default,{data:r,disable:r.promotion_single&&"ExchangeBuy"===r.promotion_single.type,buyLimit:f,handlePlus:this.props.handlePlus,quantity:this.props.quantity,handleReduce:this.props.handleReduce,handleNum:this.props.handleNum,handleInputNum:this.props.handleInputNum}),this.props.hiddenDelete?"":p.default.createElement("div",{styleName:"deleteBtn",onClick:this.props.handleDelete},p.default.createElement("img",{src:a("gNAs")}))):p.default.createElement("div",{styleName:"title"},l&&"SecKill"!==l.type&&"GiftBuy"!==l.type&&p.default.createElement(E.RedLabel,{className:"c-mr3"},this._tagName(l.type)),p.default.createElement("span",{style:{verticalAlign:"top"}},r.title)),r.spec_text?p.default.createElement("div",{styleName:"props",className:n?"props-click":"",onClick:function(){n&&e.props.popupSaleAttr(i,h,u,d)}},p.default.createElement("div",{styleName:n?"propsText":""},r.spec_text),n&&p.default.createElement("i",{styleName:"propsDownIcon"})):"",r.tax_rate>0&&p.default.createElement("div",{styleName:"tax",className:n?"c-vh":""},"预计税费：¥",+(+r.tax_rate*m*o).toFixed(2)),k?p.default.createElement("div",{styleName:"reduce",className:n?"c-vh":""},"已降¥",+(+r.cart_price-_).toFixed(2)):"",l&&"FlashSale"===l.type&&p.default.createElement("div",{styleName:"activity",className:n?"c-vh":""},this.activityTime("特卖")),l&&"SecKill"===l.type&&p.default.createElement("div",{styleName:"activity",className:n?"c-vh":"",style:{WebkitLineClamp:2}},this.secKillActivityTime()),n?"":p.default.createElement("div",{styleName:"numPrice",style:{marginTop:r.spec_text||r.tax_rate>0&&r.tax>0||l&&"FlashSale"===l.type?0:"19px"}},p.default.createElement("span",{styleName:"price"},"¥",+m),p.default.createElement("span",{styleName:"num"},"×",o)),n?p.default.createElement("div",{style:{height:"4px"}}," "):"")))}}]),t}())||c;t.default=S;t.SpecItem=(0,f.default)(m.default,{allowMultiple:!0})(u=function(e){function t(){return A(this,t),N(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,h.PureComponent),d(t,[{key:"_tagName",value:function(e){switch(e){case"FlashSale":return"特卖";case"DirectReduction":return"直降";case"GroupBuy":return"拼团";case"SecKill":return"秒杀";case"GiftBuy":return"买赠";case"FullMinus":return"满减";case"FullDiscount":return"满折";case"OptionBuy":return"N元任选";case"ExchangeBuy":return"加价换购";default:return""}}},{key:"render",value:function(){var e=this,t=this.props,n=t.edit,r=t.data,o=t.give,i=t.type,l=t.mainQuantity,s=r.promotion_single,c=r.item_id,u=r.sku_id,d=r.cart_id,f=r.store,m=s?+s.price:r.sell_price?+r.sell_price:r.price;"ExchangeBuy"==i&&(m=r.price);var h=r.image?r.image:a("VM8K"),g=r.base&&l?+r.base*+l:0;return parseFloat(f)<parseFloat(g)&&(g=parseFloat(f)),p.default.createElement("div",{styleName:"specItem","data-spec-item":!0},p.default.createElement("div",{styleName:"specInfo "+(f<=0?"invalid":""),"data-item-info":!0},p.default.createElement("div",{styleName:"itemImg"},p.default.createElement(y.Link,{styleName:"imgClick",to:w.DIR+"/item?item_id="+c,onClick:function(e){n&&e.preventDefault()}},p.default.createElement("img",{src:(0,b.addImageSuffix)(h,"_t"),width:"70",height:"70"}),f<=0?p.default.createElement("img",{styleName:"imgNoItem",src:a("mhKy")}):"")),p.default.createElement("div",{styleName:"itemDetail"},p.default.createElement(y.Link,{styleName:"title",to:w.DIR+"item?item_id="+c},s&&(f<=0?p.default.createElement(E.GreyLabel,{className:"c-mr3"},s.type):p.default.createElement(E.RedLabel,{className:"c-mr3"},s.type)),"ExchangeBuy"===i&&p.default.createElement(E.RedLabel,{className:"c-mr3"},"换购"),p.default.createElement("span",{style:{verticalAlign:"top"}},r.title)),r.spec_text?p.default.createElement("div",{styleName:"specProps",onClick:function(){!o&&"ExchangeBuy"!==i&&n&&e.props.popupSaleAttr(c,h,u,d)}},r.spec_text):"",r.tax_rate>0&&p.default.createElement("div",{styleName:"tax",className:n?"c-vh":""},"预计税费：¥",+(+r.tax_rate*m*quantity).toFixed(2)),p.default.createElement("div",{styleName:"numPrice",style:{marginTop:r.spec_text||r.tax_rate>0&&r.tax>0?0:"19px"}},o?p.default.createElement(E.RedBgLabel,{className:"c-fl "+(f<=0?"c-bg999":"c-bgdred")},"赠品"):p.default.createElement("span",{styleName:"price"},"¥",+m),p.default.createElement("span",{styleName:"num"},"×",g||1)))))}}]),t}())||u},pdlr:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0});var i=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(a("GHKy"));var s={load:!0,discrimination:{},banner:[],list:[],disTop:0,eachList:[],defaultIndex:0,defaultId:0,pages:{},gettingList:!0,hasMore:!0,gettingMore:!1,isReturn:!1,countCart:0};t.default=(0,l.default)("qygIndex",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"initSuccess":return(0,o.default)({},i({},e),function(e,t){var a=e.data.banner,n=e.data.list,r=n.length?n[0].id:"";return(0,o.default)({},i({},t),{load:!1,banner:a,list:n,defaultId:r})}(t.result,e));case"saveTop":return(0,o.default)({},i({},e),{disTop:t.value});case"changeReturn":return(0,o.default)({},i({},e),{isReturn:t.value});case"changeGettingList":return(0,o.default)({},i({},e),{gettingList:t.value});case"changeGettingMore":return(0,o.default)({},i({},e),{gettingMore:t.value});case"getDefaultIndex":return(0,o.default)({},i({},e),{defaultIndex:t.value});case"getDefaultId":return(0,o.default)({},i({},e),{defaultId:t.value});case"discrimination":return(0,o.default)({},i({},e),function(e,t){var a={};return"qyg"==e?a=(0,o.default)({},i({},t),{discrimination:{type:e,inputShowState:!0,oneMoreItemType:1,bannerPosition:"bottom"}}):"xtlp"==e&&(a=(0,o.default)({},i({},t),{discrimination:{type:e,inputShowState:!1,oneMoreItemType:0,bannerPosition:"top"}})),a}(t.channelType,e));case"getEachListSuccess":return(0,o.default)({},i({},e),function(e,t){var a=void 0;if(e.data){var n=e.data.list[0].item_list,r=e.data.pages,l=!(r.current>=r.total);a=(0,o.default)({},i({},t),{eachList:n,gettingList:!1,pages:r,hasMore:l})}else a=(0,o.default)({},i({},t),{eachList:[],gettingList:!1,pages:0,hasMore:!1});return a}(t.result,e));case"addEachListSuccess":return(0,o.default)({},i({},e),function(e,t){var a=t.eachList.concat(e.data.list[0].item_list),n=e.data.pages,r=n.current!==n.total;return(0,o.default)({},i({},t),{eachList:a,gettingMore:!1,pages:n,hasMore:r})}(t.result,e));case"getCartCountSuccess":return(0,o.default)({},i({},e),function(e,t){console.log(e);var a=e.data.cart_num;return(0,o.default)({},i({},t),{countCart:a})}(t.result,e));default:return e}},s)},ppyJ:function(e,t){!function(e,t){function a(){var t=o.getBoundingClientRect().width/10;o.style.fontSize=t+"px",u.rem=e.rem=t}var n,r=e.document,o=r.documentElement,i=r.querySelector('meta[name="viewport"]'),l=r.querySelector('meta[name="flexible"]'),s=0,c=0,u=t.flexible||(t.flexible={});if(i){console.warn("将根据已有的meta标签来设置缩放比例");var d=i.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(c=parseFloat(d[1]),s=parseInt(1/c))}else if(l){var p=l.getAttribute("content");if(p){var f=p.match(/initial\-dpr=([\d\.]+)/),m=p.match(/maximum\-dpr=([\d\.]+)/);f&&(s=parseFloat(f[1]),c=parseFloat((1/s).toFixed(2))),m&&(s=parseFloat(m[1]),c=parseFloat((1/s).toFixed(2)))}}if(!s&&!c){var h=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),g=e.devicePixelRatio;c=1/(s=h?g>=3&&(!s||s>=3)?3:g>=2&&(!s||s>=2)?2:1:1)}if(o.setAttribute("data-dpr",s),!i)if((i=r.createElement("meta")).setAttribute("name","viewport"),i.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),o.firstElementChild)o.firstElementChild.appendChild(i);else{var v=r.createElement("div");v.appendChild(i),r.write(v.innerHTML)}e.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(a,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(n),n=setTimeout(a,300))},!1),"complete"===r.readyState?r.body.style.fontSize=12*s+"px":r.addEventListener("DOMContentLoaded",function(){r.body.style.fontSize=12*s+"px"},!1),a(),u.dpr=e.dpr=s,u.refreshRem=a,u.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},u.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))},psHh:function(e,t,a){e.exports={oneItem:"_3wIOSBQ4z3hR5DeTKrLACW",checkbox:"_3iorJkTcsjfzzZr8NPcAXY",secKillChackbox:"_3pflzzVA-aMRCDEhC4lIcv",itemInfo:"_33uHDGywT5dxlcZWNmSC3L",itemImg:"PNhYZGDPdXOsFUL8NxyBr",imgClick:"_32BgZGiNGDhbTJZ52IzBD2",imgNoItem:"_1Bp-9XMhyWHm2jchDJYQ4X",numInfo:"f05O9FGFPA2VoqJptoSjk",itemDetail:"_2bx248dqL25uXKum3ZbzKr",itemCtrl:"_2t5yw3oj2vbvs4l2hjb4Nu",deleteBtn:"_3eN4GO3xoSYumOLmBv83vL",title:"_1L5rEjuvzgudo21HF_M1dL",props:"_2-CHv-AwmswIWjtbZXNJwc",propsText:"_3vQKFg3l_9luijo0vXCYD3",propsDownIcon:"_17O8SjlEh3BJvDJK4SD7IK",reduce:"_1FsZwtZtWeYHfK-zBMq97e",activity:"LAjoS_cDMgX1Li5RBtBgG",tax:"_1k5JPGNkNKYlYOnqMrjpI3",biz:"_1UIgPfTIUjCaOwTyQ_llRx",redArrowIcon:"XJPWeBJtf94Wt-493Bp9M",numPrice:"_5Isd1YNNm3zjtJcdDTKeS",price:"_2UrLCfafI-jtoNXGg2zd1k",num:"_3IZrJTyOZ_DqTjD-2kMtVB",specItem:"_2DPK8Wdv1qzGHOVihraKPF",specInfo:"_2LxuyAmrczXdcBYkTKvsR1",invalid:"xCpo_O_bcsM7f9I4h28KY",specProps:"tIbfWX8y3pCbSuGrjhLzJ"}},q7GU:function(e,t,a){"use strict";var n=o(a("C4MV")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,l=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a("GHKy"),c=(i=s)&&i.__esModule?i:{default:i};var u={load:!0,asid:"",data:"",name:"",logisticsNum:""};t.default=(0,c.default)("afterSaleLogistics",function(){var e,t,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,o=arguments[1];switch(o.type){case"resetData":return l({},u,o.query);case"getDataSuccess":return l({},r,{load:!1,data:o.result.data.delivery});case"ctrlModal":return l({},r,{modal:l({},o.modal)});case"inputChange":return l({},r,(e={},t=o.name,a=o.value,t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e));default:return r}},u)},qAHI:function(e,t,a){"use strict";var n=o(a("//Fk")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,l=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a("mtWM"),c=(i=s)&&i.__esModule?i:{default:i},u=(a("Zfgq"),a("Hl9d"));c.default.interceptors.request.use(function(e){var t=e,a=t.headers,n=t.url;return n=n+"?_t="+(new Date).getTime(),a=(0,r.default)(a,{"X-Channel":"TrMall","X-Platform-Type":"XCX","X-Platform-From":"TrMall"}),e=l({},e,{headers:a,url:n})},function(e){return n.default.reject(e)}),c.default.interceptors.response.use(function(e){if(401!==e.data.code)return e;(0,u.miniProgramLogin)(location.href)},function(e){if(!e.response||401!==e.response.data.code)return n.default.reject(e);(0,u.miniProgramLogin)(location.href)}),t.default=c.default},qBGu:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=w(p),m=(a("Zfgq"),a("4n+p")),h=a("5MC1"),g=a("fw66"),v=a("f2Hk"),y=a("qeJi"),_=a("nztU"),E=a("5qLU"),b=w(a("mtWM"));function w(e){return e&&e.__esModule?e:{default:e}}var k={uc_wx:{url:E.UCENTER+"/login/wechat"},uc_isLogin:{url:E.UCENTER+"/user"},setOpenId:{url:E.WXAPI+"/userBind"}},A=(0,v.concatPageAndType)("userLogin"),N=(0,v.concatPageAndType)("global"),x=function(t){function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,p.Component),d(a,[{key:"componentWillMount",value:function(){this.props.getPower(),this.state={height:e(window).height()}}},{key:"render",value:function(){return f.default.createElement("div",null,this.props.showPopup&&f.default.createElement("div",{style:{height:this.state.height,overflow:"hidden",background:"rgba(0,0,0,0.5)"}},f.default.createElement(h.LoginPopupModule,this.props)),f.default.createElement(g.PopupTip,{active:this.props.prompt,msg:this.props.promptMsg,onClose:this.props.tipClose}))}}]),a}();t.default=(0,m.connect)(function(e,t){return u({},e.userLogin)},function(e,t){var a=t.location.query,n=a.redirect_uri,r=a.from,o=a.invite;return{redirect_uri:n=n||"/homeIndex",from:r,invite:o,getPower:function(){var a=t.location.query,r=a.code;a.state,r&&b.default.request(u({},k.uc_wx,{params:{code:r,appId:E.UCAPPID,returnBy:"JSON",platform:"MEDIA_PLATFORM"}})).then(function(t){var a=t.data;if("200"===a.code){var r=a.body,o=r.ident,i=r.token,l=r.extraInfo.openId;(0,_.setCookie)("openId",l),e(A("addIdentAndOpenid",{ident:o,openId:l})),a.body&&i?((0,_.setCookie)("token",i),e(A("addToken",{token:i})),e(N("changeLogin",{login:!0})),b.default.request(u({},k.setOpenId,{params:{openid:l}})).then(function(){window.location.replace(n)}).catch(function(e){console.log(e),window.location.replace(n)})):(e(N("changeLogin",{login:!1})),e(A("ctrlPopup",{status:!0})))}else e(N("changeLogin",{login:!1})),e(A("ctrlPrompt",{prompt:!0,msg:a.message||"服务器繁忙"})),(0,y.urlReplace)(n)}).catch(function(t){throw console.log(t),e(A("ctrlPrompt",{prompt:!0,msg:"服务器繁忙"})),new Error(t)})},popupClose:function(){window.history.go(-2)},tipClose:function(){e(A("ctrlPrompt",{prompt:!1,msg:""}))}}})(x)}).call(this,a("OOjC"))},qFWt:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItemCtrl=t.default=void 0;var u,d,p=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=y(m),g=y(a("hUx7")),v=a("XKGu");function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var w=(d=u=function(e){function t(e){_(this,t);var a=E(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.boxStyle=function(e){return{WebkitTransform:"translate3d("+e+"px,0,0)",transform:"translate3d("+e+"px,0,0)"}},a.posAnimation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,r=Math.ceil(t/n);if(e!==a.state.boxLeft){var o=e>a.state.boxLeft;a._posTimer=setInterval(function(){if(o){var t=a.state.boxLeft+r;t<e?a.setState({boxLeft:t}):(a.setState({boxLeft:e}),clearInterval(a._posTimer),a.props.getIsOpen(!0))}else{var n=a.state.boxLeft-r;n>e?a.setState({boxLeft:n}):(a.setState({boxLeft:e}),clearInterval(a._posTimer),a.props.getIsOpen(!1))}},1e3/n)}else e>0?a.props.getIsOpen(!0):a.props.getIsOpen(!1)},a.getStartPos=function(e){clearInterval(a._posTimer),a._gesturePosX=e.touches[0].pageX},a.gestureMove=function(e){e.stopPropagation();var t=e.touches[0].pageX,n=a._gesturePosX-t;n>0?a.state.boxLeft+n<a.props.ctrlWidth?a.setState({boxLeft:a.state.boxLeft+n}):a.setState({boxLeft:a.props.ctrlWidth}):a.state.boxLeft+n>0?a.setState({boxLeft:a.state.boxLeft+n}):a.setState({boxLeft:0}),a._gesturePosX=t},a.gestureEnd=function(){a.state.boxLeft>a.props.ctrlWidth/2?a.posAnimation(a.props.ctrlWidth):a.posAnimation(0)},a.state={boxLeft:0},a}return b(t,v.PureComponent),f(t,[{key:"componentWillReceiveProps",value:function(e){this.props.isOpen!==e.isOpen&&this.posAnimation(e.isOpen?this.props.ctrlWidth:0)}},{key:"componentWillMount",value:function(){this.props.isOpen?this.setState({boxLeft:this.props.ctrlWidth}):this.setState({boxLeft:0})}},{key:"render",value:function(){var e=this.refs.swipeMain?this.refs.swipeMain.clientHeight+"px":"auto";return h.default.createElement("div",{className:g.default.swiperWrap},h.default.createElement("div",{className:g.default.swipeBox,style:p({width:this.props.winWidth+this.props.ctrlWidth},this.boxStyle(-this.state.boxLeft)),onTouchStart:this.getStartPos,onTouchMove:this.gestureMove,onTouchEnd:this.gestureEnd},h.default.createElement("div",{className:g.default.swipeMain,ref:"swipeMain",style:{width:this.props.winWidth}},this.props.children[0]||this.props.children),h.default.createElement("div",{style:{width:this.props.ctrlWidth,height:e}},this.props.children[1])))}}]),t}(),u.defaultProps={ctrlWidth:115,winWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,isOpen:!1,getIsOpen:function(){}},d);t.default=w;var k=t.ItemCtrl=function(e){function t(){return _(this,t),E(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return b(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",{className:g.default.ctrlBtn,style:{width:this.props.width+"px"||"115px"}},this.props.noCollect||h.default.createElement("div",{className:g.default.collect},h.default.createElement("div",{className:g.default.textWrap,onClick:this.props.handleCollect},h.default.createElement("p",null,"移入"),h.default.createElement("p",null,"收藏"))),h.default.createElement("div",{className:g.default.delete,onClick:this.props.handleDelete},h.default.createElement("p",null,"删除")))}}]),t}();w.ItemCtrl=k},qeJi:function(e,t,a){"use strict";var n,r=a("5dBV"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0}),t.trimZero=t.browser=t.timeUtils=void 0,t.throttle=function(e,t){var a=e,n=void 0,r=void 0,o=!0;return function(){var e=this;return r=arguments,o?(a.apply(e,r),o=!1):!n&&void(n=setTimeout(function(){clearTimeout(n),n=null,a.apply(e,r)},t||500))}},t.delay=function(e,t){var a=e,n=void 0,r=void 0;return function(){var e=this;r=arguments,n&&clearTimeout(n),n=setTimeout(function(){clearTimeout(n),n=null,a.apply(e,r)},t||500)}},t.urlReplace=function(e){/^http/g.test(e)?window.location.replace(e):i.browserHistory.replace(e)};var i=a("Zfgq");t.timeUtils={formatDate:function(e){return isNaN(Number(e))?"":{year:(e=new Date(1e3*e)).getFullYear(),month:this.toTwoDigit(e.getMonth()+1),date:this.toTwoDigit(e.getDate()),hour:this.toTwoDigit(e.getHours()),minute:this.toTwoDigit(e.getMinutes()),second:this.toTwoDigit(e.getSeconds())}},toTwoDigit:function(e){return e<10?"0"+e:e},timeFormat:function(e){var t=this.formatDate(e);return t?t.year+"."+t.month+"."+t.date:""},detailFormat:function(e){var t=this.formatDate(e);return t?t.year+"-"+t.month+"-"+t.date+" "+t.hour+":"+t.minute+":"+t.second:""},cnFormat:function(e){var t=this.formatDate(e);return t?t.month+"月"+t.date+"日"+t.hour+":"+t.minute:""}};t.browser={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"==e.match(/\sQQ/i),safari:e.indexOf("Safari")>-1&&e.indexOf("Chrome")<1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};t.trimZero=function(e){return(0,o.default)((0,o.default)(e).toFixed(2))}},qrts:function(e,t,a){},qzVb:function(e,t,a){"use strict";var n=o(a("C4MV")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,l=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a("GHKy"),c=(i=s)&&i.__esModule?i:{default:i};var u={load:!0,data:"",companyname:"",companycode:"",corpid:""};t.default=(0,c.default)("logicompany",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"resetData":return u;case"getDataSuccess":var a=t.result.data,r={};for(var o in a)"#"==o&&(r=a[o],delete a[o]);return a["#"]=r,l({},e,{load:!1,data:a});case"ctrlModal":return l({},e,function(e,t,a){return t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},t.modal,t.status));case"changeCompany":return l({},e,{companyname:t.name,companycode:t.code,corpid:t.id});default:return e}},u)},qze0:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=y(a("U7vG")),m=y(a("MCAq")),h=y(a("211U")),g=(a("Zfgq"),a("wj5X")),v=a("Hl9d");function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}var E=(0,h.default)(m.default,{allowMultiple:!0})(u=function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=_(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.defaultConfig={msg:"",btnText:"",link:"",imgUrl:"",imgWidth:75,imgHeight:75},_(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,g.PureComponent),p(t,[{key:"render",value:function(){var e=this.props.config;return e=d({},this.defaultConfig,e),f.default.createElement("div",{styleName:"emptyPage"},f.default.createElement("img",{src:e.imgUrl,width:e.imgWidth,height:e.imgHeight}),f.default.createElement("p",{className:"c-fs12 c-cc9"},e.msg),e.noBtn?null:f.default.createElement("a",{styleName:"redBtn",onClick:function(t){t.preventDefault(),e.isH5?browserHistory.push(e.link):(0,v.miniProgramLogin)(e.link)}},e.btnText))}}]),t}())||u;t.default=E},rDJi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(22)]).then(function(e){a("aR0x"),t(null,a("gZqK").default)}.bind(null,a)).catch(a.oe)}},rgEM:function(e,t){e.exports="data:image/gif;base64,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"},rqUH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a("U7vG")),r=o(a("Efj5"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.style,a=e.isFixed;return n.default.createElement("div",{className:a?r.default.fixedLoad:r.default.spaceLoad,style:t||{}},n.default.createElement("div",{className:r.default.animateArea},n.default.createElement("div",{className:r.default.ball+" "+r.default.redBall}," "),n.default.createElement("div",{className:r.default.ball+" "+r.default.blueBall}," ")),n.default.createElement("p",{className:r.default.loadText},"努力加载中~"))}},rsfq:function(e,t,a){"use strict";var n,r=a("woOf"),o=(n=r)&&n.__esModule?n:{default:n};Object.defineProperty(t,"__esModule",{value:!0}),t.createAction=t.PurchaseLimit=t.FilterTradeClass=t.FilterTradeType=t.TradeFade=t.FilterTrade=t.createMSG=void 0;var i=a("f2t5"),l=function(e){return e&&e.__esModule?e:{default:e}}(a("4GUf"));var s=t.createMSG=(0,i.wrap)((0,i.filter)({ACTIONERROR:"请求错误",NOTAREA:"不在配送区域",CARTSUCCESS:"加入购物车成功",SELECTSPEC:"请选择所有规格",MINNUM:"此商品最少购买1件",MAXNUM:"此商品最多只能购买{0}件",STRATEGY:"请先选择分期策略"}),function(e,t){var a=e(t),n=[].concat(Array.prototype.slice.call(arguments));return a.replace(/\{(\d+)\}/g,function(e,t){return n[+t+2]})}),c={Domestic:"国内贸易",Overseas:"海淘",Bonded:"跨境保税",Direct:"海外直邮"};t.FilterTrade=function(e){if("BONDED"==e||"DIRECT"==e)return c[e]},t.TradeFade=function(e){return"DOMESTIC"!==e.trade_type&&0!=e.tax_rate},t.FilterTradeType=function(e){return"OVERSEAS"===e||"DIRECT"===e?"海外直邮":"BONDED"===e?"跨境保税":""},t.FilterTradeClass=function(e){return("BONDED"===e?"blue-label":"yellow-label")+" label"},t.PurchaseLimit=function(e){return"DIRECT"===e||"BONDED"===e},t.createAction=function(e,t){return(0,i.wrap)((0,i.filter)(e),function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e(a);if(!r)return null;var i=n.success,c=n.error;return(0,o.default)({},r,n,t?{error:function(e){l.default.MsgTip({msg:s("ACTIONERROR")}),c&&c(e)},success:function(e){(e.msg||e.message)&&l.default.MsgTip({msg:e.msg||e.message}),i&&i(e)}}:{})})}},sEuz:function(e,t,a){"use strict";var n=i(a("fZjL")),r=i(a("C4MV")),o=i(a("woOf"));function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.redPacketFilter=f;var s=u(a("GHKy")),c=u(a("BYKG"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,a){return t in e?(0,r.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p={load:!0,address:[],amounts:{},assist:{},cart:{},idCards:[],enableSubscribe:[],invoice:{allow_invoice:!1,status:!1,tip:!1,text:"个人-电子",type:"ELEC",action:1,name:"个人"},orderFormRegionList:{},buyMessage:{},couponStatus:!1,couponList:{red_packets:[],usable_coupons:[],unusable_coupons:[]},payTypeChoose:{show:!1,type:"10"},redPacketShow:!1,agree:!0,emptyAddress:!1,newAddress:"",nonDetailAddress:"",couponSelect:{code:"",limit:"",desc:0},from:"",disTop:0,invalidCouponShow:!1,invoiceItemShow:!1,diffNameModal:!1,alterationModal:!1,invoiceModal:!1,redSelectModal:{show:!1,msg:""},itemModal:!1,overBuyLimitItemModal:!1,hasNotice:!0,invalidSupplyGoods:[]};function f(e,t){var a=[],r={10:0,20:0,30:0};if(e&&e.length){var o={};e.map(function(e,t){e.type in r&&(o[e.sku_id]={price:e.amounts.payment,type:e.type})}),(0,n.default)(o).forEach(function(e,t){r[o[e].type]+=o[e].price})}return t.map(function(e){var t=0;"ALL"===e.applicable_item_type?t=r[10]+r[20]+r[30]:t=e.applicable_item_type.split(",").reduce(function(e,t){return e+r[t]},0);t>e.deduct_money&&a.push(e)}),a}var m={typeToStr:{NORMAL:"普通",ELEC:"电子"}};function h(e,t,a,n,r,o){var i=c.default.fromJS(e);return(i=(i=(i=(i=(i=(i=i.setIn(["invoice","type"],t)).setIn(["invoice","action"],a)).setIn(["invoice","text"],function(e,t,a){return"VAT"===e?a+"-增值税":t+"-"+m.typeToStr[e]}(t,n,r))).setIn(["invoice","name"],n)).setIn(["invoice","id"],o)).setIn(["invoice","status"],!0)).toJS()}t.default=(0,s.default)("orderConfirm",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments[1];switch(a.type){case"resetState":return p;case"initialData":return function(e,t,a){var n=e.newAddress,r=e.nonDetailAddress,o=(e.address,e.amounts,e.assist,e.cart,e.idCards,e.invoice),i=(e.orderFormRegionList,e.from,[]),s=[];o=l({},o,t.invoice),t.invoice.disabled_cart_items.map(function(e,a){t.cart.enabled_goods.map(function(t,a){e===t.unique_id&&i.push(t)})}),t.orderFormRegionList.map(function(e,t){s.push(e.shopInfo.shop_id)}),a&&!a.address_id?r=a.detail_address:n=a;var c,u=n||t.address[0];return c=t.idCards.filter(function(e,t){if(u)return e.name===u.name}),l({},e,{address:t.address,amounts:t.amounts,initAmounts:t.amounts,assist:t.assist,cart:t.cart,cartTicket:t.cartTicket,enableSubscribe:t.enableSubscribe,idCards:c,chooseIdCard:{},invoice:o,orderFormRegionList:t.orderFormRegionList,disabledInvoiceItem:i,shopIdArr:s,nonDetailAddress:r,newAddress:n||t.address[0]||"",load:!1})}(t,a.result,a.showChooseAddress);case"initialDataUpdate":return function(e,t,a){return l({},e,{amounts:t,cartTicket:a})}(t,a.data,a.cartTicket);case"addMessage":return l({},t,{buyMessage:l({},t.buyMessage,d({},a.id,a.value))});case"couponData":return function(e,t,a){var n=f(e.cart.enabled_goods,t.red_packets);n.map(function(e){e.is_used=!1,e.is_enable=!0,e.code=e.coupon_code}),t.red_packets=n;var r=e.amounts,o=e.couponSelect,i=t.usable_coupons[0]?t.usable_coupons[0].discount_money:0,s=t.usable_coupons[0]&&t.usable_coupons[0].coupon_code||"",c=r.payment-i;return l({},e,{couponList:t,couponStatus:a,amounts:l({},r,{discount_coupon:i,payment:c}),couponSelect:l({},o,{desc:i,code:s}),initRedPackets:n})}(t,a.result,a.couponStatus);case"redPacketPopup":return l({},t,{redPacketShow:a.status});case"filterRed":return function(e,t){var a=e.couponList,n=e.couponList.red_packets;return n.map(function(e,a){var n=t.filter(function(t){return t.code===e.coupon_code});e.disabled=!n[0].is_enable}),l({},e,{couponList:l({},a,{red_packets:n})})}(t,a.data);case"redSelect":return function(e,t){var a=e.couponList,n=e.couponList.red_packets;return t.forEach(function(e){n[e].check=!n[e].check}),l({},e,{couponList:l({},a,{red_packets:n})})}(t,a.selectArr);case"redClear":return function(e){var t=e.couponList,a=e.couponList.red_packets;return a.map(function(e){e.check=!1}),l({},e,{couponList:l({},t,{red_packets:a})})}(t);case"resetRedPacket":return function(e,t){var a=e.couponList;return t.map(function(e,t){e.disabled=!e.is_enable}),l({},e,{couponList:l({},a,{red_packets:t})})}(t,a.data);case"selectCoupon":return t.amounts,l({},t,{couponSelect:a.couponSelect});case"changeItemModal":return l({},t,{itemModal:a.flag});case"paymentPopup":return l({},t,{payTypeChoose:l({},t.payTypeChoose,{show:a.status})});case"paymentSelect":return l({},t,{payTypeChoose:{show:!1,type:a.status}});case"ctrlModal":return l({},t,(d(e={},a.modal,a.status),d(e,"firstCA",a.firstCA),e));case"invoiceModal":var n=t.invoiceModal;return l({},t,{invoiceModal:!n});case"redSelectModal":return l({},t,{redSelectModal:l({},a.modal)});case"setOrigin":return l({},t,{from:a.origin});case"saveTop":return l({},t,{disTop:a.value});case"selectIdentify":return function(e,t){var a=e.idCards;return(a=[]).push(t),l({},e,{idCards:a})}(t,a.data);case"selectAddress":return a.name?function(e,t,a,n){var r={};return r["newAddressFor"+n]=t,l({},e,r)}(t,a.data,a.from,a.name):function(e,t,a){return l({},e,{newAddress:t,from:a})}(t,a.data,a.from);case"selectInvoice":return h(t,a.invoice,a.action,a.invoiceName,a.unitName,a.id);case"agreeChange":return l({},t,{agree:!t.agree});case"toggleInvoice":return function(e,t){var a=e.invoice;return t?t.map(function(e,t){3==e.type&&(a=l({},a,{id:e.invoice_id}))}):a=l({},a,{type:"ELEC",text:"个人-电子",action:1,name:"个人",tip:!1}),a=l({},a,{status:!a.status}),l({},e,{invoice:a})}(t,a.invoiceData);case"equalName":return function(e){var t=e.newAddress,a=e.idCards;return t=l({},t,{name:a[0].name}),l({},e,{newAddress:t,diffNameModal:!1})}(t);case"changeOverBuyLimitModal":return l({},t,{overBuyLimitItemModal:a.flag});case"changeCrossBorderNoticeStatus":return l({},t,{hasNotice:a.hasNotice});case"invalidSupplyGoods":return l({},t,{invalidSupplyGoods:a.data});default:return t}},p)},sTH4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(5)]).then(function(e){a("aR0x"),a("1nra"),t(null,a("ZdiO").default)}.bind(null,a)).catch(a.oe)}},tJWF:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BarrageStrip=t.HeadNav=void 0;var u,d,p=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.homePageState=W,t.homePageDispatch=J;var m=a("U7vG"),h=A(m),g=a("4n+p"),v=a("d2xe"),y=(A(a("dmKM")),a("Zfgq")),_=a("f2Hk"),E=A(a("qAHI")),b=a("5qLU");a("14IH");var w=a("nztU"),k=a("f2t5");function A(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var S={initData:{url:b.WXAPI+"/getBanner",method:"get"},getOneItem:{url:b.WXAPI+"/getChannel",method:"get"},barrage:{url:b.WXAPI+"/recentTenOrders",method:"get"},getFreshGuide:{url:b.WXAPI+"/promotion/getFreshGuide",method:"get"}},M=(0,_.actionAxios)("homeIndex"),T=(0,_.concatPageAndType)("homeIndex"),I=void 0,P=void 0,O=(d=u=function(t){function a(e){return N(this,a),x(this,(a.__proto__||(0,n.default)(a)).call(this,e))}return C(a,m.Component),f(a,[{key:"componentWillMount",value:function(){this.props.load&&(this.props.flag||(this.props.getPageData(),this.props.getBarrage()))}},{key:"componentDidMount",value:function(){e(window).scrollTop(this.props.disTop),echo.init({offset:1500,throttle:0}),e(".home-index").css({minHeight:e(window).height(),background:"#f4f4f4"})}},{key:"componentDidUpdate",value:function(){echo.init({offset:1500,throttle:0})}},{key:"componentWillUnmount",value:function(){this.props.saveDistanceTop(this.props.activeIndex)}},{key:"render",value:function(){var t=this.props,a=t.load,n=t.listState,r=t.allSellOut,o=t.partSellOut,i=t.banner,l=t.list,s=t.oneList,c=t.activeIndex,u=t.barrage,d=t.resetBarrage,p=t.entrance,f=t.billboard,m=t.page,g=t.showNext,y=t.flag;return h.default.createElement("div",{"data-page":"home-index",style:{height:e(window).height()}},a?h.default.createElement(v.LoadingRound,null):r?h.default.createElement("div",{className:"sell-out"},h.default.createElement("img",{src:"/src/img/home/sell-out.png"}),h.default.createElement("p",null,"上架中，活动即将开始~")):o?h.default.createElement("div",null,h.default.createElement(F,{data:i.list}),h.default.createElement("div",{className:"sell-out1"},h.default.createElement("img",{src:"/src/img/home/sell-out1.png"}))):h.default.createElement("div",{className:"home-index",style:l.list.length?{paddingTop:"41px"}:{}},!!l.list.length&&h.default.createElement(j,{data:l.list,activeIndex:c}),u&&h.default.createElement(B,{data:u,reset:d}),!c&&h.default.createElement(F,{data:i.list,activeIndex:c}),!c&&h.default.createElement(R,{data:p}),!c&&f&&h.default.createElement(U,{data:f}),n?h.default.createElement(H,{data:l,oneList:s,resetListData:this.props.resetListData,getOneList:this.props.getOneList,activeIndex:c,saveDistanceTop:this.props.saveDistanceTop,page:m,addMoreItem:this.props.addMoreItem,isSendingState:this.props.isSendingState,isSending:this.props.isSending,handleState:this.props.handleState,showNext:g,handleFlagState:this.props.handleFlagState,flag:y,saveActiveIndex:this.props.saveActiveIndex,index:this.props.index}):h.default.createElement(v.LoadingRound,null)),h.default.createElement(v.Totop,null),a?"":h.default.createElement(D,null))}}]),a}(),u.contextTypes={router:h.default.PropTypes.object},d),D=function(e){function t(){var e,a,r;N(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=x(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.setGiftCookie=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();t<10&&(t="0"+t),a<10&&(a="0"+a),n<10&&(n="0"+n);var r=new Date,o=n+"/"+a+"/"+t+" 23:59",i=Date.parse(o);r.setTime(i),document.cookie="gfTime="+encodeURI(i)+";expires="+r.toGMTString()+";domain=.tairanmall.com;path=/"},r.judgeGiftCookie=function(){var e=(0,w.getCookie)("gfTime"),t=(new Date).getTime();return e?!(t<e)&&((0,w.clearCookie)("gfTime"),r.setGiftCookie(),!0):(r.setGiftCookie(),!0)},r.closeModal=function(){r.setState({showModal:!1})},x(r,a)}return C(t,m.Component),f(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({is_new:!1,is_login:!1,guide:null,showModal:!1,gfCookie:!1});var t=this.judgeGiftCookie();t&&this.setState({showModal:!0}),this.setState({gfCookie:t}),E.default.request(S.getFreshGuide).then(function(t){var a=t.data.data.data,n=a.guide,r=a.is_new,o=a.is_login;e.setState({is_new:r,is_login:o,guide:n})})}},{key:"render",value:function(){var e=this.state,t=e.guide,a=e.is_new,n=e.showModal,r=e.gfCookie,o=a&&t;return h.default.createElement("div",null,o?n?r?h.default.createElement(L,{image:t.mask_image,link:t.mask_link,close:this.closeModal}):"":h.default.createElement("a",{className:"new-gift bounceOut",href:t.mask_link},h.default.createElement("img",{src:t.fresh_image,style:{width:"100%"}})):"")}}]),t}(),L=function(e){function t(e){N(this,t);var a=x(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.imgOnload=function(){a.setState({imgload:!0})},a.state={imgload:!1},a}return C(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.image,a=e.link,n=this.state.imgload;return h.default.createElement("div",{className:"gift-modal"},h.default.createElement("div",{className:"gift-box"},h.default.createElement("a",{href:a,style:{width:"100%",display:"block"}},h.default.createElement("img",{src:t,className:"big-img",onLoad:this.imgOnload,onError:this.imgOnload})),n?h.default.createElement("div",{className:"close",onClick:this.props.close},h.default.createElement("img",{src:"./src/img/home/close.png"})):""))}}]),t}(),j=t.HeadNav=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,m.Component),f(t,[{key:"componentDidMount",value:function(){this.props.data.length>1&&(I=new Swiper(this.refs.swiperNav,{slidesPerView:"auto",watchSlidesProgress:!0,watchSlidesVisibility:!0,paginationClickable:!0,onTap:function(){P.slideTo(I.clickedIndex)}}))}},{key:"getNavList",value:function(){var e=this.props,t=e.activeIndex,a=e.data;return a&&a.map(function(e,a){return h.default.createElement("div",{className:"swiper-slide "+(a===t?"active":""),key:e.id},h.default.createElement("span",null,e.nav_name))})}},{key:"render",value:function(){return h.default.createElement("div",{"data-plugin":"swiper",className:"home-nav"},h.default.createElement("div",{className:"swiper-container",id:"swiper-containerNav",ref:"swiperNav"},h.default.createElement("div",{className:"swiper-wrapper"},this.getNavList())))}}]),t}(),B=t.BarrageStrip=function(t){function a(e){N(this,a);var t=x(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.state={list:"",show:!1},t}return C(a,m.Component),f(a,[{key:"componentWillMount",value:function(){var e=this,t=this.props.data;this.setState({list:t.shift()}),this.addAnimate();!function a(){e.timer=setTimeout(function(){var n=t.shift();n?(e.setState({list:n}),e.addAnimate(),a()):(clearTimeout(e.timer),e.props.reset())},1e3*(Math.ceil(4*Math.random())+6))}()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),clearTimeout(this.showTimer),clearTimeout(this.hideIimer)}},{key:"addAnimate",value:function(){var e=this;this.showTimer=setTimeout(function(){e.setState({show:!0})},500),this.hideIimer=setTimeout(function(){e.setState({show:!1})},3e3)}},{key:"scrollToPos",value:function(t){var a=this,n=e(window).height(),r=document.body.offsetHeight;n+t>r&&(t=r-n),clearInterval(this.scrollTimer),this.scrollTimer=setInterval(function(){var n=e(window).scrollTop();n-t>200?e(window).scrollTop(n-200):t-n>50?e(window).scrollTop(n+200):(e(window).scrollTop(t),clearInterval(a.scrollTimer))},10)}},{key:"render",value:function(){var e=this.state.list;return e?h.default.createElement("div",{className:"barrage-strip","data-plugin":"barrage"},h.default.createElement("div",{className:"one-strip "+(this.state.show?"active":"")},h.default.createElement("img",{className:"user-avatar",src:"/src/img/icon/avatar/default-avatar.png"}),h.default.createElement("div",{className:"content"},"最新订单来自",e.receiver_state,"的",e.user_name))):null}}]),a}(),R=function(e){function t(){var e,a,r;N(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=x(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.getHtml=function(){return r.props.data.list&&r.props.data.list.map(function(e,t){return h.default.createElement("a",{className:"wrapper",href:e.add_link,key:t},h.default.createElement("img",{src:e.entrance_icon}))})},x(r,a)}return C(t,m.Component),f(t,[{key:"render",value:function(){return this.props.data.list.length?h.default.createElement("div",{className:"channel c-clrfix"},this.getHtml()):null}}]),t}(),U=function(e){function t(){var e,a,r;N(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=r=x(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),r.getHtml=function(){var e=r.props.data.list;return e&&e.map(function(e,t){return h.default.createElement("a",{className:"swiper-slide stop-swiping",href:10===e.type?"/notice?id="+e.id:e.content,key:t},h.default.createElement("div",{className:"active"},1===e.type?h.default.createElement("span",{className:"btn"},"公告"):h.default.createElement("span",{className:"btn"},"活动"),h.default.createElement("span",{className:"title"},e.title)))})},x(r,a)}return C(t,m.Component),f(t,[{key:"componentDidMount",value:function(){this.props.data.list.length>1&&(this.swiper=new Swiper(this.refs.swiperBillboard,{autoplay:3e3,autoplayDisableOnInteraction:!1,direction:"vertical",loop:!0,noSwiping:!0,noSwipingClass:"stop-swiping"}))}},{key:"render",value:function(){var e=this.props.data.list;return e&&e.length?h.default.createElement("div",{"data-plugin":"swiper",className:"bill-board"},h.default.createElement("img",{src:"/src/img/home/hot.jpg"}),h.default.createElement("span",{className:"bl"}),h.default.createElement("div",{className:"swiper-container",ref:"swiperBillboard"},h.default.createElement("div",{className:"swiper-wrapper"},this.getHtml()),h.default.createElement("div",{className:"swiper-pagination"}))):null}}]),t}(),F=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,m.Component),f(t,[{key:"componentDidMount",value:function(){this.props.data.length>1&&(this.swiper=new Swiper(this.refs.swiperBanner,{autoplay:3e3,autoplayDisableOnInteraction:!1,pagination:".swiper-pagination",paginationType:"fraction",loop:!0}))}},{key:"getHtml",value:function(){return this.props.data&&this.props.data.map(function(e,t){return h.default.createElement("a",{className:"swiper-slide",href:e.link,key:t},h.default.createElement("img",{src:e.banner_image}))})}},{key:"render",value:function(){var e=this.props.data,t=void 0;return t=e.length>1?{display:"block"}:{display:"none"},e.length?h.default.createElement("div",{"data-plugin":"swiper",className:"home-banner"},h.default.createElement("div",{className:"swiper-container",ref:"swiperBanner"},h.default.createElement("div",{className:"swiper-wrapper"},this.getHtml()),h.default.createElement("div",{className:"swiper-pagination",style:t}))):null}}]),t}(),H=function(t){function a(t){N(this,a);var r=x(this,(a.__proto__||(0,n.default)(a)).call(this,t));return r.addM=function(e,t){r.props.isSendingState(!0),r.props.addMoreItem(e,t)},r.updateNavPosition=function(){e("#swiper-containerNav .active").removeClass("active");var t=e("#swiper-containerNav .swiper-slide").eq(P.activeIndex).addClass("active");if(!t.hasClass("swiper-slide-visible"))if(t.index()>I.activeIndex){var a=Math.floor(I.width/t.width())-1;I.slideTo(t.index()-a)}else I.slideTo(t.index())},r.state={currentPage:r.props.page.current_page},r}return C(a,m.Component),f(a,[{key:"componentWillReceiveProps",value:function(e){this.state.currentPage=e.page.current_page}},{key:"componentWillUnmount",value:function(){e(window).unbind("scroll.loadmore")}},{key:"componentDidMount",value:function(){var t=this,a=t.props,n=a.data,r=(a.getOneList,a.addMoreItem,a.activeIndex),o=(a.index,void 0);n.list.length>1&&(P=new Swiper(this.refs.swiperList,{initialSlide:r||"",resistanceRatio:0,onSlideChangeStart:function(){t.props.flag&&(t.props.handleFlagState(!1),t.props.isSendingState(!1)),o=n.list[P.activeIndex].id,t.props.saveActiveIndex(P.activeIndex),t.props.flag||(t.props.resetListData(),t.props.handleState(!1),t.props.getOneList(o,1)),t.updateNavPosition();var a=P.activeIndex-2>0?P.activeIndex-2:0;I.slideTo(a),e(window).scrollTop(0)},onSlideChangeEnd:function(e){I.update()}})),e(window).bind("scroll.loadmore",function(){null==o&&(o=n.list[0].id),e(this).scrollTop()>e("#swiper-containerList").height()-e(window).height()&&"下拉加载更多"===e(".add span").html()&&t.addM(o,t.state.currentPage+1)})}},{key:"render",value:function(){var e=this.props,t=e.oneList,a=e.data.list,n=e.activeIndex,r=e.flag,o=e.showNext,i=e.page,l=e.isSending,s=void 0;n%5==0?s="group-title c-clrfix bg1":n%5==1?s="group-title c-clrfix bg2":n%5==2?s="group-title c-clrfix bg3":n%5==3?s="group-title c-clrfix bg4":n%5==4&&(s="group-title c-clrfix bg5");var c=a&&a.map(function(e,r){return r===n?h.default.createElement("div",{className:"swiper-slide",key:e.id},a[n].show_default_img?h.default.createElement("div",{className:s},h.default.createElement("h3",null,a[n].nav_name)):h.default.createElement("img",{className:"channel-img",src:a[n].channel_image}),t.item_list.length?h.default.createElement(q,{data:t.item_list,type:e.style}):h.default.createElement("div",{className:"c-tc",style:{width:"100%",marginTop:"80px"}},h.default.createElement("img",{className:"no-goods",src:"/src/img/home/no-goods.png"}))):h.default.createElement("div",{className:"swiper-slide",key:e.id},h.default.createElement(v.LoadingRound,null))});return h.default.createElement("div",{"data-plugin":"swiper",className:"group-list"},h.default.createElement("div",{className:"swiper-container",id:"swiper-containerList",ref:"swiperList",style:{zIndex:0}},h.default.createElement("div",{className:"swiper-wrapper"},c)),o&&h.default.createElement(G,{data:a,page:i,isSending:l,activeIndex:n,flag:r}))}}]),a}(),q=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,m.Component),f(t,[{key:"componentDidMount",value:function(){echo.init({offset:1500,throttle:0})}},{key:"render",value:function(){var e=this;return h.default.createElement("div",{className:"group-body"},this.props.data&&this.props.data.map(function(t,a){return h.default.createElement(z,{data:t,key:a,type:e.props.type})}))}}]),t}(),z=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props.data,t=void 0,a=void 0;e.is_group?(t=String(e.group_data.group_price).split(".")[0],a=String(e.group_data.group_price).split(".")[1]):(t=String(e.sell_price).split(".")[0],a=String(e.sell_price).split(".")[1]);var n=10===this.props.type?"goods3":20===this.props.type?"goods1":"goods2";return e.is_group?h.default.createElement("div",{className:n},h.default.createElement(y.Link,{to:b.DIR+"/item?item_id="+e.id},h.default.createElement("div",{className:"goods-img"},e.group_data.group_type&&"ROOKIE_GROUP"===e.group_data.group_type?h.default.createElement("img",{className:"new-group",src:"src/img/activity/new-group.png"}):"",h.default.createElement("img",{"data-echo":(0,k.addImageSuffix)(e.primary_image,"_m"),src:"/src/img/icon/loading/default-watermark.png"}),0===e.store?h.default.createElement("div",{className:"sale-out"},"抢完了"):"")),h.default.createElement("div",{className:"goods-msg"},h.default.createElement("div",{className:"goods-m"},h.default.createElement("ul",{className:"label c-clrfix"},10===e.trade_type?"":30===e.trade_type?h.default.createElement("li",{className:"blue"},"跨境保税"):h.default.createElement("li",{className:"yellow"},"海外直邮")),h.default.createElement(y.Link,{to:b.DIR+"/item?item_id="+e.id},h.default.createElement("div",{className:"title"},"goods3"===n&&h.default.createElement("span",{className:"label1"},10===e.trade_type?"":30===e.trade_type?h.default.createElement("span",{className:"blue"},"跨境保税"):h.default.createElement("span",{className:"yellow"},"海外直邮")),h.default.createElement("span",null,e.title)),h.default.createElement("div",{className:"title-add"},e.sub_title))),h.default.createElement("div",{className:"price"},h.default.createElement("div",{className:"now c-fs12"},"goods2"!=n?h.default.createElement("i",{className:"group c-mr2"},e.group_data.group_person,"人团"):"",a>0?h.default.createElement("span",null," ¥",h.default.createElement("span",{className:"c-fs19"},t),h.default.createElement("span",{style:{fontWeight:700}},".",a)):h.default.createElement("span",null," ¥",h.default.createElement("span",{className:"c-fs19"},t),h.default.createElement("span",{style:{fontWeight:700}}))),(e.is_group,h.default.createElement("span",{className:"goods1"===n?"c-c999 c-fs12 buy-separately":"c-c999 c-fs12"},"goods1"===n?"单独购买":"goods3"===n?"单买":"",h.default.createElement("del",null," ¥",+e.sell_price))),"goods2"!=n?h.default.createElement(y.Link,{className:"btn",to:b.DIR+"/item?item_id="+e.id},e.store?"去开团":"去看看",h.default.createElement("i",{className:"arrow-right-white-icon"})):""))):null}}]),t}(),G=function(e){function t(){return N(this,t),x(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return C(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.activeIndex,n=e.page,r=n.current_page,o=n.total_page,i=this.props.data.length,l=void 0,s=void 0;return 1===i?l="":a>=i-1?(l=t[0].nav_name,s=0):(l=t[a+1].nav_name,s=a+1),h.default.createElement("div",{className:"add"},o&&r!==o?this.props.isSending?h.default.createElement("span",{className:"loading"},"加载中..."):h.default.createElement("span",{style:{height:"30px",lineHeight:"50px"}},"下拉加载更多"):h.default.createElement("span",{className:"go-next",onClick:function(){1!==i&&P.slideTo(s)}},1===i?"别拉了，我是有底线的~":"继续浏览 "+l," ",h.default.createElement("i",{className:"arrow-right-black-icon"}," ")))}}]),t}();function W(e,t){return p({},e.homeIndex)}function J(t,a){var n=void 0;return{resetListData:function(){t(T("resetListData"))},getPageData:function(){E.default.request(p({},S.initData,{params:{display_path:10}})).then(function(e){var a=e.data;t(T("initData",{result:a.data})),(n=a.data.list.list[0]&&a.data.list.list[0].id)&&t(M("oneList",p({},S.getOneItem,{params:{nav_id:n,page:1}})))}).catch(function(e){console.log(e)})},getOneList:function(e,a){t(M("oneList",p({},S.getOneItem,{params:{nav_id:e,page:a}})))},addMoreItem:function(e,a){E.default.request(p({},S.getOneItem,{params:{nav_id:e,page:a}})).then(function(e){0===e.data.code&&t(T("addMoreItem",{result:e.data,isSending:!1}))})},getBarrage:function(){t(M("barrage",S.barrage))},resetBarrage:function(){t(T("resetBarrage")),t(M("barrage",S.barrage))},saveDistanceTop:function(a){t(T("saveTop",{value:e(window).scrollTop(),index:a,flag:!0}))},isSendingState:function(e){t(T("isSendingState",{isSending:e}))},handleState:function(e){t(T("handleState",{showNext:e}))},handleFlagState:function(e){t(T("handleFlagState",{flag:e}))},saveActiveIndex:function(e){t(T("saveActiveIndex",{activeIndex:e}))}}}t.default=(0,g.connect)(W,J)(O)}).call(this,a("OOjC"))},thos:function(e,t){e.exports="data:image/png;base64,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"},u3sd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(2),a.e(1),a.e(4)]).then(function(e){t(null,a("tnFR").default)}.bind(null,a)).catch(a.oe)}},w1CX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(0),a.e(7),a.e(26)]).then(function(e){t(null,a("V1dG").default)}.bind(null,a)).catch(a.oe)}},w9wd:function(e,t,a){},wNpY:function(e,t,a){},wUPt:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=_(p),m=_(a("4GUf")),h=a("Zfgq"),g=a("5qLU"),v=a("nztU"),y=_(a("mtWM"));function _(e){return e&&e.__esModule?e:{default:e}}a("1RZ3");var E={uc_setUserInfo:{url:g.UCENTER+"/user",method:"put"}},b=function(t){function a(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).call(this,t));r.delHandle=function(t){e(t.target).prev().val("").focus(),r.setState({nickname:""})},r.handleChange=function(){var t=e(".nick-val").val();r.setState({nickname:t||""})},r.saveNickname=function(){var t=e(".nick-val").val();if(t.length<4)return m.default.MsgTip({msg:"至少需要四个字符哦~"}),!1;if(!/^[a-zA-Z0-9\u4e00-\u9fa5]{4,20}$/.test(t))return m.default.MsgTip({msg:"只支持中英文和数字哦~"}),!1;if(!t||t===r.state.originName)return m.default.MsgTip({msg:"未修改昵称哦~"}),location.href="/userInfo",!1;var a=(0,v.getCookie)("token");y.default.request(u({},E.uc_setUserInfo,{headers:{Authorization:"Bearer "+a},data:{nickname:t}})).then(function(e){"200"===e.data.code?(m.default.MsgTip({msg:"昵称修改成功"}),h.browserHistory.replace("/userInfo")):m.default.MsgTip({msg:"昵称修改失败"})})};var o=t.location.query.nickname;return r.state={originName:o,nickname:o},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(a,p.Component),d(a,[{key:"componentWillMount",value:function(){document.title="昵称",this.context.isApp&&(window.location.href="jsbridge://set_title?title=昵称")}},{key:"componentDidMount",value:function(){e(".nick-val").val(this.state.nickname).focus()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var t=this.state.nickname;return f.default.createElement("div",{"data-page":"user-nick-name",style:{minHeight:e(window).height()}},f.default.createElement("div",{className:"c-pr"},f.default.createElement("input",{type:"text",className:"nick-val",maxLength:"20",onChange:this.handleChange}),f.default.createElement("img",{className:"del-icon c-pa "+(t?"":"c-dpno"),src:"/src/img/user/delete.png",onClick:this.delHandle})),f.default.createElement("div",{className:"nick-rule"},"昵称仅在论坛、评论等场景显示，4-20个字符，支持中英文，数字"),f.default.createElement("input",{type:"button",className:"save-btn",value:"保存",onClick:this.saveNickname}))}}]),a}();t.default=b}).call(this,a("OOjC"))},wcup:function(e,t,a){},wj5X:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwipeCtrlWidget=t.PureComponent=t.DropRefresh=void 0;var n,r=a("TMaE"),o=a("XKGu"),i=a("qFWt"),l=(n=i)&&n.__esModule?n:{default:n};t.DropRefresh=r.DropRefresh,t.PureComponent=o.PureComponent,t.SwipeCtrlWidget=l.default},x9m6:function(e,t,a){"use strict";(function(e){var n=p(a("RRo+")),r=p(a("mvHQ")),o=p(a("c/Tr")),i=p(a("Zx67")),l=p(a("kiBT")),s=p(a("OvRC")),c=p(a("pFYg")),u=p(a("C4MV")),d=p(a("woOf"));function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var f=d.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,u.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a("U7vG"),g=q(h),v=a("Zfgq"),y=a("f2Hk"),_=q(a("dmKM")),E=a("wj5X"),b=a("G/Ei"),w=a("ml4l"),k=a("6quk"),A=q(a("rqUH")),N=q(a("qze0")),x=q(a("0+SJ")),C=(a("j8tI"),q(a("Q1Kc"))),S=a("4n+p"),M=a("qeJi"),T=q(a("lL7v")),I=a("CmIO"),P=q(I),O=q(a("B6QQ")),D=a("pKtA"),L=q(D),j=q(a("a8io")),B=q(a("L0jN")),R=q(a("X+a7")),U=q(a("8g0t")),F=q(a("qAHI"));a("anlr");var H=a("5qLU");function q(e){return e&&e.__esModule?e:{default:e}}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,c.default)(t))&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(l.default?(0,l.default)(e,t):e.__proto__=t)}var J=(0,y.concatPageAndType)("shopCart"),X=(0,y.concatPageAndType)("exchangeItem"),Q={init:{url:H.WXAPI+"/cart/getCartInfo",method:"get"},coupon:{url:H.WXAPI+"/cart/getCouponsSuitShop",method:"get"},recommend:{url:H.WXAPI+"/cart/getRecommendItems",method:"get"},collect:{url:H.WXAPI+"/cart/moveToCollect",method:"post"},update:{url:H.WXAPI+"/cart/modify",method:"post"},remove:{url:H.WXAPI+"/cart/remove",method:"post"},receiveCoupon:{url:H.WXAPI+"/promotion/obtainCoupon",method:"post"},clear:{url:H.WXAPI+"/cart/clearTrash",method:"post"},saleAttributes:{url:H.WXAPI+"/cart/getSaleAttributes",method:"get"},replaceSku:{url:H.WXAPI+"/cart/replaceSku",method:"post"}},Z=function(e){var t=new Date,a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return e},Y=function(t){function a(){var t,n,r;z(this,a);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=r=G(this,(t=a.__proto__||(0,i.default)(a)).call.apply(t,[this].concat(s))),r.headerScrollEvent=function(){if(r.props.isLogin&&!r.props.load){e(window).unbind("scroll");var t=(0,o.default)(e(".header-wrap .header"));t.map(function(t,a){e(t).css({position:"relative",zIndex:3,top:""})});var a=t.map(function(t){return e(t).offset().top});if(t.length>0){window.addEventListener("scroll",function(n){for(var r=e(window).scrollTop(),o=!1,i=a.length-1;i>=0;i--)a[i]<=r&&!o?(i!==a.length-1&&a[i+1]-50<r?e(t[i]).css({position:"fixed",zIndex:3,top:a[i+1]-50-r}):e(t[i]).css({position:"fixed",zIndex:3,top:0}),o=!0):e(t[i]).css({position:"relative",zIndex:3,top:""})}),e(window).trigger("scroll")}}},r.handleCheck=function(){r.props.handleCheck(r.props.data,r.props.exchangeItem)},r.replaceSku=function(e,t){var a=r.props,n=a.replaceSku,o=a.closeSaleAttr,i=a.initialData;n({cart_id:e,sku_id:t},function(){o(),i()})},G(r,n)}return W(a,h.Component),m(a,[{key:"componentWillMount",value:function(){this.props.isLogin&&this.props.initialData(),this.props.recommendList&&this.props.recommendList.length<=0&&this.props.initRecommend()}},{key:"componentDidMount",value:function(){this.headerScrollEvent()}},{key:"componentWillReceiveProps",value:function(e,t){e.isLogin&&!this.props.isLogin&&this.props.initialData()}},{key:"componentDidUpdate",value:function(){this.headerScrollEvent()}},{key:"componentWillUnmount",value:function(){b.loadMask.destroy(),k.tip.destroy(),w.modalA.destroy(),this.props.dividePayClose(),this.props.closeCoupon(),e(window).unbind("scroll")}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=(t.exchangeItem,a&&(a.shop_cart.length||a.shop_cart.length));return g.default.createElement("div",{id:"p-shop-cart",className:"p-shop-cart",style:{minHeight:this.props.winHeight},ref:"shopCart"},e.props.pending?g.default.createElement(A.default,{isFixed:!0}):e.props.isLogin?e.props.load?g.default.createElement(A.default,{isFixed:!0}):e.props.error?g.default.createElement(x.default,{btnClick:e.props.pageReload,text:"加载失败,点击重试~",imgUrl:"/src/img/shopCart/face-cry.png"}):e.props.netError?g.default.createElement(x.default,{btnClick:e.props.pageReload}):n?g.default.createElement("div",null,g.default.createElement(K,f({key:"cart-body"},e.props)),g.default.createElement(ue,{data:e.props.cartTotal,cartCheck:a.cartCheck,editNum:e.props.editNum,key:"cart-total",handleCheck:e.handleCheck,handleCollects:e.props.handleCollects,handleRemoves:e.props.handleRemoves,updateData:e.props.updateData,formSubmit:e.props.formSubmit}),e.props.coupon.show&&g.default.createElement(R.default,{close:e.props.closeCoupon,shopName:e.props.coupon.shopName,isBiz:e.props.coupon.isBiz,couponHandle:e.props.receiveCoupon,data:e.props.coupon.list}),e.props.saleAttr.show&&g.default.createElement(U.default,f({},e.props.saleAttr,{close:e.props.closeSaleAttr,saleAttrSelect:e.props.saleAttrSelect,replaceSku:e.replaceSku})),g.default.createElement(C.default,{style:{zIndex:11}})):g.default.createElement(N.default,{config:{msg:"购物袋空荡荡，快去商城逛逛吧~",btnText:"去首页",link:"",imgUrl:"/src/img/shopCart/face-said.png",imgWidth:137,imgHeight:137}}):g.default.createElement(N.default,{config:{msg:"登录后将显示您之前加入的商品~",btnText:"登录",link:location.href,imgUrl:"/src/img/shopCart/shop-cart-no-login.png",imgWidth:137,imgHeight:110}}),!this.props.pending&&!(this.props.load&&this.props.isLogin)&&!this.props.error&&!this.props.netError&&this.props.recommendList&&this.props.recommendList.length>0&&g.default.createElement("div",{className:"item-recom"},g.default.createElement(B.default,{data:this.props.recommendList,updateData:this.props.initRecommend})),g.default.createElement(_.default,{ref:"navigator"}))}}]),a}(),K=function(e){function t(){var e,a,n;z(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=G(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(o))),n.clearInvItem=function(){var e=n.props,t=e.updateData,a=e.initialData;t("clear","",function(){a()})},G(n,a)}return W(t,h.Component),m(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=t.shop_cart,n=t.unable,r=(t.count_cart,a.map(function(t,a){return g.default.createElement(V,f({},e.props,{key:a,data:t,invalid:!1}))}));return g.default.createElement("div",{className:"cart-body"},g.default.createElement("div",{className:"cart-val"},r),!!n.length&&g.default.createElement("div",{className:"cart-inv"},g.default.createElement(ne,{data:n,clearInvItem:this.clearInvItem})))}}]),t}(),V=function(e){function t(e){z(this,t);var a=G(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.toggleEdit=function(){a.setState({edit:!a.state.edit}),a.props.computeEditNum(!a.state.edit)},a.toggleCheck=function(){var e=a.props,t=e.data;(0,e.handleCheck)(t,e.exchangeItem,t.shop_info.shop_id)},a.state={edit:!1,data:e.data},a}return W(t,h.Component),m(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"componentWillUnmount",value:function(){this.state.edit&&this.toggleEdit(!1)}},{key:"render",value:function(){var e=this.state.data;return g.default.createElement("section",{className:"cart-store c-mb10 c-bgfff"},g.default.createElement("div",{className:"header-wrap"},g.default.createElement("div",{className:"header"},g.default.createElement(T.default,{data:e.shop_info,edit:this.state.edit,popupCoupon:this.props.popupCoupon.bind(null,e.shop_info.alias||e.shop_info.name,"icon_biz"===e.shop_info.shop_icon),toggleEdit:this.toggleEdit,handleCheck:this.toggleCheck,initialData:this.props.initialData}))),g.default.createElement($,f({},this.props,{data:e.promotion_list,edit:this.state.edit,shopId:e.shop_level_group_id})))}}]),t}(),$=function(e){function t(){return z(this,t),G(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return W(t,h.Component),m(t,[{key:"render",value:function(){var e=this.props,t=e.edit,a=e.data,n=e.shopId,r=e.exchangeItem,o=e.deleteExchangeItem,i=a.map(function(e,a){if(e.cart_list&&e.cart_list.length>0)return g.default.createElement(ee,{edit:t,key:a,data:e,shopId:n,exchangeItem:r,deleteExchangeItem:o,timeStamp:e.timeStamp})});return g.default.createElement("div",{className:"store-body"},i)}}]),t}(),ee=function(e){function t(e){z(this,t);var a=G(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.state={Num:0,Price:0},a}return W(t,h.Component),m(t,[{key:"componentDidMount",value:function(){var e=this.props.data.cart_list,t=this.calPrice(e),a=t.num,n=t.price;this.setState({Num:a,Price:n})}},{key:"componentWillReceiveProps",value:function(e){var t=e.data,a=e.exchangeItem,n=e.deleteExchangeItem,o=t.cart_list,i=t.rules;o=JSON.parse((0,r.default)(o));var l=0;i&&i.ExchangeBuy&&(l=i.ExchangeBuy.exchange_full);var s=t.group_promotion_id,c=a.data,u=this.calPrice(o),d=u.num,p=u.price;this.setState({Num:d,Price:p}),c&&c[s]&&u.price<l&&n(s)}},{key:"calPrice",value:function(e){var t=0,a=0;return e&&e.length>0&&e.map(function(e){var n,r=e.promotion_single,o=e.quantity,i=e.sell_price,l=e.check,s=e.biz_rules,c=+i;r&&r.price&&r.price>0&&("SecKill"===r.type?new Date(r.start_time).getTime()<=(new Date).getTime()<new Date(r.end_time).getTime()&&(c=+r.price):c=+r.price),n=!!!(r&&["FlashSale","DirectReduction","SecKill"].indexOf(r.type)>-1)&&s&&s.length>0?function(){var e,t;s.sort((e="threshold",t=!0,function(a,n){var r=parseFloat(a[e]),o=parseFloat(n[e]);return r<o?t?-1:1:r>o?t?1:-1:0}));var a=c;return s.some(function(e){return parseFloat(e.threshold)>parseFloat(o)||(a=+e.sell_price,!1)}),a}():"",l&&(t+=o,r&&r.price&&r.price>0?a+=parseFloat(o)*parseFloat(r.price):a+=n?parseFloat(n)*parseFloat(o):parseFloat(i)*parseFloat(o))}),{num:t,price:a}}},{key:"render",value:function(){var e=this.state,t=e.Num,a=e.Price,n=this.props,o=n.data,i=n.edit,l=n.shopId,s=n.timeStamp,c=n.exchangeItem,u=o.cart_list,d=o.rules;u=JSON.parse((0,r.default)(u));var p=0;d&&d.ExchangeBuy&&(p=d.ExchangeBuy.exchange_full);var m=o.group_promotion_id,h=c.data,v=0,y=o.cart_list&&o.cart_list.length>0&&o.cart_list.map(function(e,t){return e?e.promotion_gift_buy&&e.promotion_gift_buy.gifts&&e.promotion_gift_buy.gifts.length>0?g.default.createElement("div",{className:"gift-list",key:t},g.default.createElement(le,{edit:i,type:o.type,data:e,key:t,timeStamp:s}),e.promotion_gift_buy.gifts.map(function(t,a){return g.default.createElement(se,{edit:i,give:!0,disCtrl:!0,type:o.type,data:t,mainQuantity:e.quantity,key:a})})):g.default.createElement(le,{edit:i,type:o.type,data:e,key:e.sku_id+"_"+t,timeStamp:s}):""}),_=!1,E=a>0&&a>=p&&h&&h[m]&&h[m].map(function(e,t){if(e.check)return v+=1,_=!0,g.default.createElement(se,{edit:i,type:o.type,data:e,key:t})});return g.default.createElement("section",{className:"store-market "+("ExchangeBuy"===o.type?"exchange":"Common"!==o.type?"activity":"common")},"Common"!==o.type&&g.default.createElement(P.default,f({edit:i},o,{shopId:l,Num:t,Price:a,exchangeDataLength:v})),g.default.createElement("div",{className:"common-list"},y),E&&g.default.createElement("div",{className:"spec-list"},E),"ExchangeBuy"===o.type&&!i&&g.default.createElement(I.ExchangeRow,f({},o,{hasExchange:_,Price:a,able:!i,shopId:l})))}}]),t}(),te=function(e){function t(e){z(this,t);var a=G(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.initBuyLimit=function(){var e=a.props.data,t=e.promotion,n=e.store.real,r=n;t&&t.real_store&&(r=n=t.real_store),t&&"flashsale"===t.promotion_type&&(n=t.user_buy_limit-t.user_buy_count),a.setState({buyLimit:n,realStore:r})},a.toggleTip=function(){a.setState({statusTip:!a.state.statusTip})},a.handleCheck=function(){var e=a.props,t=e.data;(0,e.handleCheck)(t,e.exchangeItem)},a.handleNum=function(e){((0,n.default)(+e.target.value)||""===e.target.value)&&(a.setState({quantity:+e.target.value||""}),a.updateItemNum(+e.target.value||""))},a.updateItemNum=function(e){var t=a.props,n=t.data,r=t.handleItemNum,o=t.exchangeItem;r(n.cart_id,e,o)},a.handleInputNum=function(e){var t=e.target,r=a.props,o=r.data,i=(r.initialData,a.state),l=i.initQuantity,s=i.quantity,c=+t.getAttribute("min"),u=+t.getAttribute("max");if(s!==l)return(0,n.default)(s)?s<c?(k.tip.show({msg:"至少需要1件哦"}),a.setState({quantity:l}),void a.updateItemNum(l)):u&&s>u?(k.tip.show({msg:"已超出可购数量"}),a.setState({quantity:u}),void a.updateItemNum(u)):void a.delayNumUpdate("update",{cart_id:o.cart_id,num:s}):(k.tip.show({msg:"请输入正确的数量哦"}),a.setState({quantity:l}),void a.updateItemNum(l))},a.handleReduce=function(){var e=a.props,t=e.data,n=(e.initialData,t.cart_id),r=a.state.quantity;a.setState({quantity:r-1}),a.updateItemNum(r-1),a.delayNumUpdate("update",{cart_id:n,num:r-1})},a.handlePlus=function(){var e=a.props,t=e.data,n=(e.initialData,t.cart_id),r=a.state.quantity;a.setState({quantity:r+1}),a.updateItemNum(r+1),a.delayNumUpdate("update",{cart_id:n,num:r+1})},a.handleCollect=function(e){var t=a.props,n=t.data,r=t.initialData;w.modalA.show({msg:"当前选中的商品移入收藏夹成功后，将从购物袋删除哦",sure:function(){a.props.updateData("collect",{cart_ids:[n.cart_id]},function(){r()})}})},a.handleDelete=function(e){var t=a.props,n=t.data,r=t.initialData;w.modalA.show({msg:"确定将这1件商品删除？",sure:function(){a.props.updateData("remove",{cart_ids:[n.cart_id]},function(){r()})}})},a.closeSwipe=function(){a.setState({isOpen:!1})},a.getIsOpen=function(e){a.setState({isOpen:e})},a.state={statusTip:!1,quantity:e.data.quantity,initQuantity:e.data.quantity,isOpen:!1},a.delayNumUpdate=(0,M.delay)(e.updateData,200),a}return W(t,E.PureComponent),m(t,[{key:"componentWillMount",value:function(){this.initBuyLimit()}},{key:"componentWillReceiveProps",value:function(e){this.props.edit&&!e.edit&&this.setState({isOpen:!1}),this.props.edit&&e.edit&&this.setState({quantity:e.data.quantity})}},{key:"render",value:function(){return g.default.createElement("div",{className:"one-item-grid"},g.default.createElement(E.SwipeCtrlWidget,{isOpen:this.state.isOpen,getIsOpen:this.getIsOpen},g.default.createElement(L.default,f({},this.props,this.state,{hiddenDelete:this.state.isOpen,toggleTip:this.toggleTip,handleCheck:this.handleCheck,handleNum:this.handleNum,handleInputNum:this.handleInputNum,handleReduce:this.handleReduce,handlePlus:this.handlePlus,handleDelete:this.handleDelete,handleCollect:this.handleCollect})),g.default.createElement(E.SwipeCtrlWidget.ItemCtrl,{handleCollect:this.handleCollect,handleDelete:this.handleDelete})))}}]),t}(),ae=function(e){function t(e){z(this,t);var a=G(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.getIsOpen=function(e){a.setState({isOpen:e})},a.handleCollect=function(e){var t=a.props,n=t.data,r=(t.dispatch,t.initialData);w.modalA.show({msg:"当前选中的商品移入收藏夹成功后，将从购物袋删除哦",sure:function(){a.props.updateData("collect",{cart_ids:[n.cart_id]},function(){r()})}})},a.handleDelete=function(e){var t=a.props,n=t.data,r=t.initialData;w.modalA.show({msg:"确定将这1件商品删除？",sure:function(){a.props.updateData("remove",{cart_ids:[n.cart_id]},function(){r()})}})},a.state={isOpen:!1},a}return W(t,h.Component),m(t,[{key:"componentWillReceiveProps",value:function(e){this.props.edit&&!e.edit&&this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.disCtrl,n=function(e){return f({},e,{price:(t=e.price,void 0!==t?e.price:e.sell_price)});var t}(t);return g.default.createElement("div",{className:"one-item-grid"},a?g.default.createElement(D.SpecItem,f({},this.props,{data:n,handleDelete:this.handleDelete,handleCollect:this.handleCollect})):g.default.createElement(E.SwipeCtrlWidget,{isOpen:this.state.isOpen,getIsOpen:this.getIsOpen},g.default.createElement(D.SpecItem,f({},this.props,{data:n,handleDelete:this.handleDelete,handleCollect:this.handleCollect})),g.default.createElement(E.SwipeCtrlWidget.ItemCtrl,{handleDelete:this.handleDelete,handleCollect:this.handleCollect})))}}]),t}(),ne=function(e){function t(e){z(this,t);var a=G(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.toggleEdit=function(){a.setState({edit:!a.state.edit})},a.state={edit:!1},a}return W(t,E.PureComponent),m(t,[{key:"render",value:function(){var e=this;return g.default.createElement("div",{className:"invalid-list"},g.default.createElement("div",{className:"header-wrap"},g.default.createElement("div",{className:"header"},g.default.createElement("div",{className:"bl"},"失效商品",this.props.data.length,"件"),g.default.createElement("div",{className:"br"},g.default.createElement("span",{className:"text",onClick:this.props.clearInvItem},"清空失效商品"),g.default.createElement("span",{className:"ctrl",onClick:this.toggleEdit},this.state.edit?"完成":"编辑")))),g.default.createElement("div",{className:"list"},this.props.data.map(function(t,a){return g.default.createElement(ce,{data:t,key:a,edit:e.state.edit,invalid:!0})})))}}]),t}(),re=function(e){function t(e){z(this,t);var a=G(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleCollect=function(e){var t=a.props,n=t.data,r=t.initialData;w.modalA.show({msg:"当前选中的商品移入收藏夹成功后，将从购物袋删除哦",sure:function(){a.props.updateData("collect",{cart_ids:[n.cart_id]},function(){r()})}})},a.handleDelete=function(e){var t=a.props,n=t.data,r=t.initialData;w.modalA.show({msg:"确定将这1件商品删除？",sure:function(){a.props.updateData("remove",{cart_ids:[n.cart_id]},function(){r()})}})},a.getIsOpen=function(e){a.setState({isOpen:e})},a.state={isOpen:!1},a}return W(t,h.Component),m(t,[{key:"componentWillReceiveProps",value:function(e){this.props.edit&&!e.edit&&this.setState({isOpen:!1})}},{key:"render",value:function(){return g.default.createElement("div",{className:"one-item-grid"},g.default.createElement(E.SwipeCtrlWidget,{ctrlWidth:57,isOpen:this.state.isOpen,getIsOpen:this.getIsOpen},g.default.createElement(j.default,f({},this.props,{hiddenDelete:this.state.isOpen,handleDelete:this.handleDelete,handleCollect:this.handleCollect})),g.default.createElement(E.SwipeCtrlWidget.ItemCtrl,{noCollect:!0,width:57,handleDelete:this.handleDelete})))}}]),t}();function oe(e){return{curTime:e.shopCart.curTime,exchangeItem:f({},e.exchangeItem)}}function ie(e){return{dispatch:e,initialData:function(){e(function(e,t){var a=t().exchangeItem;F.default.request(Q.init).then(function(t){if(0===t.data.code){var n=f({},t.data,{status:t.status});e(J("initialData",{result:n,exchangeItem:a}))}else e(J("initialError"))}).catch(function(t){console.log(t);try{504===t.response.status?e(J("netError")):e(J("initialError"))}catch(e){console.log(e)}})})},updateData:function(e,t,a){b.loadMask.show(),F.default.request(f({},Q[e],{data:t})).then(function(e){b.loadMask.destroy(),e.data.message&&k.tip.show({msg:e.data.msg}),a&&"function"==typeof a&&a()}).catch(function(e){b.loadMask.destroy(),k.tip.show({msg:e.message||e.response.data.message||"小泰发生错误，请稍后再试~"}),console.error(e)})},handleCheck:function(t,a){e(J("updateSingleCheck",{id:t.cart_id,exchangeItem:a}))},handleItemNum:function(t,a,n){e(J("handleItemNum",{id:t,num:a,exchangeItem:n}))},handleDelete:function(t,a){e(J("handleDelete",{id:t,exchangeItem:a}))},popupSaleAttr:function(t,a,n,r){var o=0;document.documentElement&&document.documentElement.scrollTop?o=document.documentElement.scrollTop:document.body&&(o=document.body.scrollTop);var i=document.getElementById("p-shop-cart");i.style.position="fixed",i.style.top=-o+"px",b.loadMask.show(),F.default.request(f({},Q.saleAttributes,{params:{item_id:t}})).then(function(t){if(b.loadMask.destroy(),0!==!t.data.code){var o=t.data.data,i=o.specs,l=[],s={};o.skus.map(function(e){e.sku_id==n&&(l=e.select_spec_id.split("_"))}),i.map(function(e){e.values.map(function(t){l.indexOf(t.spec_value_id+"")>-1&&(s[e.spec_id]=t.spec_value_id)})}),e(J("ctrlSaleAttr",{data:t.data.data,show:!0,img:a,sku_id:n,select:s,cart_id:r}))}else k.tip.show({msg:t.data.message})}).catch(function(e){b.loadMask.destroy(),k.tip.show({msg:"小泰发生错误，请稍后再试~"}),console.log(e)})}}}var le=(0,S.connect)(oe,ie)(te),se=(0,S.connect)(oe,ie)(ae),ce=(0,S.connect)(oe,ie)(re),ue=function(e){function t(e){return z(this,t),G(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return W(t,h.Component),m(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.cartCheck;e.exchangeData;return g.default.createElement("section",{className:"cart-total"},g.default.createElement("div",{className:"select-all",onClick:this.props.handleCheck},g.default.createElement(O.default,{isCheck:a}),"全选"),this.props.editNum?g.default.createElement("div",{className:"cart-collect",onClick:this.props.handleCollects.bind(null,t.strip)},g.default.createElement("div",{className:"black-btn btn"},"移入收藏夹")):g.default.createElement("div",{className:"cart-total-dtl"},g.default.createElement("p",{className:"c-fs12"},"合计(不含税)：",g.default.createElement("span",{className:"c-fs15 c-cf00"},g.default.createElement("i",null,"¥"),+t.disPrice.toFixed(2))),+(+t.discount).toFixed(2)>0?g.default.createElement("p",{className:"c-fs10 c-c999"},g.default.createElement("span",null,"总额：¥",+t.price.toFixed(2))," 优惠：",g.default.createElement("i",null,"¥"),+(+t.discount).toFixed(2)):""),this.props.editNum?g.default.createElement("div",{className:"cart-delete",onClick:this.props.handleRemoves.bind(null)},g.default.createElement("div",{className:"red-btn btn"},"删除商品")):t.num?g.default.createElement("div",{className:"cart-submit btn c-bgdred",onClick:this.props.formSubmit},g.default.createElement("span",null,"结算(",t.num,")")):g.default.createElement("div",{className:"cart-submit btn c-bgc9"},g.default.createElement("span",null,"结算",t.num?"("+t.num+")":"")))}}]),t}();function de(e,t,a){t.map(function(t){var n=t.cart_list,o=t.group_promotion_id,i=t.type,l=(t.cart_id,!1),s=null;if(n.map(function(t){var a=t.check,n=t.quantity,r=t.cart_id,c=t.item_id,u=t.sku_id,d=t.extra,p=t.promotion_single,f=t.promotion_gift_buy;l=!(!f||"GiftBuy"!==f.type),s=f&&"GiftBuy"===f.type?f.single_promotion_id:null;var m=null;d&&d.commission_user_id&&(m=d.commission_user_id);var h=[],g={};g.promotion=h,m&&(g.commission_user_id=m);var v=!1;p&&"SecKill"===p.type&&(v=!0),a&&!v&&("ExchangeBuy"===i||l?(g.promotion=[{promotion_id:l?s:o,role:"main_good",type:l?"GiftBuy":"ExchangeBuy"}],e.push({quantity:n,cart_id:r,item_id:c,sku_id:u,extra:g,created_at:Z("yyyy-MM-dd hh:mm:ss")})):e.push({quantity:n,cart_id:r,item_id:c,sku_id:u,extra:g,created_at:Z("yyyy-MM-dd hh:mm:ss")})),d&&d.promotion&&(h=[].concat(d.promotion))}),a.data){var c=JSON.parse((0,r.default)(a.data));c[o]&&c[o].map(function(t){t.check&&"ExchangeBuy"===i&&e.push({quantity:1,cart_id:0,item_id:t.item_id,sku_id:t.sku_id,extra:{promotion:[{promotion_id:o,role:"exchange_good",type:"ExchangeBuy"}]},created_at:Z("yyyy-MM-dd hh:mm:ss")})})}})}t.default=(0,S.connect)(function(e,t){return f({},e.global,e.shopCart,{exchangeItem:f({},e.exchangeItem)})},function(e,t){return{dispatch:e,dividePayClose:function(){e(J("dividePrompt",{status:!1}))},deleteExchangeItem:function(t){e(X("itemDelete",{result:{promotionId:t}}))},initialData:function(t){e(function(e,t){var a=t().exchangeItem;F.default.request(Q.init).then(function(t){if(0===t.data.code){var n=f({},t.data,{status:t.status});e(J("initialData",{result:n,exchangeItem:a}))}else e(J("initialError"))}).catch(function(t){console.log(t);try{504===t.response.status?e(J("netError")):e(J("initialError"))}catch(e){console.log(e)}})})},initRecommend:function(t){F.default.request(Q.recommend).then(function(a){t&&t(),0==a.data.code?e(J("initRecommend",{data:a.data.data})):t&&k.tip.show({msg:a.data.message})}).catch(function(e){k.tip.show({msg:e.response.data.message||"小泰发生错误，请稍后再试~"}),t&&t(),console.log(e)})},computeEditNum:function(t){e(J("computeEdit",{status:t}))},handleCheck:function(t,a,n){var o=JSON.parse((0,r.default)(t));e(n?J("updateShopCheck",{id:n,exchangeItem:a}):J("updateCartCheck",{data:o,exchangeItem:a}))},updateData:function(e,t,a){b.loadMask.show(),F.default.request(f({},Q[e],{data:t})).then(function(e){b.loadMask.destroy(),e.data.message&&k.tip.show({msg:e.data.message}),a&&"function"==typeof a&&a()}).catch(function(e){b.loadMask.destroy(),k.tip.show({msg:e.message||e.response.data.message||"小泰发生错误，请稍后再试~"}),console.log(e)})},replaceSku:function(e,t){b.loadMask.show(),F.default.request(f({},Q.replaceSku,{data:e})).then(function(e){b.loadMask.destroy(),t&&"function"==typeof t&&t()}).catch(function(e){b.loadMask.destroy(),k.tip.show({msg:e.response.data.message||"小泰发生错误，请稍后再试~"}),console.log(e)})},popupCoupon:function(t,a,n){b.loadMask.show(),F.default.request(f({},Q.coupon,{params:{shop_id:n}})).then(function(a){b.loadMask.destroy(),0!==!a.data.code?e(J("ctrlCoupon",{data:a.data.data,show:!0,shopName:t})):k.tip.show({msg:a.data.message})}).catch(function(e){b.loadMask.destroy(),k.tip.show({msg:e.response.data.message||"小泰发生错误，请稍后再试~"}),console.log(e)})},receiveCoupon:function(e,t){b.loadMask.show(),F.default.request(f({},Q.receiveCoupon,{data:{coupon_id:e.coupon_id,source:"other"}})).then(function(e){b.loadMask.destroy(),k.tip.show({msg:e.data.message||"领取成功"}),"function"==typeof t&&t()}).catch(function(e){b.loadMask.destroy(),k.tip.show({msg:e.response.data.message||"小泰发生错误，请稍后再试~"}),console.log(e)})},closeCoupon:function(){e(J("ctrlCoupon",{data:[],show:!1}))},closeSaleAttr:function(){var t=document.getElementById("p-shop-cart");t.style.position="relative";var a=t.style.top.replace("px","");t.style.top="",e(J("ctrlSaleAttr",{data:[],show:!1})),window.scrollTo(0,-a)},saleAttrSelect:function(t,a){e(J("saleAttrSelect",{spec_id:t,spec_value_id:a}))},divideFormSubmit:function(t){e(function(e,a){var n=a().shopCart,o=a().exchangeItem,i=(n.cartTotal,[]);if(n.data.shop_cart.map(function(e){var a=e.promotion_list,n=e.shop_info;1===t?"icon_biz"===n.shop_icon&&de(i,a,o):"icon_biz"!==n.shop_icon&&de(i,a,o)}),1===t){var l={buyMode:"cart_buy",bizMode:"online",bizAttr:"company",address:{},subscribe:i};sessionStorage.removeItem("cart_buy"),sessionStorage.setItem("cart_buy",(0,r.default)(l)),v.browserHistory.push(H.DIR+"/orderConfirm?mode=cart_buy&buy_type=1")}else{var s={buyMode:"cart_buy",bizMode:"online",bizAttr:"trmall",address:{},subscribe:i};sessionStorage.removeItem("cart_buy"),sessionStorage.setItem("cart_buy",(0,r.default)(s)),v.browserHistory.push(H.DIR+"/orderConfirm?mode=cart_buy&buy_type=0")}})},formSubmit:function(){e(function(e,t){var a=t().shopCart,n=t().exchangeItem,o=(a.cartTotal,[]);a.data.shop_cart.map(function(e){var t=e.promotion_list,a=e.shop_info;a.shop_icon,de(o,t,n)});var i={buyMode:"cart_buy",bizMode:"online",bizAttr:"trmall",address:{},subscribe:o};sessionStorage.removeItem("cart_buy"),sessionStorage.setItem("cart_buy",(0,r.default)(i)),v.browserHistory.push(H.DIR+"/orderConfirm?mode=cart_buy&buy_type=0")})}}},function(e,t,a){var n=t.dispatch;return f({},e,t,a,{pageReload:function(){n(J("resetState")),t.initialData()},handleCollects:function(a,n){var r=!1,o=[];e.data.shop_cart.map(function(e){e.promotion_list.map(function(e){e.cart_list.map(function(e){e.check&&(r=!0,o.push(e.cart_id))})})}),r?w.modalA.show({msg:"当前选中的商品移入收藏夹成功后，将从购物袋删除哦",sure:function(){t.updateData("collect",{cart_ids:o},function(){t.initialData()})}}):k.tip.show({msg:"您还没有选择商品哦"})},handleRemoves:function(a,n){var r=0,o=[];e.data.shop_cart.map(function(e){e.promotion_list.map(function(e){e.cart_list.map(function(e){e.check&&(r+=e.quantity,o.push(e.cart_id))})})}),r?w.modalA.show({msg:"确定将这"+r+"件商品删除？",sure:function(){t.updateData("remove",{cart_ids:o},function(){t.initialData()})}}):k.tip.show({msg:"您还没有选择商品哦"})}})})(Y)}).call(this,a("OOjC"))},xzMH:function(e,t,a){"use strict";var n=o(a("C4MV")),r=o(a("woOf"));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=c(a("GHKy")),s=c(a("BYKG"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,a){return t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d={load:!0,data:null,limit:0};t.default=(0,l.default)("exchangeItem",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case"resetState":return d;case"initData":return function(e,t){var a=t.promotionId;return e.data&&e.data[a]&&t.data&&t.data.map(function(t){var n=t.sku_id;e.data[a].some(function(e){return e.sku_id===n&&(t.check=e.check,!0)})}),{load:!1,data:i({},e.data,u({},a,t.data)),limit:t.rules.limit,fullPrice:t.rules.fullPrice}}(e,t.result);case"itemSelect":return function(e,t){var a=s.default.fromJS(e.data[t.promotionId]);a=a.updateIn([t.index,"check"],function(e){return!e});var n=i({},e.data,u({},t.promotionId,a.toJS()));return i({},e,{data:n})}(e,t.result);case"itemDelete":return function(e,t){var a=i({},e.data);return delete a[t.promotionId],i({},e,{data:a})}(e,t.result);default:return e}},d)},"y+V2":function(e,t,a){},yZdg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Promise.all([a.e(1),a.e(23)]).then(function(e){t(null,a("QyXG").default)}.bind(null,a)).catch(a.oe)}},"ybF+":function(e,t,a){"use strict";(function(e){var n=d(a("mvHQ")),r=d(a("gRE1")),o=d(a("Zx67")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=A(m),g=(A(a("O27J")),a("Zfgq")),v=a("4n+p"),y=a("f2Hk"),_=(a("d2xe"),a("8x+B")),E=(a("TB1E"),a("6quk")),b=(a("f2t5"),a("G0HZ")),w=a("5qLU"),k=A(a("qAHI"));function A(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}a("y+V2");var S={couponRecalculate:{url:w.WXAPI+"/order/applyCouponRecalculate",method:"post"}},M=(0,y.concatPageAndType)("orderConfirm"),T=function(t){function a(){return N(this,a),x(this,(a.__proto__||(0,o.default)(a)).apply(this,arguments))}return C(a,m.Component),f(a,[{key:"componentDidMount",value:function(){e(window).scrollTop(0)}},{key:"render",value:function(){var t=this,a=this.props.couponList,n=a.usable_coupons,r=a.unusable_coupons,o=this.props,i=o.couponSelect,l=o.changeItemModal,s=o.itemModal;return this.props.itemModal?(0,b.preventScroll)(!0):(0,b.preventScroll)(!1),h.default.createElement("div",{"data-page":"use-coupon",className:"use-coupon"},h.default.createElement("div",{style:{minHeight:e(window).height(),backgroundColor:"#f4f4f4",paddingTop:"10px"}},h.default.createElement("div",{className:"non-use-coupon",onClick:function(){t.props.onSelectCoupon(null)}},h.default.createElement("span",{className:"c-c35 c-fs16"},"不使用优惠券"),i.code?h.default.createElement("i",{className:"current-no-icon current-icon"}," "):h.default.createElement("i",{className:"current-green-icon current-icon"}," ")),h.default.createElement("div",{className:"coupon"},h.default.createElement("div",{className:"coupon-body"},h.default.createElement(I,{type:"val",usable_coupons:n,unusable_coupons:r,couponSelect:i,changeItemModal:l,itemModal:s,onSelectCoupon:this.props.onSelectCoupon})))))}}]),a}(),I=function(e){function t(e){N(this,t);var a=x(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.formateDate=function(e){var t=e.split(" ");return t[0].split("-").join("/").substring(2)+" "+t[1].substring(0,5)},a.getDetail=function(e,t,n){var o=n?e.isset_limit_money?"red":"yellow":"grey",i=a.props.couponSelect,l=!n&&(0,r.default)(e.apply_records);if(!n&&l.length>0){e.coupon_id;a.state.couponData.couponId=l}var s=new Date(e.use_start_time.replace(/-/g,"/")).getTime(),c=new Date(e.current_time.replace(/-/g,"/")).getTime();return h.default.createElement("div",{key:"coupon"+t},h.default.createElement("div",{className:"one-coupon g-row-flex "+o,style:n?{}:{marginBottom:0},onClick:function(){n&&a.props.onSelectCoupon({code:e.coupon_code,limit:+e.limit_money,desc:"4"===e.type?+e.discount_money:+e.deduct_money})}},h.default.createElement("div",{className:"left "+o},h.default.createElement("p",{className:"one"},"¥",h.default.createElement("b",null,"4"===e.type?"0.01":parseInt(e.deduct_money))),h.default.createElement("p",{className:"two"},"4"===e.type?"原价"+parseFloat(e.limit_money):"满"+e.limit_money+"使用")),h.default.createElement("div",{className:"right g-col-1"},h.default.createElement("p",{className:"coupon-name"},h.default.createElement("span",{className:o},"4"===e.type?"免单券":"0"===e.type?"店铺券":"1"===e.type?"跨店券":"平台券")),h.default.createElement("p",{className:"two"},"•  ",e.apply_text),h.default.createElement("p",null,a.formateDate(e.use_start_time),"至",a.formateDate(e.use_end_time))),n&&(i.code===e.coupon_code?h.default.createElement("i",{className:"current-green-icon current-icon"}," "):h.default.createElement("i",{className:"current-no-icon current-icon"}," "))),!n&&h.default.createElement("div",{className:"invalid-bottom"},h.default.createElement("span",{className:"left-msg c-fs12 c-cf55"},s>c?"优惠券未到使用时间":e.balance?"还差 ¥ "+parseFloat(e.balance)+" 可用该券":"订单中无可用商品")))},a.state={couponData:{}},a}return C(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.usable_coupons,r=t.unusable_coupons,o=n&&n.map(function(t,a){return e.getDetail(t,a,!0)}),i=r&&r.map(function(t,a){return e.getDetail(t,a,!1)}),l=this.props.itemModal&&this.state.couponData.couponId.map(function(e,t){return h.default.createElement(b.OneItem,{key:t,data:e,val:!0,noLabel:!0})});return h.default.createElement("div",{className:"coupon-list"},this.props.itemModal&&h.default.createElement(_.NewModal,{isOpen:this.props.itemModal,title:"订单中可用商品",onClose:function(t){t.stopPropagation(),e.props.changeItemModal(!1)}},h.default.createElement("div",{className:"item-modal"},l,h.default.createElement("div",{className:"button-wrapper"},h.default.createElement("button",{className:"button",onClick:function(t){t.stopPropagation(),e.props.changeItemModal(!1)}},"确定")))),!(o.length+i.length)&&h.default.createElement("div",{className:"c-tc no-coupon"},h.default.createElement("img",{src:a("1GTC"),width:"100",height:"100"}),h.default.createElement("p",{className:"c-cc9 c-fs16 c-mt15"},"您没有相关优惠券哦")),o,!!i.length&&h.default.createElement("div",{className:"coupon-tip"},"本订单不可用的优惠券"),i)}}]),t}();t.default=(0,v.connect)(function(e,t){return p({},e.orderConfirm)},function(e,t){return{dispatch:e,changeItemModal:function(t){e(M("changeItemModal",{flag:t}))}}},function(e,t,a){var r=a.location.query.item_id,o=t.dispatch;return p({},e,t,a,{onSelectCoupon:function(e){e||(e={code:"",limit:"",desc:0}),o(function(t,a){var o=a().orderConfirm,i=(0,n.default)({amounts:o.initAmounts,cart:o.cart});k.default.request(p({},S.couponRecalculate,{data:{hbCodes:(0,n.default)(o.initRedPackets),couponCode:e.code,orderData:i}})).then(function(a){var n=a.data;t(M("initialDataUpdate",{data:n.data.amounts,cartTicket:n.data.cartTicket})),t(M("resetRedPacket",{data:n.data.hbList})),t(M("selectCoupon",{couponSelect:e})),g.browserHistory.replace(w.DIR+"/orderConfirm?"+(+r?"item_id="+r:"mode=cart_buy"))}).catch(function(e){E.tip.show({msg:e.response.data.message||"服务器繁忙"}),console.error(e)})})}})})(T)}).call(this,a("OOjC"))},ybQ1:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),o=s(a("OvRC")),i=s(a("pFYg")),l=s(a("C4MV"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a("U7vG"),d=f(u),p=f(a("mtWM"));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.phoneHandle=function(e){a.phone=e.target.value},a.pwHandle=function(e){a.pw=e.target.value},a.submitHandle=function(){""!==a.phone&&11===a.phone.length&&""!==a.pw?p.default.request({url:"/account/user/login",method:"post",headers:{domain:".tairanmall.com"},data:"phone="+a.phone+"&password="+a.pw}).then(function(e){alert("登录成功"),window.history.back()}).catch(function(e){alert("登录失败")}):alert("账号密码不正确")},a.resetPW=function(){p.default.request({url:"/account/user/reset/password/login_password",method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"phone="+a.phone+"&newPassword="+a.pw+"&smsCode=1311&type=thw_sms_dlmm"}).then(function(e){alert("重置成功")}).catch(function(e){})},a.registerAccount=function(){p.default.request({url:"/account/user/register",method:"post",data:"phone="+a.phone+"&password="+a.pw+"&smsCode=1311"}).then(function(e){alert("注册成功")})},a.phone="",a.pw="",a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"fun1",value:function(e,t){console.log(e+t)}},{key:"fun2",value:function(){console.log(2)}},{key:"fun3",value:function(){console.log(3)}},{key:"fun4",value:function(){console.log(4)}},{key:"fun5",value:function(){console.log(5)}},{key:"componentWillMount",value:function(){"http:"!==window.location.protocol&&window.location.replace("https://wx.tairanmall.com/home/index")}},{key:"unBindWeixin",value:function(){p.default.request({url:"/account/user/oauth/bind/weixin",method:"delete"}).then(function(e){alert("解绑成功")})}},{key:"loginOut",value:function(){p.default.request({url:"/account/user/logout",method:"post"}).then(function(e){alert("退出成功")})}},{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4"}},d.default.createElement("div",{style:{textIndent:"20px",fontSize:"18px",color:"blue"}},"登录"),d.default.createElement("br",null),d.default.createElement("div",null,"手机号：",d.default.createElement("input",{type:"text",placeholder:"请输入手机号",onInput:this.phoneHandle})),d.default.createElement("br",null),d.default.createElement("div",null,"密码：",d.default.createElement("input",{type:"password",placeholder:"请输入密码",onInput:this.pwHandle})),d.default.createElement("br",null)),d.default.createElement("div",null,d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4",padding:"20px"}},d.default.createElement("button",{style:{width:"100px",background:"#ccc"},type:"button",onClick:this.submitHandle},"登录")),d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4",padding:"20px"}},d.default.createElement("button",{style:{width:"100px",background:"#ccc"},type:"button",onClick:this.resetPW},"重置密码")),d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4",padding:"20px"}},d.default.createElement("button",{style:{width:"100px",background:"#ccc"},type:"button",onClick:this.registerAccount},"注册账号"))),d.default.createElement("div",null,d.default.createElement("div",{style:{textIndent:"20px",fontSize:"18px",color:"blue"}},"无表单"),d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4",padding:"20px"}},d.default.createElement("button",{style:{width:"100px",background:"#ccc"},type:"button",onClick:this.unBindWeixin},"微信解除授权")),d.default.createElement("div",{style:{borderBottom:"1px solid #f4f4f4",padding:"20px"}},d.default.createElement("button",{style:{width:"100px",background:"#ccc"},type:"button",onClick:this.loginOut},"退出登录"))))}}]),t}();t.default=m},yskz:function(e,t,a){e.exports={"drop-refresh":"_13mjZtdgxRJDf85JW6FtUf","drop-btm":"_3hUexq10xoTwDyXsXRq7G9",loading:"_2veTnQKsdbWk4iyX5Oa2DF"}},yxlI:function(e,t,a){"use strict";(function(e){var n=d(a("Xxa5")),r=d(a("Zx67")),o=d(a("kiBT")),i=d(a("OvRC")),l=d(a("pFYg")),s=d(a("//Fk")),c=d(a("C4MV")),u=d(a("woOf"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p=u.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a("U7vG"),h=x(m),g=a("4n+p"),v=a("Zfgq"),y=a("f2Hk"),_=a("NUeF"),E=a("d2xe"),b=a("mskG"),w=a("fw66"),k=x(a("qAHI")),A=a("f2t5"),N=a("5qLU");function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}var T={submit:{url:N.WXAPI+"/user/sold/apply",method:"post"},soldorder:{url:N.WXAPI+"/user/sold/goods-order",method:"get"},compressPhoto:{url:N.WXAPI+"/uploadImage",method:"post"}},I=(0,y.concatPageAndType)("afterSaleApply"),P=(0,y.concatPageAndType)("popup"),O=(0,y.actionAxios)("afterSaleApply"),D={restore:{0:"请选择",1:"商品与描述不符",2:"商品错发漏发",3:"收到商品破损",4:"商品质量问题",5:"个人原因退货",6:"其他"},refund:{0:"请选择",1:"商品与描述不符",2:"商品错发漏发",3:"收到商品破损",4:"商品质量问题",5:"个人原因退货",6:"未收到货",7:"商品问题已拒签",8:"退运费",9:"其他"}},L=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"componentWillMount",value:function(){var e=this.props.location.query.tid;this.props.resetData(),this.props.dispatch(O("getData",p({},T.soldorder,{params:{order_good_no:e}})))}},{key:"render",value:function(){var e=this.props,t=e.refund,a=e.popup,n=e.ctrlPopup,r=e.listType,o=e.reason,i=e.typeChange,l=e.hidePopup,s=e.popupShow,c=e.reasonChange,u=(e.moneyChange,e.describeChange),d=e.dispatch,p=e.applySubmit,f=e.prompt,m=e.promptClose,g=e.load,v=e.data,y=v.payment,b=v.is_gift;return h.default.createElement("div",{"data-page":"after-sale-apply"},g?h.default.createElement(E.LoadingRound,null):h.default.createElement("div",null,h.default.createElement(j,{refund:t,typeChange:i,listType:r,reason:o,reasonChange:c}),h.default.createElement(B,{payment:y,refund:t,ctrlPopup:n,listType:r,reason:o,data:v,dispatch:d,is_gift:b}),h.default.createElement(R,{changeHandle:u}),h.default.createElement(U,{dispatch:d,submitHandle:p}),h.default.createElement(q,{popup:a,listData:_.popupData[a],listType:r,reason:o,hidePopup:l,show:s,reasonChange:c,typeChange:i}),h.default.createElement(w.PopupTip,{active:f.show,msg:f.msg,onClose:m})))}}]),t}(),j=function(t){function a(){var t,n,o;C(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=o=S(this,(t=a.__proto__||(0,r.default)(a)).call.apply(t,[this].concat(l))),o.checkAftertype=function(t){var a=o.props,n=a.typeChange,r=a.reasonChange,i=a.refund;"退货退款"==e(t.target).text()&&1==i||(!e(t.target).hasClass("current-yesround")&&r(0),e(t.target).addClass("current-yesround").siblings().removeClass("current-yesround"),n(e(t.target).attr("data-type")))},S(o,n)}return M(a,m.Component),f(a,[{key:"componentDidMount",value:function(){var t=this.props,a=t.refund,n=t.typeChange;1==a&&(n("refund"),e(".current-noround").addClass("current-yesround"))}},{key:"render",value:function(){var e=this,t=void 0;return t=0==this.props.refund?_.popupData.type.list:_.popupData.type.onlylist,h.default.createElement("section",{className:"apply-section"},h.default.createElement("div",{className:"type-container"},h.default.createElement("div",null,"售后类型"),h.default.createElement("div",{className:"after-type"},t.map(function(t,a){return h.default.createElement("i",{key:t.select,"data-type":t.select,className:"current-noround",onClick:function(t){e.checkAftertype(t)}},t.method)}))))}}]),a}(),B=function(t){function n(t){C(this,n);var a=S(this,(n.__proto__||(0,r.default)(n)).call(this,t));return a.changeAmout=function(t){var n=t.target.value,r=a.props.dispatch;a.setState({num:(n.match(/^(\d)*\.?\d*$/)||[""])[0]},function(){r(I("changeMoney",{money:e("#logiCode").val()}))})},a.state={num:a.props.payment},a}return M(n,m.Component),f(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.refund,r=t.ctrlPopup,o=t.reason,i=t.listType,l=t.data,s=l.num,c=l.primary_image,u=l.spec_nature_info,d=l.title,p=l.payment,f=l.freight,m=l.is_gift;return h.default.createElement("section",{className:"apply-section"},h.default.createElement("div",{className:"list-body"},h.default.createElement("div",{className:"list-img"},h.default.createElement(v.Link,null,h.default.createElement("img",{src:c?(0,A.addImageSuffix)(c,"_s"):a("VM8K")}))),h.default.createElement("div",{className:"list-body-ctt"},h.default.createElement("div",{className:"order-info-detail"},h.default.createElement("div",{className:"order-info-top"},h.default.createElement(v.Link,{className:"order-info-title"},d),h.default.createElement("div",{className:"info-price"},h.default.createElement("div",{className:"order-info-type"},u),h.default.createElement("div",{className:"right"},"×",s)))))),h.default.createElement("div",null,h.default.createElement("div",{className:"logic logic-company"},h.default.createElement("span",null,"退款原因："),h.default.createElement("input",{type:"text",placeholder:"请选择",maxLength:"20",value:"SELECT"===i?"请选择":D[i][o],disabled:!0}),h.default.createElement("span",{onClick:r.bind(null,"reason",!0)},h.default.createElement("img",{src:"/src/img/icon/arrow/arrow-right-m-icon.png",width:"10"}))),h.default.createElement("div",{className:"logic logic-order"},h.default.createElement("span",null,"退款金额：￥"),h.default.createElement("input",{type:"text",id:"logiCode",readOnly:1==n||m,value:this.state.num,onChange:function(t){e.changeAmout(t)},placeholder:"最多可退￥"+p+"元",maxLength:"9",name:"amount"})),h.default.createElement("div",{className:"limit-money"},"最多可退￥"+p+"元","含运费￥"+f)))}}]),n}(),R=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"apply-section"},h.default.createElement("section",{className:"apply-detail"},h.default.createElement("h3",null,"详细说明"),h.default.createElement("div",{className:"area"},h.default.createElement("textarea",{name:"description",placeholder:"最多200字",maxLength:"200",onBlur:this.props.changeHandle}))))}}]),t}(),U=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){return h.default.createElement("section",{className:"apply-section"},h.default.createElement("div",{className:"apply-detail"},h.default.createElement("h3",null,"申请凭证"),h.default.createElement(F,{maxLength:3,dispatch:this.props.dispatch,submitHandle:this.props.submitHandle})))}}]),t}(),F=function(t){function a(t){var o=this;C(this,a);var i,l,u=S(this,(a.__proto__||(0,r.default)(a)).call(this,t));return u.choosePhoto=(i=n.default.mark(function t(a,r){var i,l,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.props.dispatch,l=r.files[0],/^image\/(jpg|png|jpeg|bmp)$/.test(l.type)){t.next=5;break}return i(P("ctrlPrompt",{prompt:{show:!0,msg:"亲，请上传jpg/png/jpeg/bmp格式的图片哦~"}})),t.abrupt("return");case 5:if(!(l.size>=5242880)){t.next=8;break}return i(P("ctrlPrompt",{prompt:{show:!0,msg:"亲，请上传小于5M的图片哦~"}})),t.abrupt("return");case 8:return u.selectIndex=a,t.next=11,(0,b.compress)(l);case 11:s=t.sent,u.changeMask(!0),k.default.request(p({},T.compressPhoto,{data:{img:s}})).then(function(t){u.changeMask(!1),u.changePhoto(t.data.data.file.complete_url,t.data.data.file.url),e("#imgfile").val("")}).catch(function(e){i(P("ctrlPrompt",{prompt:{show:!0,msg:"图片上传失败"}})),u.changeMask(!1)});case 14:case"end":return t.stop()}},t,o)}),l=function(){var e=i.apply(this,arguments);return new s.default(function(t,a){return function n(r,o){try{var i=e[r](o),l=i.value}catch(e){return void a(e)}if(!i.done)return s.default.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});t(l)}("next")})},function(e,t){return l.apply(this,arguments)}),u.changePhoto=function(e,t){var a=u.state,n=a.imgArr,r=a.subArr;u.selectIndex>=n.length?(n.push(e),r.push(t),u.setState({imgArr:n,subArr:r}),u.props.dispatch(I("setImgArr",{imgArr:n})),u.props.dispatch(I("setsubImgArr",{subArr:r}))):(n[u.selectIndex]=e,r[u.selectIndex]=t,u.setState({imgArr:n,subArr:r}),u.props.dispatch(I("setImgArr",{imgArr:n})),u.props.dispatch(I("setsubImgArr",{subArr:r})))},u.changeMask=function(e){u.setState({mask:e})},u.deletePhoto=function(e){var t,a,n,r=u.state,o=r.imgArr,i=r.subArr;o.splice(e,1),i.splice(e,1),u.setState((n=i,(a="subArr")in(t={imgArr:o,subArr:i})?(0,c.default)(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t)),u.props.dispatch(I("setImgArr",{imgArr:o})),u.props.dispatch(I("setsubImgArr",{subArr:i}))},u.state={imgArr:[],subArr:[],mask:!1},u.maxLength=t.maxLength||3,u.selectIndex=0,u}return M(a,m.Component),f(a,[{key:"render",value:function(){var e=this,t=this.props.submitHandle;return h.default.createElement("div",{className:"multi-img-choose c-clrfix"},this.state.imgArr.map(function(t,a){return h.default.createElement("form",{className:"photo",key:a},h.default.createElement("img",{src:t}),h.default.createElement("input",{type:"file",name:"file",onChange:function(t){return e.choosePhoto(a,t.target)}}),h.default.createElement("i",{className:"red-delete-icon",onClick:function(t){return e.deletePhoto(a)}}," "))}),this.state.imgArr.length<this.maxLength&&h.default.createElement("form",{className:"photo"},h.default.createElement("img",{src:"/src/img/afterSale/voucher-img.png"}),h.default.createElement("input",{type:"file",name:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",id:"imgfile",onChange:function(t){return e.choosePhoto(e.state.imgArr.length,t.target)}}),this.state.mask&&h.default.createElement("div",{className:"img-mask"},"图片上传中")),h.default.createElement(H,{mask:this.state.mask,submitHandle:t}))}}]),a}(),H=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.mask,a=e.submitHandle;return h.default.createElement("div",{className:"btm-btn colour-btn",onClick:function(){a(t)}},"提交申请")}}]),t}(),q=function(e){function t(){return C(this,t),S(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return M(t,m.Component),f(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.listData,n=t.popup,r=t.listType,o=t.reason,i=t.show,l="";return"reason"===n&&(l=a.list[r].map(function(t,a){return h.default.createElement("div",{className:"list",key:"reason-"+a,onClick:function(a){return e.props.reasonChange(t.select)}},h.default.createElement("div",{className:"one"},t.content),t.select==o&&h.default.createElement("i",{className:"current-yesround-icon"}," "))})),h.default.createElement("div",null,i&&h.default.createElement(E.Shady,{clickHandle:this.props.hidePopup}),h.default.createElement("div",{className:"total-popup "+(i?"active":"")},h.default.createElement("div",{className:"popup-top"},i&&a.title,h.default.createElement("i",{className:"black-close-icon",onClick:this.props.hidePopup}," ")),h.default.createElement("div",{className:"popup-body"},l)))}}]),t}();t.default=(0,g.connect)(function(e,t){return p({},e.popup,e.afterSaleApply)},function(e,t){var a=t.location.query,n=a.tid,r=a.refund;return{dispatch:e,resetData:function(){e(I("resetData",{query:{tid:n,listType:(Number(r),"SELECT"),refund:void 0!==r?Number(r):""}}))},moneyChange:function(t){e(I("changeMoney",{money:t.target.value.trim()}))},describeChange:function(t){e(I("changeDescribe",{description:t.target.value.trim()}))},ctrlPopup:function(t,a){e("reason"===t?function(e,n){"SELECT"===n().afterSaleApply.listType?e(P("ctrlPrompt",{prompt:{show:!0,msg:"请选择售后类型"}})):e(I("ctrlPopup",{popup:t,show:a}))}:I("ctrlPopup",{popup:t,show:a}))},reasonChange:function(t){e(I("reasonChange",{reason:t}))},typeChange:function(t,a){e(I("typeChange",{listType:t,reasonList:a}))},hidePopup:function(){e(I("hidePopup",{show:!1}))},promptClose:function(){e(P("ctrlPrompt",{prompt:{show:!1,msg:""}}))}}},function(e,t,a){var n=!1,r=t.dispatch;return p({},e,t,a,{applySubmit:function(t){if(!n)if("SELECT"!==e.listType)if(0!=e.reason)if(/^(\d)*\.?\d*$/.test(e.money)&&e.money){if(e.data.is_gift){if(parseFloat(e.money)<0)return void r(P("ctrlPrompt",{prompt:{show:!0,msg:"退款金额不能小于0.00"}}))}else if(parseFloat(e.money)<.01)return void r(P("ctrlPrompt",{prompt:{show:!0,msg:"退款金额不能小于0.01"}}));parseFloat(e.money)>parseFloat(e.paymentLarg)?r(P("ctrlPrompt",{prompt:{show:!0,msg:"超出最多可退金额"}})):t?r(P("ctrlPrompt",{prompt:{show:!0,msg:"正在上传图片，请稍候提交"}})):(n=!0,k.default.request(p({},T.submit,{data:{order_good_no:e.tid,type:e.listType,reason:D[e.listType][e.reason],amount:e.money,remark:e.description,images:e.subArr}})).then(function(e){r(P("ctrlPrompt",{prompt:{show:!0,msg:e.data.message||"申请成功"}})),setTimeout(function(){v.browserHistory.replace("/afterSale/list")},1e3)}).catch(function(e){throw r(P("ctrlPrompt",{prompt:{show:!0,msg:e.response.data.message||"网络繁忙！"}})),n=!1,new Error(e)}))}else r(P("ctrlPrompt",{prompt:{show:!0,msg:"请输入正确的退款金额"}}));else r(P("ctrlPrompt",{prompt:{show:!0,msg:"请选择退款原因"}}));else r(P("ctrlPrompt",{prompt:{show:!0,msg:"请选择售后类型"}}))}})})(L)}).call(this,a("OOjC"))},zRnA:function(e,t,a){"use strict";var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,d=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),m=(u=f)&&u.__esModule?u:{default:u},h=a("4n+p"),g=a("f2Hk"),v=a("d2xe"),y=a("5qLU"),_=a("NUeF");function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var k=(0,g.concatPageAndType)("consultrecord"),A=(0,g.actionAxios)("consultrecord"),N={init:{url:y.WXAPI+"/user/sold/info",method:"get"}},x=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,f.Component),p(t,[{key:"componentWillMount",value:function(){this.props.resetData(),this.props.getData()}},{key:"render",value:function(){var e=this.props,t=e.load,a=e.data,n=a.type,r=a.status,o=a.updated_at;return m.default.createElement("div",{"data-page":"after-consult-record"},t?m.default.createElement(v.LoadingRound,null):m.default.createElement("div",null,m.default.createElement("h5",{className:"newest-info"},"最新消息来源于 ",o),70==r&&m.default.createElement(T,null),80==r&&m.default.createElement(I,null),20==n&&/20|30/.test(r)&&m.default.createElement(P,{data:a}),20==n&&/20|30|50/.test(r)&&m.default.createElement(M,{data:a}),70!=r&&10!=r&&m.default.createElement(S,{data:a}),m.default.createElement(O,{data:a}),m.default.createElement(C,{data:a})))}}]),t}(),C=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data.shop.attr;return m.default.createElement(v.CustomerService,{className:"save",shopAttr:e},m.default.createElement("button",{className:"btm-btn  colour-btn"},"联系客服"))}}]),t}(),S=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data,t=e.status,a=e.type,n=e.refund_amount,r=e.nod_remark,o=e.delivery;return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"商家"),10==a&&/20|30/.test(t)&&m.default.createElement("div",null,m.default.createElement("h3",null,"同意售后申请"),m.default.createElement("div",{className:"aftersale-text"},"退款金额 ：￥",n)),/10|20/.test(a)&&10==t&&m.default.createElement("div",{className:"aftersale-text"},"待审核"),20==a&&/20|30|40|50|80/.test(t)&&!!o&&m.default.createElement("div",null,m.default.createElement("h3",null,"同意售后申请并给出回寄信息"),m.default.createElement("div",{className:"aftersale-text"},"收货人 ：",o.receiver.name),m.default.createElement("div",{className:"aftersale-text"},"联系电话 ：",o.receiver.mobile),m.default.createElement("div",{className:"aftersale-text"},"收货地址 ：",o.receiver.address)),60==t&&m.default.createElement("div",null,m.default.createElement("h3",null,"商家驳回售后申请")),r&&m.default.createElement("div",{className:"aftersale-text"},"商家留言 ：",r))}}]),t}(),M=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data,t=e.delivery,a=e.status,n=t.sender,r=n.corp_name,o=n.delivery_no;return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"用户"),m.default.createElement("h3",null,"寄回商品"),/30|50|20/.test(a)&&m.default.createElement("div",null,m.default.createElement("div",{className:"aftersale-text"},"物流公司 ：",r),m.default.createElement("div",{className:"aftersale-text"},"物流单号 ：",o)))}}]),t}(),T=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,f.Component),p(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"用户"),m.default.createElement("h3",null,"用户撤回售后申请"))}}]),t}(),I=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,f.Component),p(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"用户"),m.default.createElement("h3",null,"用户超时填写物流"))}}]),t}(),P=function(e){function t(){return E(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return w(t,f.Component),p(t,[{key:"render",value:function(){var e=this.props.data.refund_amount;return m.default.createElement("div",{className:"common-container"},m.default.createElement("h2",null,"商家"),m.default.createElement("h3",null,"收到货并操作退款"),m.default.createElement("div",{className:"aftersale-text"},"退款金额 ：￥",e))}}]),t}(),O=function(e){function t(e){E(this,t);var a=b(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.showBigPicture=function(e){a.setState({imgSrc:e.target.src,bigShow:!0})},a.hideBigPicture=function(){a.setState({imgSrc:"",bigShow:!1})},a.state={imgSrc:"",bigShow:!1},a}return w(t,f.Component),p(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=t.images,n=t.user_remark,r=t.reason,o=t.type,i=t.apply_amount,l=[];return a&&(l=a),m.default.createElement("div",{className:"common-container",style:{paddingBottom:"80px"}},m.default.createElement("h2",null,"用户"),m.default.createElement("h3",null,"发起售后申请"),m.default.createElement("div",{className:"aftersale-text"},"售后类型 ：",_.asTypes[o]),m.default.createElement("div",{className:"aftersale-text"},"退款金额 ：￥",i),m.default.createElement("div",{className:"aftersale-text"},"退款原因 ：",r),n&&m.default.createElement("div",{className:"aftersale-text"},"详细说明：",n),a?m.default.createElement("div",{className:"img"},l.map(function(t,a){return m.default.createElement("img",{className:"img-voucher",src:t,key:a,width:"75",height:"75",onClick:e.showBigPicture})})):"",l&&this.state.bigShow?m.default.createElement("div",null,m.default.createElement(v.Shady,{clickHandle:this.hideBigPicture}),m.default.createElement("div",{onClick:this.hideBigPicture,className:"big-picture"},m.default.createElement("img",{src:this.state.imgSrc}))):"")}}]),t}();t.default=(0,h.connect)(function(e,t){return d({},e.consultrecord)},function(e,t){var a=t.location.query.oid;return{dispatch:e,getData:function(){e(A("getData",d({},N.init,{params:{after_sale_bn:a}})))},resetData:function(){e(k("resetData"))}}},function(e,t,a){return t.dispatch,d({},e,t,a)})(x)},zZzN:function(e,t,a){e.exports={invalidItem:"_3NZsbFTC6y63dX3xSslrCE",checkbox:"_3VkoCGjZP3JV8TGT2X2-KW",itemInfo:"_1nAOnUVFFPCViil-2n9P2n",itemImg:"_2UxldQwNdzZmBkeadZXzm8",imgNoItem:"_7udqVGhUfn_YHt-09yQZ2",itemDetail:"-GwSuBwFCH_ebc-xqUSR3",title:"_1KFCaD_kdQO_O_uBloT7f6",itemCtrl:"_55HwUfKXmvnBn7g22jBA-",text:"_1xRAW1rPCQH0OEmDVaUEnn",textDetail:"_2y0sILf5JMXnZX6ZYQyoCk",delete:"HH9fyy4uWNEG4MIHxvPck",collect:"TYJF8zTKgjWwxe_cHKJwe",redArrowIcon:"_1apPAry7OtpFYUgdXRJXyo"}},zpSi:function(e,t,a){"use strict";(function(e){var n=c(a("Zx67")),r=c(a("kiBT")),o=c(a("OvRC")),i=c(a("pFYg")),l=c(a("C4MV")),s=c(a("woOf"));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LinkOrA=t.DropDownLoad=t.HOCPopup=void 0;var u=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a("U7vG"),f=g(p),m=g(a("O27J")),h=a("Zfgq");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}a("0WfC"),a("Hprb");t.HOCPopup=function(e){return function(t){function a(e){v(this,a);var t=y(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.existence=!1,t.openPortal=t.openPortal.bind(t),t.renderPortal=t.renderPortal.bind(t),t.closePortal=t.closePortal.bind(t),t}return _(a,p.Component),d(a,[{key:"renderPortal",value:function(t){t.active?(document.body.appendChild(this.node),this.existence=!0,m.default.unstable_renderSubtreeIntoContainer(this,f.default.createElement(e,u({},t,{onClose:this.closePortal})),this.node)):this.existence&&(m.default.unmountComponentAtNode(this.node),document.body.removeChild(this.node),this.existence=!1)}},{key:"openPortal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.renderPortal(e)}},{key:"closePortal",value:function(){this.props.onClose()}},{key:"unMountPortal",value:function(){this.existence&&document.body.removeChild(this.node)}},{key:"componentDidMount",value:function(){this.node=document.createElement("div"),this.openPortal()}},{key:"componentWillUpdate",value:function(e){this.renderPortal(e)}},{key:"componentWillUnmount",value:function(){this.unMountPortal()}},{key:"render",value:function(){return null}}]),a}()},t.DropDownLoad=function(t){return function(a){function r(e){return v(this,r),y(this,(r.__proto__||(0,n.default)(r)).call(this,e))}return _(r,p.Component),d(r,[{key:"componentDidMount",value:function(){this.props.didMount&&this.props.didMount(),this.dropLoad=e(this.refs.list).dropload({scrollArea:this.props.scrollArea,loadDownFn:this.props.dropDown})}},{key:"componentWillUnmount",value:function(){this.dropLoad.remove()}},{key:"render",value:function(){return f.default.createElement("div",{"data-comp":"drop-down-load",ref:"list"},f.default.createElement(t,this.props))}}]),r}()},t.LinkOrA=function(e){function t(){return v(this,t),y(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return _(t,p.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.className,n=e.link;return"link"===t?f.default.createElement(h.Link,{to:n,className:a},this.props.children):f.default.createElement("a",{href:n,className:a},this.props.children)}}]),t}()}).call(this,a("OOjC"))}},[[53,28,2]]]);